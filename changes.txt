History of Miriad program changes:-
MPLOT	31aug89 mchw - Changed header items in annotation.
test.csh  Sept 1989  mchw  New script to test uv linetypes and imaging.
#    3nov89	mchw	added other line types
#    8nov89	mchw	added some more stuff
#   22Feb90	mchw	revised into one test script
#   14may90	mchw	added more tests and deleted previous junk* diff*
MATHS	14sep89 mchw - added output file to history.
HATMAP	21sep89 mchw - cdelt3 declared double; counter sequence fixed.
UVHAT	28sep89 mchw - swapped antenna order and conjugated the data
			    to follow the FITS convention ant1 < ant2
UVGEN	28sep89 mchw - write wideband data option, made baseout double,
			fixed output to terminal, changed name to uvgen
IMADD	10oct89 mchw - initial version
HATMAP	24oct89 mchw - Put ctype and bunit into header
FITS	24oct89 mchw - Converted units of bmaj, bmin in xyin and xyout
UVHAT	26oct89 mchw - made subroutines to read oldhat and newhat uvdata
			and cleaned up the code and documentation.
UVLIST	31oct89 mchw - fixed bugs, converted units and used amphase routine.
UVSPECT 31oct89 mchw - Original version.
UVSPECT 03nov89 mchw - added some options and removed some bugs.
PGHLINE 03nov89 mchw - Histogram line plot for pgplot.
HISTO	03nov89 mchw  changed 'All pixels constant' to Fortran stop
UVHATMAP 3nov89 mchw - Added other line types
UVLIST	 6nov89 mchw - Added "spec" option to list spectral windows
UVPRT	 6nov89 mchw - Added title line, list days since 1980, use keyword vis
UVLIST1  8nov89 mchw - add ra to header list; corrected sign of velocity incr.
UVHATMAP 8nov89 mchw - Added a bunch more stuff.
FITGAINS 13Apr90 mchw  New program to fit gains.
UVHAT	 mchw 18Apr90  Added wsystemp and wflags and wrote wcorr using uvwwrite.
			Converted plmaj, plmin to arcsec.
FITGAINS  2May90 mchw  Minor mods.
IMLIST	 03may90 mchw	Re-write to add region of interest, and logfile
	  mchw	4may90	 added options, and history. The default is map header.
	  mchw	9may90	converted units for bmaj,bmin to arcsec.
	  wh	15may90 fix sun-specific bug involving writeit
BOXES	  mchw	7may90	Corrected the documentation at head of program.
IMPLOT	  8may90 mchw	Many changes to mplot; new version called ImPlot.
UVHAT	 mchw  8may90	Added version to history. Improved some comments.
UVHAT	 mchw 11may90	Corrected dra,ddec in oldhat (newhat was OK)
INVERT	 mchw  21may90	Better error messages.
UVSPECT  25may90 mchw	Added cursor position, other options, and help.
HISTO	 26may90 mchw	changed rms to rms deviation from the mean.
UVMODEL   mchw 26may90	Corrected code in main and WindUpd for model image.
IMLIST	 mchw  6jun90	Better checks on number of image axes (naxis).
	 mchw  6jun90	Added statistics option.
IMPLOT	11may90 mchw	Added cursor routine.
	15jun90 mchw	Corrected translation array. Added log file.
			Draw region of interest box with cursor routine.
VELPLOT 25may90 mchw	Major rebuild using Miriad user interface.
			Removed Ralint subroutines, mapio etc.
UVSPECT 25may90 mchw	Added cursor position, other options, and help.
	15jun90 mchw	Removed pgqinf test for cursor.
			Put pgend inside replot loop in Plotit.
IMLIST	 mchw 20jun90	Allowed for transposed images. Special case for naxis=2.
RESTORE  mchw 20jun90	Added linetype keywords to output image header.
IMSUB	 mchw 20jun90	Copied across bmaj,bmin,bpa keywords.
REORDER  mchw 20jun90	Added some header keywords.
IMCAT	 20jun90 mchw	Copied across beam and linetype keywords.
xyx.csh  20jun90 mchw	new script to test tasks invert clean restore
				 imsub imcat reorder fits moment
MOMENT	 25jun90 mchw  Major update and rework to allow for other image axes.
			Fixed a bug for 2nd and higher moments.
IMPLOT	 23jun90 mchw Changes to accomodate transposed images.
	 28jun90 mchw Used AxisType subroutine. Changed default to batch
			 since interactive cursor handling is so poor.
ELLINT	 mchw  26jun90	Miriad version.
IMLIST	 mchw 26jun90	 Standardized image analysis subroutines.
UVSPECT  26jun90 mchw - Trap for char(0) and infinite loop from pgcurse.
	 28jun90 mchw - Changed default mode=batch. Cursor needs work.
			    Cursor handling is device dependent.
UVPLT	 mchw 28jun90  Updated to use uvdata selection criteria.
c	 mchw 05jul90  Made standard uvheader.
c		     - add log file and comment.
UVPLOT	 mchw 02jul90  Update and fix a few things.
c	 mchw 05jul90  Changed average to time interval. Added comments.
c	 mchw 09jul90  Title for plot and logfile; 'title' keyword.
IMSPECT  mchw 05jul90  Merge xyvspec and vxyspec into ImSpect.
c		     - remove xaxis and averaging out of loop.
c		     - allow plot or ascii output, or both.
c		     - add title and comment to ascii output.
c		     - use standard region of interest.
c		     - add pixel blanking.
[MIRTH.SRC.SUBS.VIS]UVSUBS.FOR;8
c    mchw 06Jul90 corrected bug in oneamp and changed to degrees.
c  06Jul90  mchw  changed dimension of nschan,sdf to nspect.
INVERT	mchw  10Jul90  Worked on documentation.
CLEAN	mchw 11jul90 - Added header keywords and increased length of filenames.
SELFCAL  mchw  12jul90 documentation.
UVLIST	 16jul90 mchw - Message for nspect=0 in case user requests spectra.
RESTORE   mchw 17jul90	Increased filename lengths. Added version.
TVCLN	mchw 11jul90 - Added header keywords and increased length of filenames.
c	mchw 17jul90 - Added code to find beamsize if needed.
c	  jm 17jul90 - Changes for pan routines and call TvFlush.
[MIRTH.SRC.SUBS.VIS]MODEL.FOR;13
c   mchw  17jul90 increased frequency search range in CalGet since flux
update.com   20jul90  mchw	documentation.
decnet_update.com  20jul90  mchw changed copy to copy/replace. Documentation.
UVHAT	mchw 25jul90 - Write out ut and lst only if they have changed.
c	mchw 27jul90 - Added variables obsline winddir.
UVCAT	 mchw  16jul90	 Fixed a bug counting channels in windit.
c   mchw  27jul90   Copied across all the Miriad variables.
convert.csh  27jul90  mchw  new script to test uvdata conversions.
UVSPECT  31jul90 mchw - Changed source*8 to source*9 for uvgetvra.
UVPLOT	 mchw 26sep90  Fix a bug when same varname is repeated immediately.
IMCAT	 04oct90 mchw  Added crpix and cdelt keywords; removed crot
c		     check that cdelt, crpix and crval are consistent.
UVHAT	 wh    5oct90 - eliminate extra record in newhat.
c	mchw 16oct90 - convert autocorrelation data.
PUTHD	rjs  15oct90  Added option to append a description of the variable
c		    to vartable.
UVDAT	rjs  16oct90 Check for cross-correlation data when opening a new
c		data file.
UVIO	rjs  16oct90 Improved uv_override somewhat. Changed uv selection
c		so that ant1 can equal ant2 (autocorrelation data).	*/
SELFCAL rjs  16oct90 Check that the vis file is cross-correlation data.
UVCAT	rjs  16oct90   Checks that the data are consistently cross or
c		    autocorrelation data. Incorporated changes from
c		    mchw and bpw.
INVERT	rjs  16oct90  Checks that the data is cross-correlation data.
UVIO   rjs  17oct90 Handle selection by polarization and "on".
SELECT rjs  17oct90 Added Polarisation and "on" selection.
WRAP   rjs  17oct90   Corrected bug in hwritea.
FLINT  rjs  17oct90 Made -i synomous with -I for the sake of VMS. Made -I work
c		    on VMS.
UVCAT  rjs  18oct90   Added the "on" variable to the list to be copied
c		      across.
FITS   rjs  18oct90  Added uvset(..,'corr',..) call.
UVHAT  rjs/mchw 18oct90 Made sure autocorrelation data is stored as reals.
KEY    rjs/mchw 22oct90 Check for too long a parameter.
ARGS   rjs/mchw 22oct90 Fudge to return command name.
MODEL.FOR  rjs	 2nov90 Fixed bug affecting points where u=0, in ModPlane.
UVPLT	rjs   2nov90  Corrected documentation.
UVCAT	rjs   1nov90   Added the ability to copy only those data that
c		    have some data that are not flagged.
c   mchw   9nov90   Merged rjs versions with 18oct and 1 nov changes.
c			added uv-variables "evector" "pbfwhm" "npol"
UVHAT	mchw 09nov90  Added 'on' 'pbfwhm' 'npol' and 'evector' uv-variables.
INVERT	mchw 09nov90  Added pbfwhm to map header.
IMCAT	mchw 09nov90  Added pbfwhm to map header.
IMSUB	mchw 09nov90  Added pbfwhm to map header.
LINMOS	mchw 09nov90  Added pbfwhm to map header.
DEMOS	mchw 09nov90  Added pbfwhm to map header.
GETPB	mchw 09nov90  Added pbfwhm to map header.
CLEAN	mchw 09nov90  Added pbfwhm to map header.
RESTORE mchw 09nov90  Added pbfwhm to map header.
TVCLN	mchw 09nov90  Added pbfwhm to map header.
REORDER mchw 09nov90  Added pbfwhm to map header.
IMLIST	mchw 09nov90  Added pbfwhm to map header.
IMPLOT	mchw 09nov90  Added pbfwhm to map header.
MOMENT	13nov90 mchw  Added suport for xyv images, and pixel blanking.
c			Made 2nd moment work and removed higher moments.
MAXEN	mchw 25oct90 - Added default image and message level.
c			   Fixed bug in output map size in PutPlane.
MAXEN	mchw 14nov90 - Set minimum default level. Added pbfwhm to header.
ELLINT	mchw  15nov90	Use pbfwhm from image header if present.
c			Omit checks on 3rd axis parameters.
UVMODEL mchw 19nov90 Added option "imhead" to copy image header to uvvariables.
MODEL.FOR   mchw 19nov90 Added flag "h" to use image header for phase center.
MATHS	mchw 21nov90 - Added ltype description and pbfwhm to header.
BEE  mchw  13Apr90 New subroutine for BEE; adapted from FitGains
c    mchw  14Aug90 Cleaned up code.
c    mchw  26nov90 Allowed for visibility data not in time order.
FITGAINS  mchw	24nov90 Protected sqrt(negative)
c    mchw  12dec90 Removed maxdim.h, using larger maxant.
c			changed logwrite to logwrit.
-------------
 26nov90 nebk	zeesim.for: Changed contents of output file somewhat
		and fix bug with generation of first noise image.
  1dec90 nebk	boxspec.for: Small change to avoid compiler bug on a
		Convex.
  7dec90 rjs	flint.c:Added "finish comment" in flint.c
 11dev90 nebk	zeefake.for: Avoid divide by zero.
 11dev90 nebk	imspect.for: Fix normalizaton bug.
 12dec90 rjs	imdiff.for,imdiff.h: New task.
 14dec90 rjs	uvio.c: Fixed bug in uvread_select, handling the case when
		dra or ddec selection was used, but dra or ddec were
		missing.
 14dec90 nebk	smooth.for: Fixed an incorrect comment.
============================ Changes from Bob sent changes to Mark.
UVGEN 7nov90 rjs   Clean up, and addition of the "site" keyword, to
c		      simplify simulation of other telescopes. Improved
c		      documenation.
c    13nov90 rjs   More tidying.
c    28nov90 mchw  Minor patches and bugs.
c    05dec90 mchw  Added total power, and keywords harange and out.
c			Allowed filenames as specified in doc.
TPGAINS 11dec90 mchw - Estimate antenna gains from total power measurements.
UVINDEX 14dec90 mchw	Clean up and use LogWrit.
UVCHECK  mchw 20dec90  Check the range in selected uv-variables.
INVERT	mchw  20dec90  Added theoretical rms noise to history.
c			Minor docs and dots in AppWts.
HATFFT	mchw Dec90	Doc'd
c	rjs  20dec90	Fixed bug in the dowhile(j.lt.nbase) loop, and
c			in ffthc (related to updating the twiddle factor
c			array). Increased maxbase for some tests.
UVTRACK  24dec90 mchw  Convert to Miriad and PGPLOT.
IMPLOT	 02jan90 mchw Change plot window to allow for square device window.
FFT	 mchw 02jan91 Fixed unit conversion for cdelt's. Removed pi/180's.
MAXEN	 mchw 03jan91 - Increased Maxboxes to handle more complex region.
UVCHECK  mchw 03jan91  Check the range in uv coverage.
c	mchw 09jan91  Changed uvset so uvread returns number of channels.
UVINDEX  mchw 08jan91  List pointing centers.
============================ Update from Mark (BobS.21jan91).
 17dec90 nebk	cgplot.for: Increased size of ANNOT to 3 characters.
		Documentation changes.
 18dec90 rjs	imdiff.for: Replaced blc,trc with region.
 20dec90 rjs	fft.for: Check if N is larger than maxdim.
 21dec90 rjs	flint.c: Check for doubly declared variables. Better checking
		for redundant variables. Fixed bug concerning incorrect
		complaint about functions with 0 args.
 07jan91 nebk	zeefake.for: Avoid divide by zero again (slight change)
============================ Major update from Mark to Bob.
 08jan91 nebk	zeesim.for: Documented subroutines fully, changed some
		variable names (log files), fix default TRC(1,1) bug in USERIN
 08jan91 rjs	fitsio.for: Fixed bug which occurs when a single visibility
		will not fit into fitsio's buffer.
 09jan91 rjs	uvlist.for: Changed format statement to handle more than 999
		channels.
 09jan91 nebk	cgplot.for: COmbined a number of the inputs to reduce the
		large number of input parameters and introduce the standard
		region of interest.  Rearranged them a bit too.
 10jan91 rjs	invert.for: extra check for no visibilities to map.
 10jan91 rjs	flint.c:Better cross reference table.
 14jan91 nebk	cgplot.for: Deal with blanking.  Rearrange top-level code
 15jan91 nebk	smooth.for: Modify the way blanks are dealt with
 16jan91 rjs	model.for: Check for a zero model.
 18jan91 nebk	cgplot.for: Add second contour image
 20jan91 nebk	avmaths: combined ODEPTH and AVSUB into AVMATHS and removed
		the other two.	Deals correctly with blanks now too.
============================ Update from Mark (21jan91).
============================ Sent update to Mark (21jan91).
 22jab91 rjs	fits.for: Added op=print option.
 22jab91 nebk	cgplot.for: Make default plot device "?"
 22jan91 rjs	flint.c: Merged rjs and pjt changes.
 23jan91 rjs	ratty.c: Corrected documentation. Fixed bugs introduced in
		usage().
============================ Update from Mark (23jan91).
============================ Sent update to Mark (23jan91).
 23jan91 rjs	model.for: Fixed bug that crept in in Nov90
 24jan91 rjs	uvcat.for: Copied variables atten,comment,institut. Discarded
		variable obstype (now an item).
 25jan91 rjs	uvcat.for: Merged mchw and rjs versions (only differ in the
		variables being copied).
============================ Various updates from Mark (29jan91).
 30jan91 nebk	cgplot.for: Change DATA staement to F77 and spped
		up contours if no blanks
 30jan91 rjs	copyhd.for: New task. Copies items between data-sets.
 30jan91 rjs	flint.c: Fixed bug so it recognised + and - signs in complex
		numbers.
  4feb91 rjs	noise.for: Ability to set random number seed.
  4feb91 rjs	uvgen.for: Input start observing time. Changed keyword "polar"
		to "stokes".
============================ Some updates from Mark (6feb91)
  8feb91 rjs	uvio.c: Fixed various problems in uvread_amp.
  8feb91 rjs	sysdep.h: Convex definitions.
============================ Sent updates to Mark (8feb91).
 13feb91 rjs	iscoords.for,fitsio.for,luns.for,txtio.for(various versions)
		Changed getlun and freelun to lunget and lunfree, to avoid a
		name conflict.
 13feb91 rjs	string.for: Deleted getparm, to avoid a name conflict, and
		because it was not used anymore anyway.
============================= Various updates from Mark (15-19feb)
 22feb91 rjs	Installed all the new polarisation routines, and all the
		changes and new tasks this involves.
		ephem.for -- some simple precession, etc subroutines.
		fits.for -- Stokes handling, some other enhancements to
		  work better with AIPS.
		atlod.for,atlod.h -- Read AT data.
		fitsio.for,fitsio.h -- Eliminated calls to the LunGet, etc
		  routines.
		invert.for,invert.h -- Polarisation handling. Some other things
		  to appease Peter.
		lsqu.for -- Added another least squares solver.
		polcal.for -- Linear polarisation calibration task. Preliminary.
		pols.for -- Simplify dealing with polarisation codes to mnemonics
		  conversion.
		select.for,select.h -- Some changes for the select=time() format
		  and some inquiry facilities needed for polarisation handling.
		uvcat.for -- Added polarisation handling.
		uvdat.for,uvdat.h -- Major changes to accomodate polarisation
		  handling.
		uvfudge.for -- Generate dummy linear polarisation data.
		uvgen.for,uvgen.h -- Added polarisation capabilities.
		uvio.c -- A number of mostly minor changes and bug fixes, to
		  cope with obscure situations that apparently have never
		  happened.
		uvplt.for -- Much work by Neil, including adding polarisation
		  handling.
		uvplot.for -- Minor bug fix.
		wrap.c -- Added a new routine interface, needed by uvio.
  25feb91 rjs	fits.for -- ALlowed keywords of more than 7 characters in hdout.
  26feb91 rjs	fitsio.for -- Fixed bug I introduced on 22feb.
  28feb91 nebk	uvplt.for -- more work to add single baseline plots
   1mar91 rjs	fits.for -- More frequent parallactic angle computation. Lat/long
		for the VLA.
   1mar91 rjs	uvio.c -- silly bug in uvmark
   4mar91 rjs	tvdisp.for -- added options=zoom.
   4mar91 rjs	polcal.for -- Copied epoch in making the output. Write polgains
		table.
   4mar91 rjs	itemize.for -- Fixed bug when outputing complex items.
   4mar91 rjs	bug.for -- Bugno gives message for end-of-file now.
   5mar91 rjs	polapply.for -- New task to apply polarisation corrections.
   5mar91 rjs	uvio.c -- fixed bug in calculations for uvinfo(...,'sfreq',...)
		Avoided writing redundant u,v,bl,t. Different offset printing
		in the testbed program.
   5mar91 nebk	atlod.for -- Added XYPHASE array
   5mar91 nebk	cgplot.for -- atoi changes.
   6mar91 rjs	boxes.for -- some more comments.
   6mar91 rjs	select.for -- improved an error message.
   6mar91 nebk	cgplot.for -- Added epoch to full annotation
   8mar91 rjs	fits.for -- Fixed bug, in PolCheck, determining the max
		polarisation to copy.
  11mar91 rjs	uvmodel.for -- Some partial fixes to handle polarisation.
		A long way to go though.
  11mar91 rjs	uvio.c -- Do not write out variables that have not really
		changed. Also two bugs caught by lint!
  11mar91 nebk	cgplot.for,zeesim.for -- remove char*(*) from concatenations
		in subroutine calls
  12mar91 nebk	avmaths,cgplot,smooth,zeesim,zeestat  all had KEYA
		calls changed to KEYF for input files
  19mar91 rjs	uvio.c -- another bug discovered. Some comments impprovement.
  20mar91 rjs	uvgen.for -- Bug fixes in coramoth, and doc improvement.
============================= Sent update to Mark (20mar91)
  20mar91 rjs	clean.for -- Tolerate multiplane beams. Some changes to
		appease flint.
  20mar91 rjs	restore.for -- Tolerate multiplane beams.
  21mar91 rjs	uvio.c -- Better error message in uvgetvr.
============================= Sent update to Mark (21mar91)
  19mar91 rjs	uvdat.for -- Better default linetype. uvDatGti(..'pols'..)
		call.
  22mar91 rjs	uvio.c -- Some extra comments.
  25mar91 rjs	selfcal.for -- `relax' option and changes to appease flint.
  25mar91 rjs	uvmodel.for -- line= parameter.
  25mar91 nebk	uvplt.for
  26mar91 rjs	uvmodel.for -- Fixed line= parameter!
  26mar91 nebk	cgplot.for -- reinstated old DEGHMS.
  27mar91 rjs	uvio.c -- More comments, plus uvwflgwr routine.
  27mar91 rjs	wrap.c,wrap.h -- Added uvwflgwr routine.
  27mar91 rjs	unix/sun/wrap.{c,h} -- Added uvwflgwr routine.
============================= Sent update to Mark (27mar91)
  27mar91 rjs	deghms.for -- Corrected use of non-standard FORTRAN which
		was causing a problem on the Convex.
  27mar91 rjs	unix/convex/fft.for -- Convex-specific FFT routines.
		These are substantially faster than the generic ones.
		The generic fftrc and fftcr need work.
  15mar91 rjs	math.for -- Added a few extra routines, partly for need,
		partly for symmetry.
  27mar91 rjs	unix/unicos/math.for -- Made it compatible with the above.
  15mar91 rjs	invert.{for,h} -- Multi-freq synthesis. More efficient
		gridding. Multiple stokes parameters.
  28mar91 nebk	uvplt.for -- New OPTIONS AUTO, NOCROSS, and LOG
============================= From Mel's changes.txt (2apr91)
c------------------------------------------------------------------------
UVTRACK 20jan91 mchw  Added ifdef's for MONGO plot options on Vax.
c    25feb91 mjs   Changed references of atoi to atoif.
c    10mar91 mjs   Removed concatenated char*(*) variables in subr calls
c		   (not allowed on the cray).
UVINDEX  mchw 19mar91  Initialized some variables for cray. Added recnum.
UVCHECK  mchw 19mar91  Initialized some variables for cray.
UVLIST	18mar91 mchw - Fixed format in printhd so cray can handle long lines.
UVCAT  mchw 07mar91   Added passband option for planet observations.
c      mchw 19mar91   Added hanning option.
c    mchw 28mar91   Changes to handle processing options after window selection.
UVMODEL    rjs	11mar91 Copy "chi" variable, and change "npols" to "npol".
c    rjs  25mar91 Added "line" task parameter.
c    mchw 27mar91 Better bookkeeping in WindUpd. Added more variables.
c----------   update on ral 28 Mar 1991   ------------------------------------
============================= Received {28,29}mar91.toBobS and pgwork updates.
   2apr91 rjs	prog/fft.for -- Added some comments.
   3apr91 rjs	polcal.for -- Handle missing antennas.
============================= Received {01,02}apr91.toBobS
============================= Sent update to Mark.
   5apr91 rjs	model.for -- Some support for polarisations. Able to deal with
		models well off the phase center. Use Mem routines.
   5apr91 rjs	selfcal.for -- Simple mod to handle above changes.
   5apr91 rjs	fits.for -- Fixed a bug that crept in on 25Feb. Changed itoa to
		itoaf.
   5apr91 rjs	fits.for -- Fixed parallactic angle computation for AT. Added
		some special AT processing in uvin.
   8apr91 rjs	fits.for -- Added ORIGIN keyword to output FITS files, for
		pjt's sake.
   8apr91 rjs	mem.for -- New routines. Memory allocation and freeing.
   8apr91 rjs	convl.for -- To use memory allocation routines.
   8apr91 rjs	tvcln.for -- Avoid blank common. No other change.
   8apr91 rjs	convol.for -- Changes to use the new convl and mem routines.
   8apr91 rjs	clean.for -- Changes to use the new convl and mem routines. Also
		handles naxis4=1 better.
   8apr91 rjs	maxen.for -- Changes to use the new convl and mem routines.
   8apr91 rjs	plane.for -- Avoid use of blank common. Checks that maxdim
		not exceeded.
   8apr91 rjs	restore.for -- Changes to use the mem routines. Also handles
		multi-freq synthesis data, and naxis4=1 better.
   8apr91 rjs	maths.for -- Fixed bug which comes up with the number of
		planes in the input and output are different.
   9apr91 nebk	cgplot.for -- better static resource management
   9apr91 rjs	msss/window.c,local.c,header.h -- More functions in local mode.
   9apr91 rjs	mfclean.for -- New task.
  10apr91 rjs	imlist.for -- Handles higher dummy dimensions better.
  10apr91 rjs	msss/scrwrt.c,sockxf.c,header.h -- RZSCR operation.
  10apr91 rjs	msss/tv.for,tv.h -- Temporary change awaiting JimM to do proper
		job.
  10apr91 nebk	uvplt.for -- add OPTIONS=ZERO and EQUAL and XAXIS=UVPA
  11apr91 rjs	subs/unix/convex/fft.for,prog/shifty.for,prog/fits.for,
		subs/fitsio.for,subs/select.for -- changed itoa to itoaf, etc.
 ============================= Sent update to Mark (11apr91).
  15apr91 rjs	mathd.for,mathd.h -- Complete rewrite.
  16apr91 rjs	sysdep.h -- Replaced use of bcopy with memcpy. Left the
		bcopy/memcpy macro for _trace_ machines.
  16apr91 rjs	select.for,select.h -- Support for shadowing selection.
  16apr91 rjs	uvio.c -- Support for shadowing selection. Also always
		writes out wcorr in uvwwrite.
  17apr91 rjs	uvgen.for -- used uvwwrite rather than uvputvrc.
  1*apr91 nebk	hann.for -- rewrite so input overwritten by output
		boxspec.for -- change hanning call
		imspect.for  -- change hanning call
		zeesim.for  -- change hanning call
		uvplt.for   -- add OPTIONS=NANOSECONDS, add HANN,
			       fix bug with MKEYR
		cgplot.for  -- minor tidying
  18apr91 rjs	invert.for -- Documentation comment correction. Change to
		some common block usage (avoid blank common!).
  18apr91 rjs	uvio.c -- Slight change to uvset(...'corr'...).
  18apr91 rjs	fits.for -- Increased the length of a string buffer.
  19apr91 rjs	maxen.for -- Fixed bug in EntFunc (evaluating d2H) which
		apparently crept in on 25Oct90. Improved messages somewhat.
 ============================= Sent update to Mark (19apr91).
  19apr91 rjs	maxen.for -- More minor optimisations.
  19apr91 rjs	uvcat.for -- Fixed bug for options=nochan, that crept in
		about 20Feb91.
  23apr91 rjs	mathd.for -- Fixed string concatenation in sub argument.
  23apr91 rjs	invert.for -- Changed default number of maps to make.
  30apr91 rjs	subs/fft.for -- New versions, which are significantly faster
		on Suns than the old ones.
   1may91 rjs	invert.for -- Improved doc. Extra messages.
  06may91 nebk	pgt*.for -- New version of time labeling PG routines
		cgplot.for -- Adjust for new time routines
		uvplt.for -- Adjust for new time routines
 ============================= Mel's additions
GETBEAM    29apr91  mchw  Make cbof exact for Gaussian beam.
		- called by title called by ellint, imlist, imspect
ELLINT	mchw  07may91	Fix bug in center for reversed axes.
c    pjt   15may91	Fix bug in radius keyword (rstep->radius)
c    mchw  17may91	Add more info' to output.
MATHS mchw 17may91 - Added keyws 'bmaj','bmin','bpa' to header.
 =============================
  16may91 rjs	hisinput.for -- Handles -f files on command line.
  17may91 rjs	varplot.for,varplot.h - Rewrote the GetVals routine. Minor changes
		to the top level routine, and made it work for non-interactive
		devices.
  18may91 rjs	select.for -- Recognise upper case pols. Bug found by bpw when
		when using full name "polarization"
  18may91 rjs	uvdat.for -- Recognise upper case pols.
  18may91 rjs	pols.for -- Recognise upper case pols.
  19may91 rjs	atlod.for -- noapply option. Various mods dealing with the if_invert
		switch.
  20may91 rjs	uvcat.for -- Added xyphase to the list of variables to copy.
  20may91 rjs	fitgains.for -- Several minor mods and bug fixes.
  21may91 rjs	uvflag.for -- Changes to write the history correctly
  21may91 rjs	uvplot.for -- Plot time in hours.
  22may91 rjs	miriad.c -- Various changed to the local version, to steal
		pjt's updates.
  22may91 rjs	win.for -- Fixed flaw in WinSize which caused many unnecessary
		subroutine calls.
  22may91 nebk	uvplt.for -- Add STokes string to title, remove last
		PGPAGE call, add OPTIONS=NOCAL and use roman font
  23may91 rjs	uvgen.for -- Added polarisation leakage terms, "cycle", rise/set
		time warning.
   1may91 rjs	f2qud.for -- Original version.
  17may91 rjs	f2qud.for -- A working version.
  25may91 nebk	f2qud.for -- add some plots while rjs is away.
  02jun91 nebk	f2qud.for -- Fix convergence when gain only solution, and change
		to output all polarizations, even if no leakage
		solved for.  Add log file, remove history from input.
  03jun91 nebk	f2qud.for -- Change default output file to corrected data.
		Add option "NOLEAKCORR"
  23may91 rjs	paraplot.for -- task to plot parallactic angle and elevation.
  29may91 rjs	uvgen.for -- fix call to hangle.
  31may91 nebk	uvplt.for -- Add OPTIONS=SOURCE
  05jun91 nebk	cgplot.for -- Modify when call PGPAGE slightly
  11jun91 rjs	invert.for -- Doc and message changes.
  11jun91 rjs	restore.for -- Simple doc change.
  11jun91 rjs	fits.for -- Lat/long for more telescopes. Save LST.
============================= Mel's additions
UVIO.C	rjs 29may91 Corrected planet scaling, in uvread_updated()
UVHAT  mchw 30may91   Removed npoint,ntpower. Zero antpos if antenna missing.
c			Copied across unchanged character variables.
GETBEAM   30may91  mchw,rjs Check that both RA and DEC axes present.
CONVLC	rjs,mchw 30may91 Adapted the routines to handle asymmetric beams
c			and deconvolution.
CONVOL	rjs,mchw 30may91 Make it handle asymmetric beams, by using the
c		    ConvlC routines.
IMGEN  rjs  30may91   Write some extra header variables.
c    mchw 03jun91   Fixed a bug and added more header variables.
IMLIST	mchw 03jun91	 Increased length of in and out.
UPDATE	mchw 04jun91 Updated hierarchy.bkyast and .hat to use combined
			subs directory. Rebuilt library on node Hat.
		All OK except:
		1 - Miriad.c - ENVIRON needs ifdef on Vax. - Bob's fix.
		2 - cpio.c - missing sys/types.h - unused ? - renamed.
============================ Retrieved Mel's changes

11jun91 nebk	uvplt.for -- Fix bug with averaged quantities.
12jun91 rjs	uvio.c -- Changed calculation of "rest freq" for
		wide linetypes.
13jun91 rjs	uvflag.for -- Readded changes to write the history
		correctly
13jun91 rjs	ephem.for --Added Jul2UT routine.
13jun91 rjs	atlod.for -- Changed sign of chi offset.
13jun91 rjs	fits.for -- Changed sign of chi offset for AT data.
13jun01 rjs	paraplot.for -- Eliminated chi offset.
17jun91 rjs	uvgen.for,f2qud.for,uvdat.for,fits.for,atlod.for -- Fixed
		polarisation sign conventions. I think its all consistent
		now.
17jun91 nebk	uvplt.for -- Fiddle with font
18jun91 rjs,nebk f2qud.for -- More general fiddles and enhancements.
19jun91 rjs	uvio.c -- Fixed bug in the shadowing calculation.
============================= Mel's additions
UVLIST	22may91 mchw - Changed keya to keyf.
c   17jun91 jm	 - Fixed default value of UT.
c   19jun91 mchw - Added options=list.
UVTRACK    19jun91 mchw  Make ut consistent with Julian day.
=============================
20jun91 rjs	telepar.for -- New task.
20jun91 rjs	obspar.for -- subroutine to give characteristics about an
		observatory.
25jun91 rjs	dirs.c -- Improved the VMS wildcard expansion routine.
25jun91 rjs	docfmt.c -- Doc file formatter.
25jun91 rjs	mirtool.c -- Fixed some bugs in forming the executables
		menu.
25jun91 rjs	msss/local.c -- Made the local zoom/scroll scroll both
		channels simultaneously.
27jun91 rjs	uvplt.for -- Changed "docal" to "nocal", as apparently
		was intended, in GetOpt.
============================= Mel's changes
UVSPECT    20jun91 mchw - Modified plot title, longer filename, keyf input.
c    26jun91 bpw  - Added hanning smoothing
UVPLOT	 mchw 24jun91  Initialized variables and broke an if loop for Cray.
c		     Used standard version, and keyf for Peter.
Test.csh  26jun91  mchw 	Changed name of map to avoid Cleanup.csh
CONVOL 27jun91 mchw moved CONVOL1 to CONVOL after testing.
CONVLC 27jun91 mchw installed into subroutine library for CONVOL.
=============================
28jun91 rjs	uvdat.for -- Support polarisation leakage correction.
28jun91 rjs	gpcal.for -- Renamed version of f2qud. Writes gain files.
28jun91 rjs	uvplt.for -- Handles flag for leakage correction.
28jun91 rjs	uvcat.for -- Handles flag for leakage correction.
28jun91 rjs	invert.for -- Handles flag for leakage correction.
============================= Update from Mark (1Jul91)
01jul91 rjs	tvset.for -- (Sort of) new task.
01jul91 rjs	uvmodel.for -- Corrected calculation of wwidth for line=wide.
01jul91 rjs	uvgen.for -- Made leakage parameters depend on the random
		number generator seed.
02jul91 rjs	obspar.for -- Corrected lat,long of Westerbork, as suggested
		by pjt.
01jul91 rjs	uvdat.for -- Added another uvDatGti object.
03jul91 rjs	uvaver.for -- New task.
03jul91 rjs	ephem.for -- Some comments to appease pjt.
03jul91 rjs	invert.for -- Changes in opening files to appease Lauren,
		and changed crval1,crval2 to double to appease pjt.
05jul91 rjs	uvaver.for -- Fixed bug in the uvset(...,'wide',...) call.
07jul91 rjs	uvgen.for -- Correction to the doc.
============================= Sent update to Mark (7Jul91)
07jul91 rjs	tv.for -- Various bug fixes in TvView for SSS driver.
07jul91 rjs	msss/local.c -- Changed the way fiddling with colour
		lookup tables.
09jul91 rjs	uvdat.for -- Corrected bug dealing with applying the gains
		to observatories with only one feed.
15jul91 rjs	hio.c -- Check for the reserved name hio.
16jul91 rjs	ctrl.for -- Added status lines
16jul91 rjs	panel/panel.c Added status lines.
16jul91 rjs	miriad.c -- Fiddled with the help.
16jul91 rjs	docfmt.c -- Added a description at the top of the program.
		-k switch.
16jul91 rjs	gpcopy.for -- New task, to copy gain and polarization
		corrections.
17jul91 rjs	gpplt.for -- New task, to plot and list gain and polarization
		tables.
17jul91 rjs	flint.c -- Checks nesting of do/enddo, if/endif. Handles
		statements starting with "do" better.
18jul91 rjs	hio.c -- Corrected bug dealing with "." file, which I
		introduced on 15jul91.
18jul91 rjs	uvaver.for -- Fixed multiple bugs dealing with time
		averaging of data.
=========================== Send uvaver.for (only) to Marks (18jul91)
19jul91 rjs	gperror.for -- Renamed from gainerr, plus other minor
		changes.
21jul91 rjs	gpcopy.for -- Copied xyphases item as well.
22jul91 rjs	cgplot.for -- Added 's' flag to BoxSet calls.
22jul91 rjs	flint.c -- Better handling of missing END statements.
24jul91 rjs	flint.c -- Better analysis of IF statements.
24jul91 rjs	gpcal.for -- Reference feed solving code. Many minor
		additions.
24jul91 rjs	gpplt.for -- Avoids rounding problems when autoscaling.
24jul91 rjs	gpboot.for -- New task.
24jul91 rjs	select.for -- Corrected bugs dealing with DAYTIMEs in
		SelProbe.
25jul91 rjs	gpboot.for -- Copies leakage table, as well as some minor
		improvement to selection processing.
25jul91 rjs	select.for -- Improved the SelProbe routine somewhat.
29jul91 rjs	gpcal.for -- Options=qusolve,polref can be used together.
 2aug91 rjs	hio.c -- Accepts '-' in item names.
 2aug91 rjs	model.for -- Fixed simple polarization handling.
 5aug91 rjs	uvio.c -- Improved some error messages a bit.
 5aug91 rjs	ellint.for,imlist.for,implot.for,imspect.for,moment.for -- Added
		the 's' flag to BoxSet.
 5aug91 rjs	uvgen.for -- Fixed a few bugs relating to MAXANT change.
 6aug91 nebk	fits.for -- Added UVDAT interface for op=uvout
 8aug91 nebk	gpcal.for -- Added code to automatially set IQUV for known
		calibrators.
 8aug91 nebk	uvplt.for -- Add DAY field to XRANGE for TIME axes.
 9aug91 rjs	varplt.for -- Plots and lists variables, like varplot but useful.
10aug91 nebk	cgplot.for -- Was not recognizing 'lo' for overlay type
10aug91 nebk	grclear.for -- New task to clear a graphics device.
11aug91 nebk	cgplot.for -- Fix bug with log transfer fn. when cin=gin
12aug91 rjs	fits.for -- Fiddles with the latitude of the AT.
13aug91 rjs	prog/fft.for -- Fixed bug dealing with writing the phase
		file. Also double prec crval.
=========================== Send updates Marks
13aug91 nebk	gpcal.for -- Add history for input.
13aug91 nebk	gpplt.for -- ENsure each feed begins plots on new page
16aug91 nebk	fits.for -- Correctly label AT polarizations if mislabelled circular
		and fiddle with AT's latitude.
19aug91 rjs	atmerge.for -- New, fudgy task.
19aug91 rjs	varplt.for -- Bug fixes.
19aug91 rjs	gpplt.for -- Added option to plot xb*y gains.
21aug91 rjs	atmerge.for -- Some tidying.
21aug91 rjs	atlod.for -- Write out sampler statistics, etc.
23aug91 nebk	gpboot.for -- Inform user, add scale factor to history
25aug91 nebk	gpcopy.for -- Inform user
26aug91 nebk	gpcal.for -- CHange spectral fits for 3C286 and 3C138
27aug91 rjs	uvdat.for -- Some messages to appease nebk.
28aug91 rjs	invert.for -- An extra check of the input parameters.
28aug91 nebk	uvplt.for -- Fix a couple of adjustable array
		dimension errors ocurring on Vaxes.  Bloody Unix.
28aug91 nebk	maxfit.for -- New task, fits 2-D parabola to 3x3 region
		of image to get interpolated height and locaiton
29aug91 rjs	uvmodel.for,uvaver.for -- Improved the routine WindUpd.
		I should take these common routines out into a "subs" routine.
29aug91 nebk	gpplt.for -- changed keyword range to yrange
29aug91 nebk	uvmodel.for -- Demand an option from user.
29aug91 rjs	imgen.for -- Included mirconst.h to correct value of pi.
29aug91 rjs	miriad.c -- Automatic tput to $MIRDEF. Also some other
		changes.
30aug91 nebk	invert.for -- Improved documentation for option=mfs
30aug91 rjs	model.for -- Shifts in ModPnt are now sky freq dependent
		in the correct way.
30aug91 rjs	miriad.c -- Better tget. Backgrounding and behaviour after
		Ctrl/C is better (wait() actually waits!).
02Sep91 nebk	pginit.for -- Renamed grclear.for to this.
02sep91 nebk	imspect.for -- Add keyword YRANGE and OPTIONS=1,2DERIV
02sep91 nebk	tvinit.for -- Vastly improved the quality of this program.
02sep91 nebk	maxfit.for -- Region not restricted to 2D.
02sep91 rjs	atmerge.for -- Added Tsys and xyphase files.
03sep91 rjs	varplt.for -- Increase buffer size. Improved writing of
		multi-line sequences to the log file.
03sep91 nebk	gpcal.for -- STuff about in CALSTOKE some more and put
		Bob Duncan't 1934-638 spectrum in for consistency with AIPS
03sep91 nebk	gpplt.for -- COrrect use of pgbegin
=========================== Send updates Marks
03sep91 nebk	uvplt.for -- Logic error when dumping averaged buffers
03sep91 rjs	gpbreak.for -- Add break points to solutions.
03spe91 rjs	uvdat.for -- Fiddled interpolation formula somewhat.
05sep91 rjs	gpplt.for -- Do not plot flagged gains.
05sep91 nebk	imspect.for -- FIddle with calls to PGPAGE, fix bug
		converting channels to real units, add OPTIONS=CURVE
05sep91 rjs	select.for -- Handles DAYTIMEs spanning day boundary.
05sep91 rjs	julday.for -- Better error checking.
08sep91 nebk	uvplt.for -- Test x after averaging instead of before
			     add options=days,hours,avall
09sep91 rjs	prthd.for -- New task.
09sep91 nebk	uvspect.for -- Fix use of work array in call to HANNSM
10sep91 rjs	convlc.for -- Fixed bug when performing deconvolution.
11sep91 rjs	gpplt.for -- Do not plot plots which do not have any points.
12sep91 nebk	prthd.for -- Formatting bug.
16sep91 rjs	cnvl.for -- New convolution routines. Should supercede
		convl.for and convlc.for some day.
16sep91 rjs	convol.for -- Uses the new cnvl.for routines. A number of
		new options.
16sep91 rjs	restore.for -- Uses the new cnvl.for routines. Fixed a long
		standing 1 part in 3000 approximation.
16sep91 rjs	gpplt.for -- Some extra fixes to appease nebk.
17sep91 rjs	ratty.c -- Control over the generated line numbers. Recognises
		Suns.
17sep91 rjs	miriad.c -- Improved an error message.
17sep91 rjs	gpbreak.for -- Fixed bugs related to applying several break
		points at the same time.
18sep91 rjs	prthd.for -- Minor enhancements.
18sep91 rjs	maths.for -- Fix to properly handle the case of 0 good pixels.
18sep91 rjs	plane.for -- Cosmetic changes to appease bounds checkers.
============================== Installed 18sep91 updates from MarkS.
19sep91 rjs	invert.for -- Check if files exist when you start. Also
		give freq axes if there is only 1 channel.
19sep91 rjs	msss/window.c,local.c -- Implemented negative lookup tables.
19sep91 rjs	fits.for,uvgen.for -- Fiddles with Jy/K.
============================== Received updates from Mark
============================== Sent updates to MarkS (20Sep91).
20sep91 nebk	pgcurs.for -- New task hacked from cgplot.
20sep91 nebk	pgdisp.for -- Renamed from cgplot (now we have
		  pginit, pgcurs and pgdisp)
20sep91 nebk	subspg.for -- Stripped out subroutines common to
		  pgcurs and pgdisp.
20sep91 nebk	imgen.for -- New seed for noise on each application
		  of imgen
23sep91 rjs	boxes.for -- fixed bug in relcen axes 2 and 3.
23sep91 rjs	mxas/init.c,comm.c,mxas.c -- Hacks to eliminate the
		need for environment variables and entries in the
		/etc/services file.
23sep91 rjs	mirtool.c -- Bugs relating to log file, and the HELP button.
23sep91 nebk	imspect.for -- New OPTIONS=CURVE changes got partly lost
24sep91 rjs	fitsio.for -- Eliminated redundant loop.
30sep91 rjs	fitsio.for -- No longer needs NAXIS2 == 3 for uv FITS files.
 1oct91 rjs	fitsio.for -- Handles random parameter TIME1.
 1oct91 rjs	julday.for -- Added routines JulFDate and FDateJul.
 1oct91 rjs	fits.for -- Elimiated a few internal routines, to call
		JulFDate and ObsPar.
 1oct91 rjs	prthd.for -- Corrected reporting of wide channels.
 1oct91 rjs	uvratio.for -- New task, takes the ratio of XX to YY.
 1oct91 rjs	tvflag.for -- Fixed bug in reporting times.
 1oct91 rjs	mirtool.c -- Fixed more mirtool.c bugs.
 2oct91 rjs	ratty.c -- IMPLICIT NONE on Suns.
 2oct91 rjs	mfclean.for -- Major rework.
 2oct91 rjs	cnvl.for -- Added a few extra routines, to support rework
		of mfclean.
 3oct91 rjs	uvaver.for -- Fixed copying across of freq and time averaged
		wide data.
 4oct91 nebk	uvplt.for -- PLot baslines in increasing order, change so
		self-sclaed x-range same for each sub-plot unless OPTIONS=XIND
 8oct91 rjs	imsub.for -- Better history writing.
 9oct91 rjs	flint.c -- Get flint to recognise some statements it previously
		did not understand.
 9oct91 rjs	uvio.c -- uvwread returns nread=0 if there are no wides.
 9oct91 rjs	miriad.c -- -l flag to tput and tget.
 9oct91 rjs	restore.for -- Fixed bug which crops up when there is no
		input beam.
11oct91 rjs	puthd.for -- Changes to the history.
11oct91 rjs	uvdat.for -- Major bug.
11oct91 nebk	pgcurs.for -- Increase max. size of output region of interest
11oct91 nebk	boxes.for in boxinput -- Increase size of allowed region of
		interest variabel to 400 characters
12oct91 nebk	clean.for -- Fix bug affecting non-rectangular clean windows
14oct91 rjs	mfclean.for -- Fixed corresponding bug to the above in mfclean.
14oct91 nebk	key.for -- Allow more room in PBUF (in subroutine KEYREAD)
		for the contents of @ files.
14oct91 rjs	boxes.for -- Handles polys with edges parallel to x axis
		much better.
14oct81 rjs	maxen.for -- Bug handling non-square beams.
14oct91 nebk	pgcurs.for -- carray over relevant fixes from BOXES.FOR
15oct91 rjs	selfcal.for -- Increased hash table size. More messages.
16oct91 rjs	hio.c -- Correctly truncates items when it attempts to
		rewrite them.
17oct91 rjs	fits.for -- Double precision crval, crpix, etc.
17oct91 rjs	fits.for -- Default number of output channels for op=uvout
		is all channels.
18oct91 rjs	uvaver.for -- Copies "freq" variable.
25oct91 rjs	imcat.for -- Check image size. Also better history.
25oct91 rjs	ratty.c -- -l and -u options.
31oct91 rjs	uvcat.for -- Deleted some redundant code.
31oct91 rjs	uvstat.for -- Check for buffer overflow.
31oct91 rjs	pols.for -- Added PolsPara function.
 1nov91 rjs	model.for -- Support for mfs and polarised data.
 1nov91 rjs	selfcal.for -- Support for mfs and polarised data.
============================== Sent updates to MarkS (4Nov91).
 5nov91 rjs	boxes.for,boxes.h -- Added "quarter" command.
 5nov91 rjs	prog/fft.for -- Eliminated maxdim**2 arrays, and standardized
		history.
 5nov91 rjs	linmos.for -- Eliminate maxdim**2 arrays, and standardized
		history.
 8noc91 nebk	subspg/chnselpg.for -- Fix problem with call to BOXRUNS/blc,trc

12nov91 nebk/mjs pgdisp.for -- initilaize ep2 in COPEN if no second
		contour image
18nov91 rjs	fits.for -- Better freq info in uvout.
18nov91 rjs	fitsio.for -- Writes PZERO keywords.
20nov91 rjs	imcalc -- Various changes to make it into a reasonably neat
		package.
20nov91 rjs	linmos.for -- Replaced calls to keya('in'...) with calls to
		keyf('in'...)
20nov91 rjs	uvgen.for -- primary beam effects and mosaicing simulation.
22nov91 rjs	uvio.c -- support for uvselect(tno,'auto'...)
22nov91 rjs	uvdat.for -- better support for auto and cross correlation
		files.
22nov91 rjs	select.{for,h} -- select=auto and select=-auto.
29nov91 rjs	gpnorm.for -- New task. Correct leakages for offsets and
		xyphase terms.
29nov91 rjs	pntfit.{for,h} -- (Not so) new task.
29nov91 rjs	gpplt.for -- Minor correction to listing polarisation
		leakage parameters.
**************************************************
12dec91 rjs	uvio.c -- Support for uvopen(...,'append')
12dec91 rjs	prthd.for -- Some minor enhancements for uv files.
12dec91 rjs	uvcat.for -- Deleted obstype processing (now done in uvio).
12dec91 rjs	fits.for -- Deleted obstype processing (now done in uvio).
13dec91 rjs	uvdat.{for,h} -- Better generation of PolII Stokes type.
13dec91 rjs	uvaver.for -- Deleted obstype processing (now done in uvio).
17dec91 rjs	atmerge.for -- Some confusion about xy phases being degrees
		or radians.
17dec91 rjs	gpnorm.for -- Allow vis and cal file to have different numbers
		of leakages.
19dec91 rjs	fitsio.for -- Handle IF axis in a crude way.
********************************************************************************
16jan92 nebk	uvcal.for -- Add conjugation and fix bug in polarization
		  handling
16jan92 nebk	uvdat.h   -- Make LINE variable 72 characters. All messages
		  were being truncated.
16jan92 nebk	uvplt.for -- CHange default behaviour to BASELINE rather than
		  NOBASELINE.
16jan92 rjs	uvdat.for -- Deleted nebk's crude attempt at fixing the other-
		wise perfect uvdat.for, and did it proper!  Bitch.
17jan92 nebk	gpcal.for -- Add result of GETIQUV to history.
27jan92 nebk	avmaths.for -- Moved bit of code copying bunit
17feb92 nebk	uvplt.for -- prevent it from opening plot device when
		  there are no points to plot and add options=wrap
19feb92 nebk	varplt.for -- Add file name to plot title
26feb92 nebk	uvdat.for -- Add object='nfiles' to uvdatgti
26feb92 nebk	uvaver.for -- Add amp-scalar averaging
26feb92 nebk	uvplt.for -- Add OPTIONS=SYMBOLS.
06mar92 nebk	uvdat.for -- Fix bug in UVPOLGET in use of DOAVER
07mar92 nebk	uvplt.for -- Add OPTIONS=YINDEPENDENT
12mar92 rjs	uvplt.for -- Deal with a rounding rpoblem for plot limits
06apr92 nebk	gpcopy.for -- Add options=noxy
06apr92 nebk	cgdisp.for -- Adapt to memalloc
06apr92 nebk	cgcurs.for -- Adapt to memalloc
06apr92 nebk	smooth.for -- Adapt to memalloc
06apr92 nebk	boxspec.for -- Check a buffer is big enough
08apr92 nebk	cgdisp.for -- Add source name in full annotaiton
10apr92 nebk	cgcurs.for -- Add sum/beam
10apr92 nebk	histo.for -- Add sum/beam
************************************************************************
10jan92 rjs	uvio.c -- Change to uvwrite, to cope better when preamble
		variables are written outside uvwrite.
16jan92 rjs	uvdat.for -- Changes to uvdat.for to eliminate truncation of
		some error messages.
23jan92 rjs	fitsio.for -- Fixed bugs in fuvopen(...'old'...) which crept
		in on 19dec91.
29jan92 rjs	model.for Fixed sign error, in the shifting code, inside ModShift.
		Change in call sequence to appease pjt.
29jan92 rjs	uvmodel.for -- Mod to track change in call sequence to model.for.
29jan92 rjs	selfcal.for -- Mod to track change in call seqeunce to model.for.
18feb92 rjs	julday.for -- Some improved error checking.
18feb92 rjs	invert.for -- Documentation improvement.
27feb92 rjs	uvaver.for -- Better attempt to make the output file in
		time order if the input file is.
28feb92 rjs	fits.for -- More consistent way of treating obsra and obsdec
		parameters.
10mar92 rjs	mfclean.for -- Documentation improvement.
10mar92 rjs	convol.for,zeesim.for,avmaths.for -- Increased size of the
		maxruns parameter.
10mar92 rjs	imlist.for,implot.for,ellint.for -- Re-added 's' flag to
		BoxSet.
10mar92 rjs	flint.c -- Crude treatment of EQUIVALENCE statements.
11mar92 rjs	imlist.for -- Re-re-added 's' flag to BoxSet.
12mar92 rjs	trim.c -- Pipable.
12mar92 rjs	uvplt.for -- Better handling of autoscaling when max and
		min are identical down to rounding.
12mar92 rjs	mfclean.for -- Mkae convergence criteria consistent, to
		prevent infinite loops.
12mar92 rjs	uvdat.for -- Better interpolation formula.
16mar92 rjs	flint.c -- -k switch to suppress common block warnings.
		Statement label checking.
17mar92 rjs	clean.for -- Better error messages when sidelobes are
		greater than the central peak.
17mar92 rjs	msss/sockxf.c -- Fixed long standing bug dealing with
		reading the commands from the client.
18mar92 rjs	mem.for -- Calls "malloc" and "free" if needed.
18mar92 rjs	maths.for -- Better memory allocation.
18mar92 rjs	invert.for -- Better memory allocation.
18mar92 rjs	boxes.for -- Problems in BoxPolyX again!
18mar92 rjs	boxtest.for -- Tests boxes.for
19mar92 rjs	trim.c -- Increased buffer sizes.
20mar92 rjs	linmos.for -- Added a save statement.
25mar92 rjs	uvio.c -- Support for select=freq
25mar92 rjs	select.for,select.h -- SUpport for select=freq.
26mar92 rjs	mem.for,malloc.c,malloc.for -- Made these more generic.
		Support for VMS, UNIX, etc.
26mar92 rjs	flint.c -- Eliminates some warnings about %loc,%val, etc.
30mar92 rjs	trnio.for,trnio.h -- Changes to use the memalloc routines.
30mar92 rjs	reorder.for -- Changes to use the memalloc routines.
30mar92 rjs	uvmodel.for -- Option=selradec. Improved doc.
30mar92 rjs	model.{for,h} -- Better error messages. More explicit
		pointing selection.
 3apr92 rjs	mem.for -- Membuf routine.
 3apr92 rjs	invert.for -- Use MemBuf routine.
 3apr92 rjs	selfcal.for -- Use MemAlloc and MemBuf routines.
 3apr92 rjs	trnio.for -- Use MemBuf routine.
 3apr92 rjs	views.for -- Use MemAlloc routine.
 4apr92 rjs	mem.for -- Better MemBuf routine.
 6apr92 rjs	uvio.c -- Flags in runs form. Added semi-colon I had missed
		before.
************************************************************************
22apr92 rjs	varplt.for -- PGPLOT name changes.
22apr92 rjs	restor.for -- Doc and output message changes (for Lauren).
24apr92 rjs	fits.for,fits.h,fitsio.for,fitsio.h -- New versions.
		Significant rework.
24apr92 rjs	paraplot.for,ggplt.for,pntfit.for -- PGPLOT rework.
26apr92 rjs	model.for,selfcal.for,uvmodel.for -- Fiddles with clipping.
29apr92 nebk	cgdisp.for -- Fix problem with character size being
		lost when doing full annotation
29apr92 nebk	subspg.for -> cgsubs.for  and rename all subroutines
		to *cg instead of *pg
29apr92 nebk	cgdisp.for -- CHange to account for above subroutine changes
29apr92 nebk	cgcurs.for -- CHange to account for above subroutine changes
29apr92 nebk	cgsubs.for -- Remove "g" format descriptor from vclabcg.for
 1may92 rjs	miriad.c -- docommand waits for subprocess to end.
 1may92 rjs	histo.for -- Various minor formatting enhancements.
 1may92 rjs	gpscal.for -- New task.
 1may92 rjs	gpplt.for -- select keyword.
 1may92 rjs	cgcurs.for -- Replaced calls to prompt with pgcurse.
 1may92 rjs	maths.for -- Better header copying scheme.
 1may92 rjs	selfcal.for -- Write 'nfeeds' to output header.
 2may92 rjs	maths.for -- Handles 4D files. Various other cosmetic
		changes.
 4may92 nebk	uvplt.for -- Implemet same axis types for bnoth x and y
		and full channel dependence for all qunatities.
 4may92 nebk	cgcurs.for -- region now written out in arcsec,poly( by default
 4may92 rjs	gpcal.for -- Minor enhancement to amplitude solution routine.
 4may92 rjs	gpscal.for -- Several bug fixes and minor enhancements.
 4may92 rjs	mfspin.for -- New task: Spectral index from MFCLEAN model.
 4may92 rjs	restor.for -- Avoid floating underflows.
 6may92 rjs	getpb.for -- Added AT to the list of observatories.
 8may92 rjs	fits.for -- Handle AIPS SU,FQ,CH and AN tables for op=uvin.
 9may92 rjs	uvindex.for -- Better listing for multi-pointings.
10may92 rjs	fitsio.for -- Handle degenerate columns in tables.
10may92 rjs	model.for -- Rework clipping algorithm.
14may92 rjs	mfplan.for -- Plan MFS frequecies for the ATCA.
17may92 rjs	selfcal.for,model.for,gpscal.for -- Fiddles with the clip levels
		again.
17may92 rjs	clean.for,mfclean.for -- Remember total number of clean
		iterations.
18may92 nebk	options.for -- Add KEYMATCH
18may92 nebk	cgsubs.for -- Add LIMTRCG
18may92 nebk	cgdisp.for -- Add vectors and change LABTYP
18may92 nebk	cgcurs.for -- CHange LABTYP
20may92 rjs	fits.for -- Fix newly introduced bugs.
21may92 rjs	flint.c -- Handles labels associates with "err" in I/O.
21may92 rjs	fits.for -- Handles AIPS silly Stokes values.
20may92 nebk	maxfit.for -- Documentation improvement.
24may92 rjs	maxen.for -- More robust at converging.
25may92 nebk	btype.for -- The way of the future.
26may92 nebk	impol.for -- New polarization task
26may92 nebk	imrm.for -- New polarization task

*********************** Sent updates to MarkS
26may92 rjs	btype.for -- Added optical depth.
26may92 rjs	fits.for,prthd.for,invert.for,mfspin.for,restor.for -- Handles
		btype keyword.
26may92 nebk	cgcurs -- CURPOS was not handling blanks !!
26may92 nebk	imsub.for, maths.for -- Copy btype as rjs was too
		incompetent to do it
26may92 nebk	imrm.for -- Try to deal with p.a. ambiguities
26may92 rjs	invert.for,mfspin.for -- Change sign convention of spectral
		index.
26may92 rjs	miriad.c -- use readline routine.
27may92 rjs	uvplt.for -- Increased the length of a string buffer.
27may92 rjs	impol.for,imrm.for,btype.for,mfspin.for,fits.for -- Changed
		values for btype.
27may92 nebk	imrm.for -- Add OPTIONS=AMBIG and add more messages to user
27may92 nebk	clean.for -- MOre messages to hapless user
*********************** Sent updates to MarkS
10jun92 rjs	fits.for -- Handle multi-source files that are missing FQ
		tables.
12jun92 rjs	tv.for -- Get tvreset to work for ivserver.
15jun92 rjs	clean.for -- Doc changes.
12jun92 rjs	uvio.c -- Better support for select=window. General
		clean up.
15jun92 rjs	var.for -- New subs. Helps simplify copying uv files.
15jun92 rjs	uvratio.for,uvcat.for,uvaver.for,uvmodel.for -- use var.for
16jun92 rjs	nearest.for -- new subroutine.
16jun92 rjs	miriad.c -- miscellaneous changes.
16jun92 rjs	calc.for -- eliminate itoa.
16jun92 rjs	uvgen.for -- doc change only.
17jun92 rjs	clean.for -- message giving model flux.
23jun92 rjs	fft.for,gpscal.for,selfcal.for,uvmodel.for,uvplt.for -- doc
		changes to standardise on "observing center", and eliminate
		"phase center".
24jun92 rjs	gpcal.for -- Added xyvary option to gpcal. Estimate XY phase.
25jun92 rjs	fits.for -- Make fits op=uvout more robust at handling duplicate
		visibilities. Also save more uv variables.
25jun92 rjs	invert.for -- single channel gets labelled with frequency.
25jun92 rjs	fits.for,restor.for -- Use keymatch routine.
26jun92 rjs	var.for -- Copy latitud,longitu.
28jun92 rjs	fits.for -- Write better restfreq
28jun92 rjs	fitsio.for -- Minor mods to messages for multi-IF FITS file.
*********************** Sent updates to MarkS
 2jul92 rjs	invert.for -- doc only
 2jul92 rjs	options.for -- insensitive to case.
10jul92 rjs	uvaver.for -- Found fatal bug, that I introduced on 15jun!!
10jul92 rjs	uvio.c -- Fixed a check which incorrectly prevented a quite
		valid linetype being used.
*********************** Sent updates to MarkS
10jul92 rjs	uvindex.for -- Better formatting of polarisation codes.
10jul92 rjs	var.for -- better handling of channel linetype.
13jul92 rjs	xyio.c -- better error messages.
15jul92 rjs	passmake.for -- fixed various bugs (sent to pjt).
21jul92 rjs	var.for -- eliminate some redundant variables.
22jul92 rjs	atlod.for -- implemented nfiles parameter.
22jul92 rjs	miriad.c -- Improved some messages.
22jul92 rjs	varplt.for -- added some more variables to its list of known
		variables.
22jul92 rjs	gpcal.for -- Correct when the name of the source and the
		observing frequency are retrieved.
23jul92 rjs	tv.for -- Fixed bug dealing with negative numbers in tvscale
		(sent to jm).
23jul92 rjs	mfplan.for -- Various hacks and fudges.
27jul92 rjs	invert.for -- better handling of freq/velocity labelling.
27jul92 rjs	fits.for -- different default rest freq.
 5aug92 rjs	uvaver.for -- Support "nopass" option.
 5aug92 rjs	gpplt.for -- Plots bandpass and delays.
 5aug92 rjs	mem.for,mm.c -- Support for 'c', 'd' and 'l' data types.
 5aug92 rjs	gpcopy.for -- Support for bandpasses. The xyphases item is dead.
 5aug92 rjs	getxy.for -- A replacement subroutine for the xyphases item.
 5aug92 rjs	calstoke.for -- A subroutine broken out of gpcal.
 5aug92 rjs	atmerge.for,gpnorm.for,gpcal.for,gpscal.for,gpboot.for -- No
		longer fiddles with xyphases item.
 6aug92 nebk	cgspec.for -- Fix problem with spectrum images of more tyhan
		3 dimensions in call to xyzsetup and mistake assuming reference
		values the same for grey/cont and spectrum images
 6aug92 nebk	zeefake.for -- Add Stokes axis to output images
12aug92 rjs	uvaver.for,uvaver.h Fixed array bounds violation in uvaver.h
*********************** Sent updates to MarkS
19aug92 rjs	fits.for -- Correct conversion of antenna coordinates.
19aug92 rjs	fitsio.for -- Fudged to avoid problems with brain-damaged AIPS
		FITS files.
*********************** Sent updates to MarkS
20aug92 rjs	io.h -- Roundup macro works correctly for 0.
20aug92 rjs	uvio.c -- Appending works when there is no data.
*********************** Sent updates to MarkS
25aug92 rjs	polcal.for,uvaver.for,uvaver.h,uvcal.for,uvcat.for,uvdat.for,
		uvdat.h,uvgains.for,uvgains.h,uvgn.for,uvgn.h,uvmodel.for,
		uvplt.for,uvratio.for,wrapGENL.c,wrapGENL.h,wrapSUN.c,wrapSUN.h,
		uvio.c,var.for
		Installed many changes, to deal with the new way that
		you can track variables changing. Various things to do with
		changes to the var routines. Nopass option various places.
		Split gains handling out of uvdat to uvgn. Bandpass calibration.
26aug92 rjs	uvspect.for -- Better autoscale determination.
26aug92 rjs	headio.c -- Return logical true or false for hdprsnt.
26aug92 rjs	fits.for,uvamp.for,invert.for,uvplt.for,uvratio.for -- Added
		nopass options.
26aug92 nebk	bessel.for -- New subroutines to compute a couple of Bessel
		functions
26aug92 nebk	impol.for -- New option zero and new bias plot
*********************** Sent updates to MarkS
27aug92 nebk	bessel.for -- Fix bugs.
28aug92 rjs	uvgn.for -- Minor correction to an error message.
28aug92 rjs	gpcal.for -- Protect sqrt() from rounding error.
31aug92 rjs	invert.for -- Added slow and vslow option to do DFT and
		median approach.
31aug92 rjs	median.for -- Subroutine to determine the median of an
		array of data.
31aug92 nebk	cgcurs.for,cgdisp.for,cgspec.for,cgsubs.for -- More
		modularity instilled -> more code to cgsubs.for
 1sep92 rjs	qvack.for -- Flags uv data after changes in setup.
 2sep92 rjs	key.for -- Handle @ files with blanks at ends of lines.
*********************** Sent updates to MarkS
 2sep92 rjs	flint.c -- Multiple -I switches.
 4sep92 rjs	fits.for -- increased a buffer in uvin.
 7sep92 nebk	atlod.for -- Increase VIS and WEIGHT dimensions.
 8sep92 rjs	fits.for -- Determine nants from antenna table where possible.
 8sep92 rjs	uvedit.for -- Slightly better way of determining changes in
		nants.
 8sep92 rjs	fft.for -- Fixes in FFTRC2 when processing the first row.
 9sep92 nebk	imgen.for -- CHange ref. pix. for axes of length 1
 9sep92 rjs	fits.for -- Fiddles with antenna coordinates and baseline
		numbers.
10sep92 rjs	mem.for -- Fixed a bad check.
*********************** Sent updates to MarkS
14sep92 rjs	atlod.for -- Better messages. Correct baselines. Correct
		antenna positions.
16sep92 rjs	uvio.c -- Check validity of window selection.
18sep92 rjs	uvaver.for -- Handle autocorrelation data correctly.
19sep92 rjs	uvspec.for,.h -- New program, to plot averaged spectra.
***********************
 19aug92 mchw  VELPLOT	Fix bug in integration box. Normalize chisq in fit.
 04sep92 mchw		Spectra options: omits plots, rectangular grids.
 16sep92 mchw		Better image header for position-velocity maps.
 23sep92 mchw		Add option to get velocity of peak channel.
 mchw  22sep92	ELLINT	Change keyword to inclination angle.
06aug92 mchw   VELCOLOR Adapted from RALINT task.
16sep92 mchw		Added pivot and cleaned up code. Stubs for other axes.
	       RESAMPLE Regrid the 3rd axis of a Miriad image.
jat 19may92		Created
mchw 19sep92		Standardized.
	      VELMODEL	Make a model image for a theoretical velocity pattern.
mchw  19sep92		New task.
	      VELIMAGE	Make (x,y,z) image from an (x,y) image and model z-values.
23sep92 mchw		New task.
*********************** 23Sept92 mchw Sent updates to MarkS
25sep92 rjs	fits.for -- Estimate inttime for op=uvin
25sep92 rjs	invert.for -- Recalculate the bandwidth regularly.
25sep92 nebk	uvspec.for -- Add OPTIONS=DOTS
25sep92 nebk	uvplt.for -- Average polarizations separately.
*********************** 25Sept92 Sent updates to MarkS
29sep92 rjs	fits.for -- Fiddles with RL and LR.
29sep92 nebk	uvswap.for -- Brilliant program. Sophisticated algorithm.
		Excellent programming style. The pick of Miriad.
*********************** 29sept92 Sent updates to MarkS
30sep92 rjs	fitsio.h -- Increased buffer size.
30sep92 nebk	uvplt.for -- protect against not all polarizations turning
			     up in first time stamp.  What a mess.

 1oct92 rjs	uvcat.for -- Protect against datasets that do not have systemp.
01oct92 nebk	cgdisp.for -- Overlay offset decoding code was rubbish
02oct92 nebk	cgspec.for -- Use PGHLINE instead of PGLINE for spectra
07oct92 nebk	uvplt.for -- Use BASANT subroutine
12oct92 rjs	hio.c -- Change roundup macro definition.
21oct92 rjs	uvdat.for -- Change to get messages straight.
21oct92 rjs	uvspec.for -- Better title
21oct92 rjs	amphase.for -- Use abs() (rather than sqrt) function.
22oct92 nebk	cgdisp.for,cgcurs.for,cgsubs.for -- Add units to linear
		    axis labels. Issue warnings for  options=unequal
22oct92 rjs	uvgn.for -- Cosmetic error message change.
22oct92 rjs	mfcal.{for,h} -- New task. Bandpass and multifreq calibration.
230ct92 nebk	cgsubs.for -- setlabcg was messing up PGTBOX strings
23oct92 nebk	tvcycle.for -- Tell user delay cycle.
************************ 26oct92 Send updates to MArkS
26oct92 nebk	uvpflag.for -- New task to flag polarizations
28oct92 nebk	uvspec.for -- Add hanning smoothing.  rjs very pleased.
28oct92 nebk	hann.for -- Rwerite binomial coefficients code with Gamma fn
04nov92 nebk	hann.for -- MOve gammln to gamma.for
04nov92 nebk	gamma.for -- SOme gamma function subroutines
04nov92 nebk	impol.for -- Better blanking
04nov92 nebk	imrm.for -- Better blanking, add goodness fo fit blanking
04nov92 nebk	imgen.for -- Copy BTYPE from input to output
05nov92 rjs	gpcopy.for -- Less misleading messages about what it is doing.
05nov92 nebk	lsf.for -- Least squares to y =mx + b.	UP the free market.
05nov92 rjs	gpplt.for -- Plot the bandpass as the user would expect it!
12nov92 rjs	mfclean.for -- Doc changes only.
13nov92 nebk	pb.for -- New primary beam subroutines.   These subroutines
		  provide a function which returns the value of the primary
		  beam function at a given radius from the pointing centre.
		  The primary beam is specified by a polynomial or by a
		  Gaussian.  For the ATCA and VLA, a fairly accurate polynomial
		  is known.  For HatCreek, only a Gaussian is offered.
		  These functions are known internally to pb.for.
		  The programmer can either request the best primary beam
		  for his/her telescope known to pb.for, or can set a Gaussian
		  if desired.	  The rational functions cutoff at some
		  radius from the pointing centre (usually at about the 2%
		  level) whereas the Gaussians go on for ever.	 If the user
		  wishes to primary correct an image, s/he can use LINMOS.
		  Other tasks, such as ELLINT, MFSPIN, and DEMOS  apply the
		  primary beam correction on the fly.  Previously they used
		  only a Gaussian, now something better is offered.
13nov92 nebk	getfreq.for -- Subroutine to get frequency for a channel from
		  a data set
13nov92 nebk	demos.for -- Adapt to new primary beam routines
13nov92 nebk	ellint.for -- Adapt to new primary beam routines
13nov92 nebk	mfspin.for -- Adapt to new primary beam routines
16nov92 rjs	linmos.for -- Changes to use nebk's new primary beam routines.
		Better handling of 4th axis and blanked images.
22nov92 rjs	selfcal.for,gpcal.for,gpscal.for -- Added ntau keyword to
		output header.
22nov92 rjs	uvio.c -- More tolerant of missing pol variable when
		polarisation selection is used.
22nov92 rjs	mfcal.for -- Correct array dimensioning error in Solve().
************************ 22nov92 Send updates to MarkS
23nov92 rjs	uvdat.for -- Better checking of "line" and "ref" parameters.
23nov92 nebk	key.for -- Add mkeyd
23nov92 nebk	prthd.for -- Correct lousy rjs grammar
23nov92 nebk	regrid.for -- Template and axis descriptor inputs allowed
24nov92 rjs	imgen.for -- Merged pjt and nebk changes. Do not spit dummy.
24nov92 rjs	getfreq.for -- Change itoa to itoaf.
24nov92 nebk	pb.for -- More comments
************************ 24nov92 Send updates to MarkS
24nov92 nebk	cgspec.for -- Fix bug in specloc confusing i with j
25nov92 nebk	ellint.for -- Warn user if primary beam correcting an
		  image that they shouldn't.
25nov92 nebk	btype.for -- Add some new btypes.
25nov92 nebk	clean.for -- Copy btype to model
25nov92 nebk	contsub.for -- Copy btype to output
25nov92 nebk	convol.for -- Copy btype to output
25nov92 nebk	demos.for -- Copy btype to output
25nov92 nebk	hanning.for -- Copy btype to output
25nov92 nebk	imframe.for -- Copy btype to output
25nov92 nebk	imhead.for -- Describe btype
25nov92 nebk	imlist.for -- Describe btype
25nov92 nebk	impoly.for -- Copy btype to output
25nov92 nebk	imsharp.for -- Copy btype to output
25nov92 nebk	linmos.for -- Copy btype to output
25nov92 nebk	maxen.for -- Copy btype to output
25nov92 nebk	mfclean.for -- Copy btype to output
25nov92 nebk	pcsub.for -- Copy btype to output
25nov92 nebk	regrid.for -- Copy btype to output
25nov92 nebk	smooth.for -- Copy btype to output
26nov92 nebk	hermes.for -- Add btype to output
26nov92 nebk	moment.for -- Add btype to output
26nov92 nebk	odnh3.for -- Add btype to output
26nov92 nebk	zeefake.for -- Add btype to output
26nov92 nebk	velmodel.for -- Add btype, changes bunit to km/s from velo_lsr
28nov92 nebk	getfreq.for -- Doc changes
30nov92 nebk	velimage.for -- Copy btype to output
 1dec92 rjs	uvdat.for -- Change "wideband" to "wide".
************************ 1dec92 Send updates to MarkS
02dec92 nebk	wrbtype.for -- Default is don't write nuttin
04dec92 rjs	imdiff.for -- Check for guard band being violated.
04dec92 rjs	key.for -- Use mchw's routine to cope with hex/octal ints.
04dec92 nebk	cgsubs.for -- New axis types (ghz/kms) and new coordinate
		 formatting subroutines pix2wfcg, sunitcg
04dec92 nebk	cgdisp,cgcurs.for -- New axis types
04dec92 nebk	maxfit.for -- Better formatting
04dec92 nebk	impos.for -- New task to find world coordinates of pixel
08deb92 nebk	imdiff.for -- Add ADJUST output file and independent
		  x and y expansion factors.  Add OPTIONS
08dec92 nebk	demos.for -- Put pbfwhm back in keywords.  Avoid Siberia.
09dec92 rjs	uvio.c -- Correct bug in shadowing computation.
10dec92 nebk	uvplt.for -- Fix bounds bug in baspolid & better pol'n handling
11dec92 rjs	prthd.for -- Add options and log keywords.
15dec92 rjs	shifty.for -- Convert to use memalloc.
15dec92 nebk	colden.for -- Add blank btype to output, float -> real
15dec92 nebk	imsharp.for -- Allow headcopy to do btype.  Remove
		  previous change and return it to the way it was
15dec92 nebk	velimage.for -- Allow headcopy to do btype.  Remove
		  previsou change and comment.
17dec92 nebk	cgspec.for -- Adapt to new fndaxnum
24dec92 rjs	tvcln.for -- Doc changes only, as per mjs request.
24dec92 rjs	flint.c -- Incrementing error in checking command line args.
24dec92 rjs	mem.for -- Doc changes only, as per jm request.
24dec92 rjs	uvio.c -- Doc changes only, as per pjt request.
24dec92 rjs	fits.for -- Fudges to work around AIPS FITLD bug.
24dec92 rjs	fitsio.for -- Fudges to work around AIPS FITLD bug.
************************ 24dec92 Send updates to MarkS
24dec92 nebk	uvplt.for -- Don't do range testing for phase unwrapping
24dec92 nebk	cgpgsubs.for -- AAplit PGPLOT subs out from cgsubs.for
04jan93 rjs	unicos/txtio.for -- Delete obsolete command() routine.
04jan93 rjs	tools/intf2c.c -- C preprocessor.
04jan93 rjs	bug.c,bugwrap.c,fullname.for,interface.c,julday.for,key.for
		key.h,mm.f2c,oscalls.f2c,tcpio.f2c,wrap.f2c,xyzio.c,xyzio.h
		xyziowrap.f2c
	To better incorporate the changes from an HP-UX port and to simplify
	future ports, I have written a C preprocessor tool.  It is intended to
	simplify writing C that is to be called by FORTRAN.  It effectively
	handles the system-dependent stuff of the FORTRAN/C boundary. It will
	reduce the number of lines of code and number of files that we have --
	particularly system dependent ones, such as delay.for.	It should ease
	the porting of Miriad to new systems in the future. Currently the two
	old versions of wrap.c, plus wrap.h, total about 1700 lines of code.
	With this proposal, it should reduce to 500 lines of less cryptic code.
	Similar savings should result for xyziowrap and tcpio.	The down side is
	that we have an extra preprocessor.

	To fully utilise it, I have made changes to the following files:

	Tidy up sysdep.h
	Rewrite bug.for as bugwrap.f2c
	Rename bug_c.c as bug.c,modify to include errmsg functionality
	Delete errmsg*
	Modify wrap.c (one version needed only!), rename it wrap.f2c
	Delete wrap.h
	Modify xyziowrap.h, rename it xyziowrap.f2c
	Modify xyzio.c (simply to delete the line including xyziowrap.h)
	Modify mm.c, rename it mm.f2c
	Modify tcpio.c, rename it tcpio.f2c
	Rewrite oscalls.for as oscalls.f2c -- including new routines
	  mitime,midate and delay
	Modify fullname.for (change calling sequence of mgetenv)
	Delete vmsdate.for (routine included in oscalls.f2c)
	Delete delay.*	 (routine included in oscalls.f2c)
	Modify julday.for (Get rid of conditional compilation, replace with
	  calls to mitime,midate)
	Modify key.for,key.h (call buglabel to save prog name).

	Add interface.c (containing zterm and pad, currently in wrap and xyziowrap)

	Add tools/intf2c.c (C preprocessor, for the .f2c files).

04jan93 rjs	maxfit.for -- Rename pad to pader.
04jan93 rjs	cgsubs.for -- Make the default arg in rdhdd double precision.
04jan93 rjs	impos.for -- Rename pad to pader.
05jan93 rjs	tvcln.for -- Doc changes only.
07jan93 rjs	ratty.c -- Support simple #define
07jan93 rjs	noise.for -- Tidy up, as result of HP-UX installation.
10jan93 rjs	uvio.c -- uvinfo returns variance of data.
10jan93 rjs	boxes.for -- Add boxbound to appease nebk.
10jan93 rjs	boxtest.for -- Changes to test boxes.for.
19jan93 rjs	mfcal.for -- Bug estimating bandpass for single IF.
19jan93 nebk	uvplt.for -- Increase by 1 OPS in INPUTS.  rjs guilty.
22jan93 rjs	uvindex.for -- Bug when there is no dra,ddec=0,0.
27jan93 rjs	trnio.for,trnio.h -- Near complete rewrite.
27jan93 rjs	reorder.for -- Significant changes to use new trnio
		routines. Now handles masks.
27jan93 nebk	regrid.for -- Rewrite to do all axes upto 3.  USe trnio
******************** 28Jan93 Sent updates to MarkS
28jan93 nebk	cgdisp.for,cgspec.for -- Remove unneccessary code to do with
		 opening the same file twice
29jan93 rjs	uvaver.for -- Add vecamp averaging option.
01feb93 nebk	pb,demos,ellint,linmos,mfspin.for -- New p.b. interface
01feb93 nebk	uvaver.for -- Rename averaging options in uvaver.
02feb93 nebk	atlod.for -- Better handling of i/o errors.
03feb93 rjs	reorder.for -- Fix fatal bug, which prevented it working
		for 3D cubes.
******************** 03feb93 Sent updates to Mark
04feb93 rjs	imframe.for -- Change amax1,amin1 to max,min, as amax1,amin1
		were being incorrectly used.
05feb93 rjs	moment.for -- Eliminate maxdim**2 array.
09feb93 rjs	mfcal.for -- Use memalloc more, thus reducing size of the
		executable.
09feb93 rjs	boxes.for -- Accidently called the select routines!.
09feb93 nebk	uvplt.for -- Overlay memory with uvdat
09feb93 rjs	uvdat.{for,h} -- Increase name buffer size.
******************** 09feb93 Sent updates to Mark
10feb93 rjs	tvcln.for -- Use memalloc (remove maxdim**2 arrays). More
		modern header handling.
10feb93 rjs	regrid.for -- Redeclar size of dynamic memory array to
		size MAXBUF/2.
10feb93 rjs	fits.for -- Protect against NaNs in uvin.
10feb93 rjs	uvaver.for -- Cosmetic change to history comments.
11feb93 rjs	puthd.for -- Check entire variable name.
11feb93 rjs	imcmp.for -- Eliminate maxdim**2 array.
12feb93 rjs	uvio.c -- uvrdvr{i,r,d} interconvert between int,real,double.
12feb93 rjs	uvio.c -- uvselect ra and dec cope with them being real
		or double.
15feb93 rjs	fits.for,prthd.for,uvgen.for,uvmodel.for,model.for -- Changes
		to handle double precision ra,dec variables.
12feb93 mchw	uvtrack.for  Change uvvariables ra and dec to double precision.
c				Added pol and npol to uvdata.
12feb93 mchw	uvgen.for  Changed ra and dec to double precision.
mchw  11feb93	invert.for  Read uvvariables ra, dec as double precision.
mchw 12feb93	demos.for   Convert uvvariables ra and dec to double precision.
mchw 09feb93	uvtrack.for  Changed ra,dec to double precision.
******************** 15feb93 Sent updates to MarkS
16feb93 nebk	uvplt.for -- Change defaults to size,nx, and ny to shut mr S up
16feb93 nag,rjs uvfit.for -- Fit point sources to visibility data.
16feb93 rjs	gpcal.for -- Increase number of decimal places in a message.
16feb93 rjs	uvplt.for -- Reasonable defaults for the size parameter. nebk
		does not seem to be able to manage it.
******************** 19feb93 Sent updates to MarkS
22feb93 rjs	var.for -- Doc preamble comments.
22feb93 rjs	fitsio.{for,h} -- use maxnax.h
22feb93 rjs	trnio.{for,h} -- use maxnax.h
22feb93 rjs	imminmax.for -- use maxnax.h
23feb93 rjs	xyio.c,xyzio.c,headio.c,maxdimc.h -- Define MAXBUF and MAXNAX
		in maxdimc.h. Use these parameters in xyio.c and xyzio.c.
		Rename a define in headio.c to avoid possible confusion.
24feb93 rjs	var.for -- Bug copying systemp when there are multiple
		spectra.
24feb93 rjs	cgcurs.for -- Rename subroutine "open" to "opens" to
		avoid name conflict on HP-UX machines.
26feb93 nebk	uvplt.for -- Add axis=hangle,dhangle.  Rework interactive stuff
26feb93 nebk	uvpflag.for -- Add options=or
27feb93 nebk	cgsubs.for,cgpgsubs.for -- Reformat call sequence variable
		code in  miriad standard to appease Mr T
03mar93 rjs	wrap.f2c,hio.c,uvio.c,maskio.c -- Changes to implement
		uvflush and hflush.
03mar93 rjs	inc.for -- New subroutines -- N dimensional incrementer.
03mar93 rjs	reorder.for -- Use inc.for
03mar93 rjs	histo.for -- Use maxnax.h.
03mar93 rjs	clean.for -- Positivity constraint.
05mar93 rjs	maxen.for -- Standard history. Options string. Use cnvl
		routines.
05mar93 rjs	uvflux.for -- New program. Mean of visibility data.
08mar93 rjs	uvpflag.for -- Add history comments to vis file.
08mar93 rjs	fits.for,fitsio.for -- More correct treatment of
		frequencies.
08mar93 rjs	tvflag.for -- Standardise history comments. Eliminate some
		non-standard FORTRAN.
08mar93 rjs	prthd.for -- Indicate existence of bandpass table.
08mar93 rjs	uvaflag.for -- Standardise history.
09mar93 rjs	imdiff.for -- Standardise history. Use maxnax.h better.
09mar93 rjs	inc.for -- Add incoff.
10mar93 rjs	zed.for -- Use maxdim.h and MemAlloc/MemFree
******************** 12mar93 Sent updates to MarkS
16mar93 rjs	uvio.c -- Handle zero length files.
16mar93 rjs	atlod.for -- Better AsciiCpy routine
17mar93 rjs	uvspec.for -- Different colours for different plots.
18mar93 rjs	uvpflag.for -- Fix horrid bug I introduced in writing
		history.
18mar93 rjs	fits.for -- Better printing of extension tables.
18mar93 rjs	uvplt.for -- Assume there is at least one polarisation
		in the data.
19mar93 rjs	uvspec.for -- I did not understand the gap arg to pghline!
19mar93 rjs	mfcal.for -- Discard autocorrelation data.
19mar93 rjs	calplot.for -- New task to plot the flux vs freq of a
		few calibrators.
22mar93 rjs	gpcopy.for -- Added merge option.
22mar93 rjs	gpplt.for -- Fix listing of bandpass table.
24mar93 rjs	imframe.for,imspec.for,imstat.for -- Halve the size of the
		MAXBUF arrays.
24mar93 rjs	miriad.c -- Reads a message of the day file.
******************** 24mar93 Sent updates to MarkS
29mar93 rjs	uvsector.for -- New task. Flag a sector of data.
29mar93 rjs	invert.for,uvgen.for,obspar.for,uvio.c,atlod.for,gpscal.for,
		fits.for,selfcal.for,uvmodel.for -- Change calculation of rms
		noise. Change jyperk. Basant changes.
30mar93 rjs	fits.for -- Corrected erroneous calculation of veldop, in
		uvhdin, apparently introduced on 02mar93.
30mar93 rjs	mfclean.for -- Limit the size of the spectral components.
30mar93 rjs	gpcopy.for -- Start generalising it to merge and apply
		gains.
 1apr93 rjs	xyphase.for -- Determine XY phase functions.
 2apr93 rjs	uvlist.for -- Fix problems in stats routine.
 2apr93 rjs	uvgn.for -- Got X and Y gain flags confused.
 2apr93 rjs	uvdat.for -- Reordered some statements into standard order.
******************************
21apr93 nebk	cgdisp.for -- Replace options=channel,velocity by better and
		    more general options=3pixel,3value
21apr93 nebk	cgsubs.for -- Add axtypcg
21apr93 nebk	cgpgsubs.for -- vclabcg -> lab3cg plus rewrite
27apr93 nebk	uvplt.for -- Get longitude from obspar if necessary. Put HA +/- pi
27apr93 nebk	gamma.for -- Rename errofor function from erf to errfun
11may93 rjs	uvio.c -- Fix abs() bug in in velocity line type.
****************************** Send changes to MarkS
06may93 nebk	cgcurs.for -- Replace options=channel,velocity by 3pixel,3value
13may93 rjs	uvio.c -- Fix bug affecting uvinfo(..,'variance,..) when
		select=window is used.
19may93 rjs	selfcal.for -- Merge rjs and mchw versions. Tolerant of
		missing info for variance.
20may93 nebk	cgdisp.for -- Tell user about options=relax here and there
20may93 nebk	cgspec.for -- Deal properly with axes option when x=0 or y=0
		  not on plot
27may93 nebk	cgsubs.for -- Add 0.5 pixel to boundary in limtrcg
27may93 nebk	cgpgsubs.for -- Add routine YHTWCG and use it in a few places
29may93 nebk	cg*.for -- Remove all signs of CHTONVCG in favour of new PGQCS
02jun93 nebk	cg*.for -- Remove all sigms of VSSIZECG in favour of new PGQVSZ
		  This caused ANNDEFCG,VPADJCG,VPASPCG to migrate to CGPGSUBS.FOR
		  from CGSUBS.FOR
07jun93 nebk	gpcal.for -- Formatting change
****************************** 11jun93 Sent changes to MarkS
15jun93 rjs	fits.{for,h},telepar.for,obspar.{for,h} -- Expanded obspar.for
		substantially. Change fits and telepar to make use of the
		changes.
15jun93 nebk	cgspec.for -- Add options=blconly for Mr Kuan
16jun93 rjs	obspar.h -- Work around for bug in Convex compiler.
16jun93 nebk	cgpgsubs.for -- Remove VPASPCG.  PGQCS can do its chores now.
		cgdisp.for,cgcurs.for,cgspec.for -- Remove reference to VPASPCG
		cgdisp.for -- Add options=wedge
18jun93 nebk	mfcal.for -- DOc. change
21jun93 rjs	fits.for -- Bug determining whether there was enough info
		to work out LST, parallactic angle.
21jun93 rjs	obspar.for -- Fix bug in the new obspar.
21jun93 rjs	puthd.for -- Increase the length of a variable. Various
n		checks for correctness.
22jun93 nebk	impos.for -- Remove unused variable, doc change.
22jun93 nebk	maxfit.for -- INcrease a string variable length
22jun93 nebk	regrid.for -- Account for cos(DEC)
23jun93 nebk	cgsubs.for -- Change pix2wcg,w2pixcg,limtrcg to deal
		  with RA axes in rads of polar rotation for abslin/rellin
		  Add COSDECCG and use it in a few places.
23jun93 nebk	cgpgsubs.for -- Change vpadjcg to deal with RA axes
		  in radns of polar rotation for abslin/rellin
		  All this stuff is more modular now, with almost everything
		  going via pix2wcg.  Rework code dealing woth user's scales
23jun93 nebk	cgdisp,cgcurs,cgspec.for -- All have new call sequence to
		  VPADJCG now from above change.  In cgdisp rework beam
		  plotting and x/y scaling following above cgpgsubs change
24jun94 rjs	mfcal.for -- Different way of calculating nants, to make
		it compatible with the other *cal" tasks.
25jun93 rjs	zed.for -- Limit the region of interest in ZedFudge, both
		to speed it up, and avoid singular matrices.
25jun93 rjs	uvgn.for -- Change interpolation technique to make any
		errors introduced to be closing ones.
28jun93 rjs	mem.for -- Improvements in MemBuf -- not a bug fix.
28jun93 rjs	selfcal.for -- Iterate a bit longer. Better memory allocation.
29jun93 nebk	gpplt.for,paraplot.for,varplt.for -- Add 'O' to PGTBOX call
29jun93 rjs	invert.for -- Better error messages when using systemp
		weighting, and required info is missing.
****************************** 30jun93 Sent changes to MarkS
 1jul93 rjs	invert.for -- Doc changes. Merge mchw version.
05jul93 nebk	cgsubs.for -- maxdim->maxnax in w2pixcg
 6jul93 rjs	model.for -- Check for max dim error.
****************************** 06jul93 Sent changes to MarkS
 5jul93 rjs	ephem.for -- Added various new routines. Used mirconst.h
 6jul93 rjs	varplt.for -- Correct the mispelling of the variable
		longit to longitu, in the list of known variables.
 6jul93 rjs	uvlist.for -- Print lat and long in dd:mm:ss format. Replace
		"angles" routine with rangle and dangle.
 7jul93 nebk	cgspec.for -- Put missing yaxis lables back on
 7jul93 rjs	fits.for -- Yet another bug introduced into uvhdin, on 02mar93.
 7jul93 rjs	noise.for, ran.for -- Ran.for was included within noise.for.
		Ran.for can now be deleted.
 9jul93 rjs	gpplt.for -- An extra error message.
 9jul93 rjs	mfcal.for -- Increase MAXHASH, MAXVIS. Other fiddles to
		increase buffers.
13jul93 rjs	velocity.for -- Determine observatories velocity, wrt some
		rest frame.
13jul93 rjs	fits.{for,h},fitsio.{for,h} -- Significant changes.
		* They have been changed to support FITS magic value
		  blanking. When reading a FITS image (op=xyin), a Miriad
		  blanking mask is created when there are blanked pixels. When
		  loading FITS uv data (op=uvin), the correlation flags are
		  set to indicate bad data where appropriate. On writing a
		  FITS image (op=xyout) magic value blanking is used in the
		  output FITS file for pixels flagged by the Miriad blanking
		  mask. No magic value blanking is done on output uv data
		  (op=uvout), as it is redundant (the correlation flags
		  already contain this info).
		* For op=uvin, more of the AIPS AN table is used. The coordinates in this
		  are now used to determine observatory latitude and longitude.
		  Default values, for known observatories (from obspar.for)
		  are used if there is no antenna tables.
		* For op=uvin, the handling of velocities has been
		  significantly enhanced. The "velocity" keyword allows the
		  user to override or recompute velocity information. The
		  velocity.for routines (mentioned in the previous entry) are
		  used to compute the speed of the observatory, in the
		  direction of the source, with respect to a rest frame
		  (observatory, barycentric or LSR). This is used to set the
		  "veldop" uv variable.

15jul93 nebk	cgdisp.for -- try and make plotted beam come out right away
		around again
16jul93 rjs	imdiff.for -- trivial changes to doc comments, as suggested
		by mjs.
16jul93 rjs	uvindex.for -- Substantial rewrite, to improve speed and
		produce frequency summary.
20jul93 rjs	uvdat.for -- Add uvDatGti('visno'...)
21jul93 rjs	invert.for -- Get rid of calls to uvinfo(..,'frequency'...).
		More error messages (for Lauren).
21jul93 rjs	fits.for -- Better handling of freq/velo in uvout.
21jul93 rjs	uvio.c -- Better variance for Stokes parameters.
21jul93 rjs	uvdat.for -- Add uvDatGtr('variance',...). Fix bug dealing
		with stokes=ii (been there a loooong time -- but would have
		been blatantly obvious if anyone had used this feature in a
		way that would have invoked the bug. No one must have!
21jul93 rjs	uvgen.for,invert.for,uvfit.for,uvflux.for -- Fiddles with noise
		handling.
		The last three changes have rationalised code that calculates
		the rms of a visibility, and statistics derived from them.
		The change was to account for the uvDat routines averaging
		together visibilities in forming Stokes correlations. Also
		the uvio uvinfo('variance') was modified to assume that
		Stokes parameters have 1/sqrt(2) the noise that raw polarisation
		visibilities have. I think that all Miriad code that I have a
		hand in that computes variances now does so correctly.
23jul93 rjs	invert.for -- invert.for does not write an invalid pbfwhm
		parameter.
****************************** 23jul93 Sent changes to MarkS
23jul93 rjs	fitsio.for -- Tolerant of X format in binary tables. Handle
		more columns.
27jul93 rjs	intf2c.c -- Handle subroutines with zero args.
28jul93 rjs	gpcal.for -- Guestimate source flux, by assuming
		gains have an rms value of 1.
28jul93 rjs	mem.h -- Create it. This should go into $MIRINC.
28jul93 rjs	fits.for -- Read FG tables. Cope better with multi-source
		files.
28jul93 rjs	fgflag.for -- New task. Apply the FG tables read by "fits".
 3aug93 rjs	model.for -- Make sure the FFT is at least 16 in size.
****************************** 3aug93 Sent changes to MarkS
04aug93 rjs	gpplt.for -- Attenutation becomes spectral correction!
04aug93 rjs	mfflat.for -- New task. Correct for spectral variation!
04aug93 rjs	uvgn.for -- Change definition of attenutation term.
05aug93 rjs	imdiff.for -- Largely formatting changes. Nebk did a poor
		job (but at least he did it).
06aug93 rjs	gpplt.for -- Antenna selection for gains and bandpass.
09aug93 rjs	intf2c.c,flint.c,docfmt.c -- Change to quieten VAXes.
10aug93 nebk	smooth.for -- Use hisinput and add boxcar smoothing
10aug93 rjs	hio.c,hio.h,headio.c -- Added and used hexists.
10aug93 nebk	cgspec.for -- Properly deal with fully blanked spectra
10aug93 rjs	uvfit.for -- Use maxdim.h. How did this go so long like this?
11aug93 rjs	gpcal.for -- Handle multi-channel data. Apply bandpass if
		needed.
11aug93 rjs	uvedit.for -- Rotate the uv coordinates to the right epoch.
11aug93 rjs	ephem.for -- Work out the rotation needed by uvedit.for.
12aug93 rjs	fits.for -- Fix long standing bug in hdin, which caused
		unrecognised keywords in the FITS header to be discarded.
****************************** 17aug93 Sent changes to MarkS
18aug93 rjs	uvspec.for -- Improve labelling.
18aug93 rjs	uvline.for -- Visibility-based continuum subtraction.
18aug93 rjs	hisinput.for -- More tolerant of funny input.
18aug93 rjs	puthd.for -- Standardise history somewhat.
19aug93 rjs	ephem.for -- Added routine deltime -- to give the difference
		between UTC and TAI,TDT,TDB,ET. Routines to account for
		nutation and aberration. Better LST and precession.
19aug93 rjs	prthd.for -- Handle galactic and ecliptic coords.
19aug93 rjs	fits.for,fits.h -- Handle galactic and ecliptic coords.
		Fiddle times for op=uvin. Better apparent coord
		calculation.
23aug93 rjs	pops.for -- New task, somewhat like SLALIBs coco task.
		Eventually I want to make task j2000 obsolete.
23aug93 rjs	uvdat.for -- Added routine uvDatRew.
23aug93 rjs	gpcal.for -- Doc change only.
24aug93 rjs	uvflux.for,uvline.for,uvspec.for -- Added offset option.
24aug93 rjs	invert.for -- Change "shift" keyword to "offset" to be
		consistent.
24aug93 rjs	uvline.for -- "mode" argument and ability to write out
		channel-0 data-set.
24aug93 rjs	var.for -- Write out parameters for channel-0 data-set.
25aug93 rjs	flint.c -- Don't complain about lack of initialisation
		for variables that appear in EQUIVALENCE.
26aug93 rjs	hio.c,hio.h,bug.c,wrap.f2c,dio.c,dirs.c(VMS) -- Write routines
		habort (close up all open data-sets, discarding changes,
		deleting new ones), and hrm (delete data-set). Call
		habort when bugging out in bug.c. Make needed additions
		to dio.c and dirs.c(VMS).
27aug93 rjs	uvline.for -- Be more conservative in the fitting process.
		Give messages about what its doing.
30aug93 rjs	hio.{c,h},wrap.f2c -- Added hseek and htell.
30aug93 rjs	txtioVMS.for -- Use lib$get_lun and lib$free_lun. Change
		ownership to rjs.
30aug93 rjs	uvindex.for -- Call logclose.
30aug93 rjs	gpbreak.for -- increase maxtimes.
31aug93 rjs	selfcal.{for,h} -- More accurate messages. Better behaviour
		for low S/N. This results in the meaning of options=noscale
		changing subtly.
31aug93 rjs	uvredo.for -- New task. Recompute derived uv quantities.
31aug93 rjs	velsw.for -- New task. Change the velocity definition in an
		image.
31aug93 rjs	invert.for -- vsloppy option.
03sep93 nebk	strf.for -- New subroutines for string formatting
03sep93 nebk	angles.for -- Add dangleh
06sep93 rjs	reorder.for -- Fixed bug reordering masks. All masks reordered
		prior to this date will have been wrong!
07sep93 nebk	uvspec.for -- Add log file
07sep93 rjs	var.for -- Merge in some mjs changes.
07sep93 nebk	cgsubs.for --Remove DEGHMSCG in favour of new DANGLEH
		Add "absdeg" and "reldeg" axis label types. Add PIXI2WCG.
		Add DOEPOCH to LIMTRCG
07sep93 nebk	cgpgsubs.for -- Add "absdeg" and "reldeg" axis types. Scrap
		DEGHMSCG in favour of new DANGLEH. Add DOERASE to STRERSCG
		and LAB3CG
07sep93 nebk	cgdisp.for -- Convert overlay channel field to channel range. Add
		LABTYPs "absdeg" and "reldeg".	Add OPTIONS=NOERASE and NOEPOCH
07sep93 nebk	cgcurs.for -- Add info. about 3rd dimension in "cursor" option.
		Add LABTYP "absdeg"  and "reldeg".  Improve CURPOS formatting.
		Eradicate TR array except in PGPLOT calls. Add OPTIONS=NOERASE
07sep93 nebk	cgspec.for -- Add LABTYP "absdeg" and "reldeg", OPTIONS=NOERASE,NOEPOCH
07sep93 nebk	impos.for -- Add "absdeg" and "reldeg" types
07sep93 nebk	maxfit.for -- Include new "absdeg" and "reldeg" axis types
07sep93 rjs	hio.c -- Bugfix in habort.
07sep93 rjs	uvlin.for -- Renamed uvline.for.
****************************** 7sep93 Sent changes to MarkS
07sep93 nebk	zeestat.for -- Add keyword out
09sep93 rjs	plotone.for -- Better handling of colour. Standardise.
09sep93 rjs	si.for -- New subroutine. Sine integral.
10sep93 nebk	cgcurs.for -- Add options=box
10sep93 nebk	cgsubs.for -- FOrmatting change in OPTCG
16sep93 rjs	immask.for,varlist.for -- logclose was not being called.
16sep93 rjs	gpbreak.for,fits.for,mfplan.for,uvindex.for,varplot.for,
		varplt.for,bsrch.for,uvlist.for,btype.for,julday.for,
		model.for,obspar.for,pols.for -- Changes to rename the
		bsrch functions to binsrch (to avoid a name comflict with
		the JPL SPICE ephemeris library).
16sep93 rjs	varplot.for -- Call pgbeg as a function.
16sep93 nebk	maxfit.for -- Add log file
20sep93 rjs	pops.for -- Source rise and set time.
20sep93 rjs	mfplan.for -- Option of L2 and Linfinity norms.
21sep93 rjs	fft.for -- Honour image mask. Pad images to power of two
		if needed. Handle MAXNAX dimensional images.
21sep93 rjs	maths.for -- Some reordering to allow a template to be
		given to the Box routines.
21sep93 rjs	tvdisp.for -- Display flagged pixels as the background
		colour.
22sep93 rjs	uvspec.for -- rms option.
****************************** 23sep93 Sent changes to MarkS
23sep93 rjs	select.for -- Correct misleading error messages.
24sep93 rjs	gpboot.for -- Handle the primary and secondary having
		different number of feeds.
24sep93 rjs	selfcal.for -- Doc changes only.
24sep93 rjs	invert.for -- fixed long time bug dealing with the size
		of the weights array under certain conditions.
25sep93 rjs	uvaver.for -- check when we run out of baseline slots.
29sep93 rjs	calstoke.for -- Added 0823 and 0497 to the known sources.
04oct93 rjs	linmos.for -- Increase number of input files.
07oct93 rjs	mfplan.for -- Change default frequencies to appease akt.
07oct93 nebk	velsw.for -- Doc change
07oct93 rjs	mosaic.c -- Fix incorrect doc comments. bpw refuses to accept
		these.
08oct93 rjs	mosaic.c -- Fix incorrect linear mosaic weights, as per bpw
		note.
08oct93 rjs	invert.for -- Increase a buffer.
08oct93 nebk	imblob.for -- Some doc and formatting changes
11oct93 rjs	fft.for -- Increase max file name size.
12oct93 rjs	gpaver.for -- New task, to average gain solutions in time.
12oct93 rjs	gpnorm.for -- noapply is now the default.
12oct93 rjs	mfcal.for -- nodelay is the default. Different scaling
		of fluxes.
12oct93 rjs	atmerge.for -- Get it to work again.
12oct93 rjs	xyphase.for -- Break points. Better consistency checks.
12oct93 rjs	varplt.for -- SOme tidying.
12oct93 rjs	mosaic.c -- More fixes to the weights, as given in another
		note by bpw.
12oct93 rjs	gpbreak.for -- Change "times" to "break".
13oct93 nebk	atmerge.for -- Fix central frequency bug.
13oct93 rjs	atmerge.for -- Stopping criteria was wrong.
14oct93 rjs	uvsplit.for -- New task to break files into pieces.
14oct93 rjs	uvtriple.for -- Fix bug in ordering of parameters to getopt.
		Correct equation to calculate the triple product.
14oct93 rjs	xmtv.c -- Close socket when its no longer in use.
18oct93 rjs	tangle.for -- Get time or angle from user input.
18oct93 rjs	atxy.for -- Correct for AT XY phase difference.
19oct93 rjs	uvaver.for -- Check that some data are actually read.
22oct93 rjs	imload.for -- New task.
22oct93 rjs	fits.for -- Bug in writing FREQID in fg table.
22oct93 rjs	uvtriple.for -- Check for buffer overflow. Set ntrp=1
		when options=notrip.
22oct93 rjs	uvlinerr.for -- Noise sensitivity of uvlin.
24oct93 nebk	gpplt.for -- chnage nxy defaults to 3,2
25oct93 rjs	fits.for -- Stokes axis in xyin was not being scale
		correctly.
25oct93 rjs	gpbreak.for -- Wrong keyword.
25oct93 rjs	psfmos.for -- New task. Determine the PSF of a mosaic experiment.
26oct93 rjs	linmos.for -- Fix geometry bug.
26oct93 rjs	gpscal.for -- Count number of antennas differently.
26oct93 rjs	uvgen.for -- Correct uv coordinates when doing mosaiced
		experiment.
27oct93 rjs	uvsplit.for -- Include copying of gain tables.
27oct93 rjs	contsen.for -- This is a renamed version of uvlinerr.for.
27oct93 rjs	pops.for -- Use keyt routines.
28oct93 rjs	conterr.for -- Continuum subtraction error.
28oct93 rjs	poly.for -- Include double precision versions.
 1nov93 rjs	poly.for -- Correct double precision versions.
 4nov93 rjs	atxy.for -- Correct all antennae.
 5nov93 rjs	gpscal.for -- noscale option, to make it consistent with all
		the other calibration tasks.
 5nov93 rjs	uvflux.for -- Avoid divide-by-zero problem when data are
		identically zero.
 5nov93 rjs	uvindex.for -- Handle longer source names.
 5nov93 rjs	uvlin.for -- Better poly fitter.
 5nov93 rjs	wpfit.for -- Weighted least squares poly fit.
 5nov93 rjs	gpboot.for -- Do not copy leakages.
****************************** 5nov93 Sent changes to MarkS
 9nov93 rjs	selfcal.for -- Record better guess of the solution time.
 9nov93 rjs	atxy.for -- Flush out last XY phase solution.
10nov93 rjs	uvfit.for -- Handle multi=channel data.
10nov93 rjs	early.for -- New task. Flag early/normal problems.
11nov93 rjs	model.for -- Correct sign of spectral index.
12nov93 rjs	implot.for,uvstat.for,uvcheck.for -- call logclose.

12nov93 rjs	cgcurs.for -- Use new txtopen instead of txtopena
12nov93 nebk	gamma.for -- Prevent some underflows
12nov93 nebk	imrm.for -- Add options=ambiguous and blanking info to user
15nov93 nebk	impol.for -- Keyword pacut called paclip in code.  Ugh.
16nov93 rjs	uvio.c -- Fiddle planet scaling.
16nov93 rjs	uvflux.for -- Do not perform planet scaling.
16nov93 nebk	uvlin.for -- Removed STokes keyword
17nov93 nebk	cg*.for -- 'O' option to x-axis PGTBOX labels, 's' flag
		  and add labtyp=none
18nov93 nebk	imlist.for -- ALlow much bigger regions
19nov93 rjs	uvedit.for -- Output data is in the same state of compression
		as the input.
19nov93 rjs	varplt.for -- Add a few more variables.
19nov93 rjs	pops.for -- Radial velocity was alway geocentric. Better
		formatting.
19nov93 rjs	atlod.for,.h -- Major rewrite.
19nov93 rjs	histo.for -- Better flux messages.
20nov93 rjs	miriad.c -- Handle more args. More tolerant of crap inputs.
		Better treatment of missing environment variables.
20nov93 rjs	atxy.for -- Read from the xyphase variable if its present.
22nov93 rjs	gaupar.for -- New subroutine to determine characteristics
		of the convolution of two images.
22nov93 rjs	convol.for -- Allow user to input a gaussian. Change
		scaling behaviour.
22nov93 nebk	smooth.for -- Jy/beam autoscaling and keyword norm->scale
****************************** 22nov93 updated the UQ machine.
23nov93 nebk	gpaver.for -- DOc change
24nov93 rjs	gpcopy.for -- Copy history across in mode=create.
24nov93 rjs	prthd.for -- Correct the units of x,yshift.
25nov93 rjs	smooth.for -- Change "width" to "fwhm"
25nov93 rjs	boxes.for -- Increased a buffer.
25nov93 rjs	tangle.for -- Fix erroneous error check.
25nov93 rjs	atlod.for -- Eliminate spurious messages after at start
		of a new scan.
25nov93 rjs	xyphase.for,gpbreak.for -- Eliminate internal version of mkeyt.
26nov93 rjs	imstat.for -- Work around array bounds violation and HP
		compiler bug.
27nov93 rjs	mfclean.for -- Another try at an algorithm to limit the size
		of the spectral component.
27nov93 rjs	atlod.for -- Switch sampler correction antenna numbers.
27nov93 rjs	median.for -- Add median2 routine.
27nov93 rjs	atxy.for -- USe median2 routine.
27nov93 nebk	cgspec.for -- Bug getting pixel increment for GRID olay
28nov93 rjs	fits.for -- Fix bug in calculation of parallactic angle
		for multi-source files.
28nov93 rjs	uvredo.for -- Parallactic angle recomputation, to fix
		up files with the above bug!
****************************** 29nov93 Sent changes to MarkS
29nov93 rjs	psfmos.for -- Increase buffer size.
30nov93 rjs	uvindex.for -- Correct units of first pointing offset.
30nov93 rjs	fits.for,fitsio.for -- More tolerant of degenerate
		or large FITS tables.
07dec93 nebk	cgsubs.for -- Add 'V' to y axis time labels for new PGTBOX
09dec93 rjs	fits.for -- Really make sure the default velocity system
		is observatory relative.
13dec93 rjs	atlod.{for,h},fits.{for,h},gpcal.{for,h},gpscal.{for,h},
		uvdat.{for,h} -- Changes to correct sign of V (linear feeds)
		and make sign of U(circular feeds) consistent.
	There has been a long standing
	sign problem, with Stokes V (for telescopes with linear feeds, such
	as the ATCA) and for Stokes U (for telescopes with circular feeds,
	such as the VLA). I believe I am now on top of it. This will not
	affect Hat Ck data, but it *MAY* affect VLA and ATCA users interested
	in those Stokes parameters. I will e-mail Mel, PeterT and you a memo
	detailing the problem. Any users with VLA data who are interested in
	Stokes U or ATCA data who are interested in Stokes V should read at
	least the second last section (which gives a history of sign errors).
	The rest of the memo is a maze of sign flips, conjugations, and adding
	90 or 180 degrees to things.
14dec93 nebk	cgpgsubs.for -- No gap between annotationa nd border when
		labtyp='none'.	CHange to anniniCG and cg*progs
14dec93 nebk	cgsubs.for -- Add subroutines MASKORCG and READBCG
14dec93 nebk	cgspec.for -- Add type=mask options=noblank
14dec93 nebk	cgdisp.for -- Add type=mask
14dec93 nebk	cg*.for -- A variety of formatting and organization changes
		In particular, strip subroutine LIMITS into CGSUBS/LIMITSCG
23dec93 rjs	uvlin.for -- Handle zeroth order fits (poly fitter refused).
23dec93 rjs	hio.c -- Bug in hexists_c, when tno==0.
23dec93 rjs	uvio.c -- uvinfo(..,'felocity'..)
23dec93 rjs	uvspec.for -- Handle optical velocity definition
23dec93 rjs	uvflag.for,gpscal.for,selfcal.for,uvmodel.for -- Minimum match
		for line parameter.
23dec93 rjs	maskio.c -- Do not open a mask in read/write mode unless you
		really need to. This will allow users to read vis dataset that
		they do not have write permission (previously you needed
		write permission just to read a vis dataset!).
03jan94 nebk	cgsubs.for -- Add SETCOLCG, new call for OMATCHCG and renamed
		  to MATCHCG
		cgdisp.for -- New call to MATCHCG
		cgspec.for -- New call to MATCHCG
05jan94 rjs	uvio.c -- Doc changes only.
05jan94 rjs	wrap.f2c -- Added hexists and hmode.
05jan94 rjs	hio.c,hio.h -- Added hmode -- to check the read/write
		accessibility of a dataset.
05jan94 rjs	imminmax.for -- Check a dataset is writable before writing
		out datamin and datamax. This will allow users to do more
		with datasets they only have read permission with.
06jan94 nebk	expun.for -- Exponential with no underflow
		gamma.for -- Use EXPUN
06jan94 nebk	cgslice.for -- New program to make slices from image with
		cursor and fit Gaussians to them
06jan94 nag	uvtriple.for -- FIx problem with antenna numbers greater
		than MAXANT
09jan93 nebk	cg*.for,impos.for,maxfit.for -- Convert all CRPIX arrays and
		associated vraiables to double precision.  Make all pixel
		to world and vice versa transformations be in double.
		impos.for -- Convert between coordinate sytems now, not just
			     pixel -> world.
10jan94 rjs	conterr.for -- Doc changes only.
11jan94 rjs	convol.for -- It was not obeying explicitly given scale factors
12jan94 nebk	uvpflag.for -- More info to user
13jan94 rjs	tvdisp.for -- correct handling of mask when only a subportion
		of the image is displayed.
13jan94 rjs	invert.for -- Used double precision for an accumulator to
		avoid rounding error problem.
13jan94 mhw	linmos.for -- Relax alignment requirement on the third axis.
17jan94 rjs	gpcopy.for -- Include copying of cgains and wgains items,
		for mchw.
17jan94 rjs	restor.for -- Make sure beam is writable before writing out
		beam parameters.
18jan94 rjs	calstoke.for -- Include the current new 1934 poly.
****************************** 20jan94 Sent changes to MarkS
21jan94 rjs	imblob.for -- Formatting changes
21jan94 rjs	uvlist.for -- Fixed formatting botch (created by me)
21jan94 rjs	fits.for -- Ignore FITS keywords that contain non-standard
		characters.
24jan94 rjs	maxfit.for -- fix small typo in the doc comments.
25jan94 rjs	uvtriple.for,uvfit.for -- change ownership.
26jan94 rjs	uvindex.for -- Generate message when there is a long
		gap in the observing time.
27jan94 nebk	imheq.for -- New task to do histogram equalization of an image
28jan94 rjs	tvflag.for -- Why did I think it was working?
 9feb94 rjs	atmos.for -- Generate ATCA-style mosaic files.
09feb94 nebk	ofm.for -- Code to fiddle lookup table of PGPLOT device
		cg*.for -- Implement fiddling of lookup table
			   More transfer functions for "range"
			   Wedges for all cg programs now
		cgdisp.for -- One range per subplot capability
****************************** 20feb94 Sent changes to MarkS
28feb94 nebk	impol.for -- RDHDD defaults must be double precision
01mar94 nebk	ofm.for -- Add fixed zero colour contours for RDE
02mar94 nebk	cg*.for -- Better yaxis displacement for DMS/HMS.
04mar94 nebk	Miscellaneous changes for solaris
		  -- Update README
		  -- General   CVEX -> convex
			       SUN4 -> sun4
				       sun4sol
		  -- In mirlibs, include libraries  -lsocket -lnsl -lV77
		     which do not appear to be searched by default.
		     The last one is for rpfits, a Fortran function.

		  -- scripts/unix/mirtar.csh	extended to include sun4sol
		  -- scripts/unix/sun4sol/*
		     . use TMPDIR environment variable instead of -temp
		       in f77 and cc as this switch not available
		     . remove -l switch from ar  as no equivalent
		  -- subs/oscalls.f2c	remove function deltau which does not
		     compile. bima version does not have it
		  -- spec/xmtv
		     . created directories convex, sun4, sun4sol
		     . copied Build and xmtv.csh into these directories
		     . changed sun4/Build and convex/Build to copy xmtv.csh
		       from these directories.	ALso modified Build so
		       that static xmtv goes into sun4 directory
		     . modified sun4sol/Build  so that Inlcude location
		       changed to openwin, and added /usr/lib/libsocket.a to
		       library list.   STatic version does not link
		       with same library list as dynamic version.  Changed
		       to make semi static version (some -Bstatic some
		       -Ddynamic libraries)
		     . modified sun4sol/xmtv.csh LD_LIBRARY_PATH appropriately
		  -- spec/xpanel Copied Makefile to Makefile.solaris
		       modify include and link paths and include -lsocket
09mar94 nebk	tvflag.for -- Declare APRI long enough
09mar94 nebk	cg,pgsubs.for -- Move wedgecg from cgsubs to cgpgsubs
04mar94 rjs	ephem.for -- Added sunradec
04mar94 rjs	tvflag.for -- Cope with data out of time order.
07mar94 rjs	mirtar.csh -- Cope with arbitrary number of binaries.
07mar94 rjs	README -- Talk about solaris.
07mar94 rjs	obspar.for -- Added WSRT evector.
07mar94 rjs	fitsio.for -- More tolerant of labelling of RA and DEC.
08mar94 rjs	uvspec.for -- Cope better with data out of time order.
10mar94 rjs	contsen.for -- Added xrange keyword.
14mar94 rjs	fits.for -- Correct misunderstanding I had about antenna
		table coordinates (only affects VLA observations).
14mar94 rjs	atlod.for -- INTBASE changes.
15mar94 nebk	uvlin.for -- Mention CONTERR in doc
15mar94 nebk	cg*.for -- Add spatial binning.  IMplement use of new PGSTBG
			   in CGPGSUBS/STRERSCG
17mar94 nebk	uvplt.for -- Add options=2pass,overide and rms to log file
18mar94 nebk	cgspec.for -- Add image type "dspectrum"
22mar94 nebk	uvspec.for -- Add options=flagged
		maxfit.for -- Output format changes
14mar94 rjs	uvlin.for -- Added solar shift stuff.
23mar94 rjs	gpcal.for -- Check for the existence of closures, and
		do the right thing if they do not exist.
28mar94 nebk	uvindex.for -- Add keyword interval
		imspect.for -- Add spectral axis type to log file
		uvdat.for -- Calibration messages not reissued after uvdatrew
29mar94 rjs/nebk gpplt.for -- Fixed bugs in listing of bandpass
		tables. Improved formatting.
30mar94 nebk	mfcal.for -- Added options=interpolate
		uvpflag.for -- GIve user correct information for a change
02apr94 nebk	pghline.for -- Add pgbbuf/pgebuf calls for efficiency
08apr94 rjs	atlod.for -- Readd the bit of code to not apply sampler
		corrdctions after 11Dec93.
12apr94 rjs	uvlin.for -- Finish adding solar subtraction stuff.
25apr94 rjs	copyhd.for,delhd.for,boxes.for -- Corrected call sequence
		to hclose.
 2may94 rjs	sort.for -- Corrected bug which cause sortr to bomb when
		sorting one element.
  4may94 rjs	uvflux.for -- Use double precision, better doc, print num visibs
****************************** 24fmay94 Sent changes to MarkS
01jun94 nebk	varplt.for -- Doc change
05jun94 rjs	fits.for -- Copy bpa keyword in xyin.
11jun94 nebk	cgsubs.for,cgpgsubs.for -- Explicitly recognize UU and VV axis types
		Put spatial binning on plot annotation.
14jun94 nebk	btype.for -- Make case insensitive because FITS converts to upper case
16jun94 nebk	cgdisp.for -- New "ocircle" overlay and mess about with
		  overlay locations.
		cgpgsubs.for -- CHnage algorithm slightly for LAB3CG
		   Add string justification to STERSCG
27jun94 nebk	zeesim.for -- Beam opened asking for 3 instead of 2 dims.
28jun94 nebk	avmaths.for -- Clarify use of region keyword, and add
		  options=multiply
20jun94 nebk	cg*.for -- Implement box type images
01jul94 nebk	spaxsw.for -- Switch spectral axis descriptors between
		  frequency and velocity (stripped out from velsw)
		zedscale.for -- Call spaxsw
		zeestat.for -- Make sure axis types the same
		zeemap.for -- Make sure axis types the same

12jul94 nebk	cgpgsubs.for -- Mess about with scale algorithm in VPADJCG
		cgsubs.for -- FIx dimensioning bug in SETDESCG
19jul94 rjs	fits.for -- Sign fudge of WSRT data.
****************************** 19jul94 Sent changes to MarkS
19jul94 rjs	fitsio.for -- Handle uu-ncp,vv-ncp, etc
19jul94 nebk	cgsubs.for -- Allow for roundoff difference in CHKDESCG
19jul94 nebk	imcat.for -- Allow for roundoff differences
19jul94 rjs	uvgn.for -- Initialise bandpass gains, even if they are flagged.
21jul94 rjs	uvio.c,uvdat.for -- Fiddles to the handling of planet rotation.
22jul94 rjs	linmos.for -- Add ability to evaluate gain and sensitivity
		functions.
22jul94 rjs	select.for -- RA/DEC selection.
24jul94 rjs	prthd.for -- Tell about the number of aipsfg tables.
25jul94 rjs	fitsio.for -- Better mods to handle PTYPE="UU-xxx" and "UU xxx"
26jul94 rjs	nswc.for -- Routines stolen from the NSWC library.
26jul94 rjs	uvfit.{for,h} -- Substantial rewrite. Handles disk models,
		gaussians and point sources now. You can specify that
		various parameters are fixed. Currently it does not give
		error estimates.
26jul94 rjs	linmos.for -- Doc change only.
26jul94 rjs	uvdat.for -- More accurate leakage correction.
27jul94 rjs	tvflag.for -- Get rid of a debugging print statement.
29jul94 rjs	fitsio.for -- Handle uu-l,vv-l,ww-l, and time with bzero==0.
29jul94 rjs	fits.for -- Better integration time.
29jul94 rjs	obspar.for -- Handle double-barrelled names.
02aug94 nebk	cpggsubs.for -- LAB3CG was getting value wrong when channels averaged
02aug94 rjs	fitsio.for -- Recognised XTENSION='BINTABLE'. This is to
		support the 15Jan94 version of AIPS.
03aug94 nebk	ofm.for -- Add ofm replication
04aug94 rjs	gpcal.for,mfcal.for,calstoke.for -- options=oldflux, and
		support for new and old ATCA flux scale for 1934-638. These are
		to accomodate people using the old flux scale. The default
		flux scale is the new one.
09aug94 rjs	invert.for,invert.h,obspar.for -- Better support for E-W
		telescopes in the coordinate definitions.
11aug94 rjs	invert.for -- Better normalisation of the beams for the
		sloppy and vsloppy options. Previously the normalisation used
		assumed all the data were good. Now the normalisation is exactly
		correct either if all the data are good, or if natural weighting
		and no tapering is used. See the comments following the sloppy/vsloppy
		descriptions in the .doc file.
15aug94 rjs	prthd.for -- More decimal points for restfreq
15aug94 rjs	itemize.for -- Honour format keyword, even when there is
		only 1 value in an item.
16aug94 rjs	uvlin.for -- Zeroth order fits were failing again for no good
		reason (apart from an absence of code).
16aug94 rjs	co.for,co.h -- Coordinate conversion routines. A general
		set of routines to convert between grid and astronomical
		coordinates, using exact equations.
17aug94 rjs	fits.for -- Change -SIN to -NCP for ew arrays.
17aug94 rjs	linmos.for -- Change output projection code to cartesian.
18aug94 nebk	angles.for -- Add hangleh
19aug94 rjs	fits.for -- Don't make everything uppercase, in hdout.
23aug94 rjs	mfcal.for -- Better hashing algorithm
23aug94 rjs	uvindex.for -- Better print format.
26aug94 rjs	psfmos.for -- Initialise Wts array.
 1sep94 rjs	atxy.for -- options=srcbreak.

 4sep94 rjs,nebk Coordinate and uvio changes ....

We have been working to install better coordinate handling into Miriad.
This is primarily to handle RA and DEC accurately, but also to a lesser
extent to better support images with an optical velocity convention
(FELO axis).  Below are brief descriptions of the problems with various
tasks, and the state that the changes to improve them are in.  Tasks
with an asterisk indicate that they need more work than currently done.
We probably have missed some tasks and some work needed.

The changes are built on a new module of routines -- co.for -- which
convert between "pixel" and "world" coordinates.  The two most used
routines in co.for are coInit (which initialises a coordinate system
description, given the handle of an image or visibility dataset) and
coCvt (which converts between coordinates).  They handle the AIPS/FITS
axis types RA,DEC,GLAT,GLON,ELAT,ELON with projections
SIN,NCP,TAN,ARC,CAR, as well as the spectral axes FREQ, FELO and VELO
(and conversions between these different spectral axes).  Other axes are
assumed to be linear ones.

There are a collection of inquiry and ancillary routines in co.for as well.

The changes affect programs owned by others (jm, mchw, pjt/lgm).  I
believe we have received permission for the changes, but you might check
the list below for any action done to programs that you own ...

In addition to these changes, we have implemented the changes to uvio to
allow the preamble to be "programmed", and return (possibly computing)
the w-axis coordinate.	Use of this has only been propagated to a few
tasks that create visibility datasets at the moment (fits, uvgen, atlod,
uvsplit, atxy).  When mjs installs this change, he will have to relink
any program that uses uvio.

Comments please! We will not update mjs with the changes for a while
yet.

						Bob Sault
						Neil Killeen


Task	  Description						Status
----	  -----------						------
cgdisp )  See below						*done and tested
cgdisp )
cgspec )
cgslice)

imstat								*

impos	  handle true coordinates				done and tested
maxfit	  report true coordinates				done and tested
imfit	  take and report true coordinates. Also improved this	done and tested
	  substantially.
imblob	  Should report true coordinates.			*?
	  Retire this, as it is superceded by imfit?
imspec								*

regrid	  should treat geometry correctly.			*

linmos	  Terrible geometry problems. As a stop-gap, it writes	*tested
	  cartesian axis descriptions, which is the system that
	  the output images best approximate.
psfmos	  No action, as this should track LINMOS behaviour.	*
	  It has its own odd geometry problems ...
mosaic	  Terrible geometry problems.				*
demos	  Use correct coordinate routines.			done and tested
boxes.for Handles coord accurately. A shortcoming is that, when done and tested
	  using "arcsec" units, the corresponding pixel varies
	  from plane to plane. "arcsec" conversions are computed
	  at the reference plane.

fits	  change images from EW arrays to NCP projection	done and tested
velsw	  use co.for routines to switch velocity		done and tested
getfreq.for Use co routines to get frequency			done and tested
ellint	  Minor change to support change in getfreq.
zed.for   Use co routines to get frequency increment		done and tested
uvgen	  Handle offset positions in a consistent fashion.
	  Do better handling of the W axis effect. Done for
	  point sources, and a good approximation for others.	done and tested
imgen	  Do proper coordinate conversion.			done and tested

uvspec	 ) Handle offset positions properly			(done and tested
uvlin	 )							(
uvfit	 )							(
uvflux	 )							(
uvedit	 )							(
uvsub	 )							(
uvamp	 )							(
model.for) (model.for, when using an image model checks 	(
	    consistency of the projection with the vis dataset)

invert	  Handle offset positions better. Write NCP projection
	  when appropriate. Correct its usage of offset ra,dec	done and tested


------------------------------------------------------------------------
"W-axis" changes

uvio.c	  Able to set the contents of the preamble. Able to get
	  (u,v,w) coordinate. This change is not essential for
	  any of the above, but was convenient to introduce at
	  this time.						done and tested

fits   )
atlod  )
uvgen  )  Handles the w-axis coordinate.			done and tested
uvsplit)
atxy   )



cgdisp,cgcurs,cgslice,cgspec

These are all tied to PGPLOT, and PGPLOT only fully handles linear axes.
Therefore, the CG* model has always been to approximate the coordinate
system by a linear one, which was correct at the reference pixel and
increasingly wrong with pixel offset.  The CG programs still use a linear
approximation, as to fully handle plotting of non-linear axes is a bigger
job than I (nebk) have time or energy for right now.  However, I have made
some changes as described below to partially handle non-linear coordinates,
and in a way to be consistent with all the other changes happening.

 .  All CG programs now approximate the coordinate frame by a linear system
    that is correct at the centre of the displayed sub-image. Thus, if you
    display a small region far from the reference pixel, the labelled
    coordinates will be correct at the centre of the plot, and increasingly
    wrong with offset from the plot centre

 .  All CG programs, when handling coordinates that are input or output
    (except plot labelling), deal in true coordinates, NOT in linear
    approximations.

    Thus, all coordinates reported and written to text files by CGCURS are
    true coordinates.  But if you compared the value reported by CGCURS
    compared with what you measured off the plot from the plot labels,
    you would find discrepancies  as the pixel of interest deviated from
    the centre of the display.

    CGDISP, when reading the overlay locations file, expects the locations in
    the overlay file to be true coordinates.  It then  converts those locations
    into its local linear coordinate system for display.   This means that an
    overlay file generated by CGCURS (giving locations in true coordinates)
    and input directly into CGDISP will cause the overlays to appear over
    the same features as in the display generated by CGCURS (as desired).
    This holds true for  spectral-line cubes too.  Because the absolute pixel
    coordinates of a source change with frequency in a miriad cube (cdelt is
    frequency dependent), an overlay file giving the location of an overlay in
    true coordinates will correctly be converted by CGDISP so that on display,
    the overlay will sit  on the desired source regardless of the channel
    (frequency or velocity).  Similarly, CGCURS outputs the true coordinate
    of a source regardless of what channel it was measured from.

    CGSPEC also behaves in the same way as CGDISP with regards the locations
    locations at which you dictate the spectra are to appear on the spatial
    plot when the IRREGULAR overlay file form is used.

    CGSLICE outputs true coordinates in the output file given by the keyword
    POSOUT.  Similarly, when it reads coordinates from the positions file
    given by keyword POSIN, it expects those coordinates to be in true
    coordinates.   CGSLICE is slightly compromised in that when you write
    the actual slice to a text file (keyword VALOUT), the offset coordinate
    along the slice in the file is still in linear coordinates.   Similarly,
    the fitted gaussians that are reported and saved in a file given by the
    keyword MODOUT) are also in linear coordinates.  It is too big a pain
    for too little reward to fix these up.


 4sep94 rjs	select.for -- get rid of char*(*) in a subroutine call.
 4sep94 rjs	xyzio.c -- Minor change to satisfy Cray compiler.
 4sep94 rjs	uvredo.for -- Change to satisfy Convex compiler.
 6sep94 rjs	uvsplit.for,var.for -- Changes to handle xyphase better.
 7sep94 rjs	uvtrack.for -- W axis change
 9sep94 rjs	maxdimc.h -- Update some values. Include MAXWIN.
 9sep94 rjs	var.for,early.for,uvlin.for -- Support for line=felo.
12sep94 rjs	imgen.for -- Added options=totflux
13sep94 rjs	co.for,fits.for -- Support 'velocity' and 'felocity'
		axes.
13sep94 rjs	imfit.{for,h} -- Error estimates. Total integrated
		flux. Deconvolve by beam.
13sep94 rjs	gpscal.{for,h},selfcal.{for,h},uvmodel.for -- Support
		line=felo and default velocity linetype.
13sep94 rjs	uvdat.{for,h},uvio.c,keyline.for -- Support for line=felo
		ande default velocity linetype.
15sep94 rjs	imfit.{for,h} -- Fits point sources and beams.
20sep94 rjs	flint.c -- Fix bug dealing with blank lines.
20sep94 rjs	uvclip.for -- Niven's task.
21sep94 rjs	atlod.{for,h},atxy.{for,h} -- Change sign convention of
		XY and YX correlations
23sep94 rjs	varplt.for -- Corrected auto-scaling bug when there are
		multiple X axes.
23sep94 rjs	uvaver.{for,h},fits.{for,h},uvdat.{for,h} -- Support for w axis.
****************************** 25sep94? Sent changes to MarkS
28sep94 rjs	uvgen.for -- Merge mchw/rjs versions. Use keyword radec.
30sep94 rjs	uvio.c -- fixed planet bug which I must have introduced
		recently.
30sep94 rjs	getfreq.for -- Fix horror bugs of nebk's origin.
30sep94 rjs	co.{for,h} -- Better handling of datasets that are
		allocated multiple times.
30sep94 rjs	flint.c -- Check for crap at the end of lines.
****************************** 30sep94? Sent changes to MarkS
 4oct94 rjs	nswc.for -- Fix up Mark's changes
 5oct94 rjs	mfcal.for -- Support channel averaging
 7oct94 rjs	uvfitsubs.for -- Change to avoid integer overflow problem.
10oct94 rjs	uvaver.for -- Don't copy completely flagged data. relax option.
10oct94 rjs	uvflag.for -- Eliminate spurious call to uvflgwr.
10oct94 rjs	fits.for,julday.for -- Handle DATE-OBS keyword better.
14oct94 nebk	cgslice.for -- Better cursor handling.
		impos.for -- Fix problem with restfreq=0
24oct94 rjs	uvaver.{for,h} -- Weight time averages according to
		integration time
25oct94 rjs	pb.for,pb.h -- Rewrite.
25oct94 rjs	demos.for,linmos.for,ellint.for,mfspin.for -- Changes to
		support new pb routines.
25oct94 rjs	mostab.for,hdtab.for,mapper.for -- New routines to support
		mosaicing.
25oct94 rjs	co.for -- Changes to support mosaicing.
25oct94 rjs	imlist.for -- Print mosaic table.
25oct94 rjs	prthd.for -- Print more information.
25oct94 rjs	velsw.for -- Changes to cope with changes to co.for
31oct94 nebk	cgspec.for -- Fix prob;lem scrambling scratch file luns
 4nov94 rjs	ephem.for -- Update leap second table.
 4nov94 rjs	ph.h -- Increase max number of primary beams.
 4nov94 rjs	hio.c,wrap.f2c,mm.f2c,dio.c -- Modifications to make them
		more POSIX complient (preparatory for Alpha port).
 4nov94 rjs	atlod.for -- Eliminate a spurious error message.
 8nov94 rjs	invert.for -- Fix rms noise estimate
 8nov94 rjs	imsub.for -- Handle incr and non-rectanglular regions.
 8nov94 rjs	mossdi.for -- Steer deconvolver for mosaiced images.
 8nov94 rjs	mossen.for -- Mosaic sensitivity
 8nov94 rjs	mospsf.for -- Renamed psfmos.
 8nov94 rjs	mostab.for -- Rename mospsf plus a bug fix to it.
 8nov94 rjs	fft.for -- Minor header beautification.
11nov94 rjs	tvflag.for -- Eliminate bounds violation.
15nov94 rjs	hio.c -- Fix bug when rewriting small items.
15nov94 rjs	keyline.for -- Buggered up reference line type.
18nov94 rjs	invert.for -- Avoid rounding error when getting freq0
		Better messages for natural weighting.
18nov94 rjs	mc.for -- Mosaic convolver.
18nov94 rjs	mostab.for -- Various updates/bug fixes.
18nov94 rjs	restor.for -- Substantial rework to support mosaicing.
18nov94 rjs	rest.for,rest.h -- Restoring routines.
22nov94 rjs	mapper.for -- Fix bounds violation in mapfft2.
23nov94 rjs	hdtab.for -- Fix labelling of velocity axis.
23nov94 rjs	co.for -- A dummy statement to stop a warning from the
		alpha compiler.
24nov94 rjs	gpcopy.for -- Supports mode=merge.
24nov94 rjs	packwrap.f2c -- This supercedes packi2.*
24nov94 rjs	unix/alpha_linux/pack.c -- Pack routines for alpha/linux
		machines.
26nov94 rjs	mostab.for -- Fix the determination of the reference
		position.
28nov94 rjs	maxen.for -- Made this substantially more robust.
28nov94 rjs	mosmem.for -- New task. Maximum entropy deconvolver for mosaiced
		observations.
28nov94 rjs	mc.for -- Miscellaneous enhancements.
28nov94 rjs	boxes.for -- Added BoxCount.
28nov94 rjs	mossdi.for -- Account for differing noise variance in the
		deconvolution process.
29nov94 rjs	invert.for -- Uniform weighting function is pointing
		dependent when options=mosaic.
28nov94 rjs	atlod.for -- Check sampler stats and xy phases for bad
		values, and flag accordingly.
30nov94 rjs	uvio.c -- Correct bug in uvset_preamble.
01dec94 rjs	uvsector.for -- Tell about the offending LST as well.
01dec94 rjs	linmos.for -- Handle single-pointing datasets with mosaic
		tables. Store right geometry if all inputs use same proj.
02dec94 rjs	mc.for -- fix bug when convolving regions which are blanked.
03dec94 rjs	maths.for,restor.for -- Copy across mosaic table.
03dec94 rjs	linmos.for -- More lenient in exactness test.
03dec94 rjs	invert.for,mostab.for -- Handle single pointing mosaics
		better.
04dec94 rjs	uvsector.for -- Correct message about HA and LST. Tell
		what UTC times are flagged.
****************************** 6dec94 Sent changes to MarkS
08dec94 rjs	mapper.for -- Check maxdim is big enough.
09dec94 rjs	uvio.c -- More tolerant of missing things for w computation.
12dec94 rjs	imcomb.for -- Combine images. Initial version.
13dec94 rjs	gpcopy.for -- Implemented mode=apply for gains.
****************************** 16dec94 Sent changes to MarkS
19dec94 rjs	si.for -- Added "cin" integral.
19dec94 rjs	invert.for -- Re-added options=amp,phase
23dec94 nebk	cg*.for -- Make sure selected region not bigger than image
		cgpgsubs.for -- Fix ANNWINCG string truncation
				Increase length of STR in COMFMTCG
		cosubs.for -- Remove concatenated char*(*) in subroutine calls
03jan95 nebk	regrid.for -- Was failing for third axis when output longer
			      than input
06jan95 rjs	uvio.c -- make buffer big enough for w coordinate
06jan95 mchw,rjs gpcal.for,gpaver.for,gpcopy.for -- Doc changes and make
		interval the bigger of the thingos, in gpaver.
10jan95 rjs	gpaver.for -- Fixed a bug I introduced above.
****************************** 10jan95 Sent changes to MarkS
12jan95 rjs	mapper.for -- Fix bug in memory allocation algorithm.
12jan95 rjs	imcomb.for -- Fix 3rd axis alignment bug, and write
		mask file.
12jan95 nebk	imbin.for  -- New task to bin up images
15jan95 nebk	uvplt.for -- Less restrictivce on use of -u and -v
19jan95 rjs	select.for,select.h,var.for,uvio.c -- Support for pulsar bins
19jan95 rjs	atlod.for,atlod.h,atxy.for,uvsplit.for -- Support for pulsar bins
25jan95 rjs	uvsplit.for -- options=mosaic
25jan95 rjs	atlod.for -- Write out the fudged source name (rather than
		just discarding it).
25jan95 rjs	headcopy.for,imlist.for,iscoords.for,ratty.c,sfetra.for -- Installed
		pjt changes for the sake of LINUX.
26jan95 rjs	maths.for,imfit.for,intf2c.c,noise.for -- Changes for LINUX
27jan95 nebk	impos.for -- Remove char*(*) concatenations
****************************** 31jan95 Sent changes to MarkS
02feb95 nebk	cg*.for, ofm.for -- Changes for pgplot-5.0 (PGIMAG and PGBAND)
02feb95 nebk	imrm.for -- Improve amiguity algorithm and add plots
02feb95 rjs	mostab.for -- Fix initialisation and potential integer
		overflow problems.
****************************** 06feb95 Sent changes to MarkS
06feb95 rjs	clean.for -- Copy across mostable table.
06feb95 rjs	spec/imcalc/imcalc.c -- Some bugs discovered by pjt.
06feb95 rjs	fitsio.for,fitsio.h -- Rename a common block to avoid a
		LINUX problem.
06feb95 rjs	invert.for -- Changed subroutine name only
06feb95 rjs	model.for,model.h -- Handle geometry  correctly.
06feb95 rjs	uvmodel.for,selfcal.for,selfcal.h,gpscal.for,gpscal.h -- Changes
		associated with changes to model.for. options=mosaic in selfcal.
06feb95 rjs	mostab.for,mostab.h -- Various changes.
06feb95 rjs	co.for,co.h -- coGeom routines.
06feb95 rjs	linmos.for -- Rework to fit better within mosaic suite.
06feb95 rjs	demos.for -- Rework to fit better within mosaic suite.
06feb95 rjs	mossdi.for,mosmem.for -- Copy mosaic table to component file.
18feb95 nebk	atlod.for -- Fix up output source name that mr s bodged
20feb95 rjs	ercmd.c -- Command line editor.
20feb95 rjs	tvflag.for -- Grid multiple things in a pass.
20feb95 rjs	clean.for -- Handle arbitrary match between model and clean region.
20feb95 rjs	miriad.c -- Changes to command line editing.
21feb95 rjs	uvsplit.{for,h} -- Support select=win (when not using
		options=nowin).
21feb95 nebk	cg*.for -- Support for b on w for hardcopy and w on b for
		   interactive devices.  Add colour table selection to
		   range keywords.  Move to image type "pixel" instead of
		   "grey" (still supported).

21feb95 nebk	ofm.for -- Add OFMCOL
21feb95 nebk	options.for -- Minor format chnage to KEYMATCH
22feb95 rjs	uvio.c -- Relax linetype step limitation in uvflgwr.
27feb95 rjs	demos.for -- Fix offset problem. Get it to process multiple
		vis files.
27feb95 rjs	uvcat.for -- Fix options=unflag for files containing
		several simultaneous polarisations.
27feb95 rjs	tvflag.for -- Flagging based on phase uses phase
		in the range -180 to 180.
01mar95 nebk	calplot.for --- ALlow smaller ranges
****************************** 04mar95 Sent changes to MarkS
09mar95 nebk	atlod.for -- Add options=birdie and list of expanded files to summary
11mar95 nebk	uvplt.for -- No yellow for hardcopy
13mar95 rjs	mossen.for -- call mosMFin. Also  fix bug in flags determination.
13mar95 rjs	hio.c -- Increase the max number of accessible items.
13mar95 rjs	mostab.for -- Add tolerance for pbfwhm parameter in mosChk.
15mar95 rjs	pb.for,pb.h -- Better models for HATCREEK and WSRT.
15mar95 rjs	convol.for -- Added options=final.
15mar95 rjs	gaupar.for -- Support for options=final.
24mar95 rjs	atxy.for -- options=undo and options=reweight.
27mar95 rjs	atxy.for,atlod.for,atlod.h,lagwt.for -- Changes to implement
		lag reweighting in both ATLOD and ATXY.
28mar95 nebk	imrm.for -- PLotting nothing nowhere if device unset
28mar95 nebk	cgcurs.for -- Had its transfer functions back to front
		cgslice.for -- Remove restriction preventing slices
		   starting and ending on blanked pixels
29mar95 nebk	impol.for -- Add capability to produce fractional P and errors
 4apr95 rjs	gpcopy.for -- doc change only
 5apr95 rjs	atlod.for -- really get reweight option to work.
 7apr95 rjs	imfit.for,imfit.h -- Wrok internally with offset coords.
10apr95 nebk	ofm.for,cg*.for -- Add absolute b&w lookup table
25apr95 rjs	hdtab.for -- Write "object" rather than "source" item.
26apr95 rjs	atlod.for -- Honour options=unflag as advertised.
28apr95 rjs	varlist.for,varplt.for -- Cope with variables not appearing in the
		first rtecord.
28apr95 rjs	gpplt.for -- Consistent treatment of phase wrapping.
28apr95 rjs	fitsio.for -- Handle fuvopen(status=old) when there are no history comments.
******************************** 28apr95 Sent changes to MarkS
29apr95 nebk	clean.for -- DOc change
31apr95 nebk	ofm.for -- Better fixed zero colour contours
04may95 rjs	mfclean.for -- doc change only.
21may95 rjs	demos.for -- More messages only.
24may95 nebk	calplot.for -- OPtions=cursor
25may95 nebk	impol.for -- Ref. pix. of output header wrong because of type mismatch
02jun95 rjs	clean.for -- fix bad warning message
09jun95 nebk	impos.for -- Add I/sigma_I blanking
18jun95 nebk	uvtplt.for -- Add options=median and keyword size
26jun95 nebk	regrid.for -- Warning insteaed of fatal for bad pixel
		  increments on unregridded axes, and options=quiet
30jun95 rjs	hio.c -- Declaration to appease gcc.
15jul95 rjs	uvredo.for -- Slight improvement.
27jul95 rjs	pb.for -- Initialise ifail.
31jul95 rjs	dio.c,ratty.c,miriad.c,intf2c.c,interface.c,bug.c,mm.f2c,
		hio.c,headio.c -- Minor changes to stop SGI complaints.
31jul95 rjs	uvdat.for -- Handle planet position angle in the pol'n
		conversion software.
 1aug95 rjs	uvlist.for -- Fix minor bug which only shows up on sgi machine
 3aug95 rjs	imcomb.for -- Get options=nonorm to work correctly.
 3aug95 rjs	calstoke.for -- New poly for 0823
 9aug95 rjs	key.h -- Increase buffer space.
10aug95 rjs	maxen.for,mosmem.for -- New routines to calculate alpha,beta
10aug95 rjs	mirbug.csh -- mirbug general does not work.
10aug95 rjs	mostess.for -- New task. Max entropy mosaic deconvolver.
11aug95 nebk	cgdisp.for -- Reversed lookup tables getting lost
13aug95 mhw	linmos.for -- Clip inputs when its all too big.
14aug95 rjs	linmos.for -- Fix to the above.
14aug95 nebk	cg*.for -- Add arcmin labels
		cgdisp.for -- Options=nofirst
15aug95 rjs	ratty.c -- Add SGI.
17aug95 rjs	mirimport.csh,mirexport.csh -- Changes to use anon ftp for
		distribution.
17aug95 rjs	xpanel.c -- Fix reads for slow links.
17aug95 rjs	imsub.for -- Copy mostable.
17aug95 rjs	gpplt.for -- Fix plotting of bandpass shapes when no selection.
17aug95 rjs	gpboot.for -- Support select=ant.
17aug95 rjs	gpcopy.for -- More messages.
17aug95 rjs	invert.for -- slop interpolate mode. Robust weighting.
		Different beam axis order for options=sdb,mosaic,mfs and npnt=1.
		Cope with missing pointings.
18aug95 rjs	noise.for -- Get it to work with SGI
18aug95 rjs	fftsubs.for -- SGI-specific version utilising SGI routines.
18aug95 rjs	math.for -- SGI version.
18aug95 rjs	mirlibs.csh,update.csh -- Search Miriad SGI directories, and
		use SGI maths library.
19aug95 rjs	contsub.for,cgcurs.for,uvgen.for -- Trivial changes to appease
		g77.
03sep95 nebk	cg*.for -- Big tricks to implement non-linear coordinate
		labelling. Added overlay grids too.  Detect background
		colour of device
06sep95 rjs	boxes.for -- Check for regions that extend beyond the image.
13sep95 rjs	calc.for -- Added -f flag.
14sep95 rjs	closure.for -- Bring it up to scratch (complete rewrite).
18sep95 rjs	noise.for -- I screwed up noise.for a month ago.
19sep95 rjs	closure.for -- Reset baseline valid flag.
19sep95 rjs	gpplt.for -- Fix error writing out pol'n solutions.
19sep95 rjs	uvaver.for -- Handle averaging data other than time order.
20sep95 rjs	imcat.for -- Allow tolerance in axis descriptor mismatch.
		Increase number of images.
20sep95 rjs	atlod.for -- birdie option also flags in spectral line mode.
21sep95 rjs	atxy.for -- Readd support for pulsar binning mode.
22sep95 rjs	uvsplit.for --Readd support for pulsar bin mode.
22sep95 nebk	uvplt.for -- Add axis=parang
23sep95 nebk	imcfn.for -- New program to compute confusion noise because
		   of unresolved background sources
26sep95 rjs	fits.for -- Somewhat more tolerant of screwy input headers.
26sep95 rjs	cgsubs.for -- Always give B or J epoch designations.
26sep95 rjs	prthd.for -- SOmewhat more tolerant of screwy headers.
26sep95 rjs	uvspec.for -- Discard bad spectra as soon as possible.
26sep95 rjs	gpcal.for -- Check if solution is well-conditioned.
26sep95 rjs	uvfstats.for -- New task. Give statistics about flagged data.
27sep95 rjs	options.for -- Better error messages.
27sep95 rjs	atlod.for -- Flagging stats.
27sep95 rjs	fitio.for -- More tolerant of screwy headers.
28sep95 rjs	uvspec.for -- Fix bug I introduced two days before.
28sep95 rjs	obspar.for -- Add parkes and nants.
28sep98 rjs	uvlist.for -- Added options=array
29sep95 nebk	invert.for -- Fix typo in a message to hapless user
02oct95 nebk	uvplt.for -- FIx hour angle calculation
******************************** 04oct95 Retrieved all relevant changes from UIUC, as follows
04oct95 jm?	ctrl.for -- ??
********************************
04oct95 rjs	puthd.for -- Support units of "dms", "hms" and "time".
05oct95 rjs	uvsplit.for -- Handle xyphase and systemp being missing
		at the start of the dataset.
07oct95 nebk	cgdisp.for -- More care with channel range for overlays
10oct95 rjs	atxy.for  -- double number of solution intervals possible.
11oct95 rjs	imhol.for -- Significant rework.
11oct95 rjs	obspar.for -- Added atca subreflector diameter.
12oct95 rjs	uvcat.for -- Copy xyphase variable.
13oct95 rjs	varplt.for -- xrange and yrange can be in Miriad time format.
12oct95 rjs	maxen.for,clean.for,mosmem.for -- Handle different sizes
		between CLEAN region, model and default image.
12oct95 rjs	align.for -- Support for the above.
18oct95 rjs	maxen.for -- Write polarisation axis properly.
18oct95 rjs	mosmem.for,maxen.for -- Better doc files.
18oct95 rjs	obspar.for -- Parkes subdiam parameter.
18oct95 rjs	uvspec.for -- options=all
19oct95 nebk	cgsubs.for,cgpgsubs.for -- CHange way image biasing
		  done for sqr and log transfer functions.  Needs more
		  thinking for log.
		cgdisp.for -- Eliminate parameter MAXGR
		cgcurs.for -- Use copy of image for all transfer function
		  types (instead of just heq) when extracting image
		  values.  A result of transfer function bias change.
22oct95 rjs	co.for -- Get rid of a warning message.
24oct95 rjs	mospsf.for -- Do not copy beam parametrs from the input
		beam dataset.
27oct95 rjs	mosmem.for,maxen.for -- Increase max length of input
		file names.
30oct95 rjs	invert.for -- slop=xxx,interp was not working.
31oct95 rjs	uvgn.for -- Fixed horror of a bug when averaging together
		gains. Everyone who had used this should have noticed the bug!
******************************** 03nov95 Retrieved all relevant changes from UIUC, as follows
04oct95 jm	Fixed long standing date>0 problem in tabflux.
********************************
06nov95 rjs	invert.for,hdtab.for -- Support default imsize. Sub-uniform
		weighting. Better default sup and cell.
06nov95 rjs	tvflag.for -- A gap in the display now depends on inttime.
06nov95 rjs	imfit.for -- fwhm cannot be negative!
06nov95 rjs	dio.c -- Scratch files obey TMPDIR.
06nov95 rjs	scrio.c -- Give error messages.
07nov95 nebk	zeefake.for -- Allow signed splitting
09nov95 rjs	closure.for -- Time axis was off by one integration.
10nov95 rjs	fits.for -- options=dss for reading Digital Sky Survey
		images.
11nov95 rjs	uvdat.for -- Allow the user to disable calibration and
		Stokes conversion.
12nov95 rjs	invert.for -- Check imsize somewhat better.
13nov95 nebk	impos.for -- Better check for no coordinate
14nov95 nebk	uvsub.for -- Remove dependence on cgsubs.for
16nov95 nebk	cg*.for,cosubs.for -- Major roadworks.	Internally, all CG* programs
		  now deal only in absolute image pixels.  I have eliminated
		  a lot of the converting, and the need for the linear PIX2W* and W2PIX*
		  subroutines.	All coordinates are now handled by the W2WCO routines
		  that live in COSUBS.FOR; these interface to BobS' co.for coodinate
		  routines.  So at this point the conversion of CG* to handle non-linear
		  coordinates is essentially complete.	I also fixed the long standing
		  problem of RA=0 images anmd HMS labelling.  This needed me to
		  add a new option to PGTBOX as well.  In CGDISP, overlays now
		  fully distort with the coordinate grid, so options=nodistort is
		  in place to prevent this if so desired.
16nov95 nebk	imbin.for -- Some new calls to routines in COSUBS.FOR
16nov95 nebk	regrid.for -- Some new calls to routines in COSUBS.FOR
20nov95 nebk	co.for -- DOCELEST was not being initialized in COCVT
20nov95 rjs	atlod.for -- xycorr option.
20nov95 rjs	uvspec.for -- Use pgrnge and different colours.
20nov95 rjs	uvgn.for -- Fix possible non-closing gains in uvgnFac. Linearly
		interpolate whe the bandpass gains are sampled more
		corarsely than the data.
21nov95 rjs	imsub.for -- Use maxnax.h.
22nov95 nebk	cgpgsubs.for -- NAXLABCG was getting top/right labelling wrong
		  for time labelling.  Remove WEDISP from VPSIZCG call so all
		  cg* programs get a call sequence change.
22nov95 nebk	cgdisp.for -- Add ellipse overlays
23nov05 rjs	pb.for,pb.h -- Extra primary beam fits for the ATCA.
******************************** 23nov95 Sent updates to Doug and Mel.
25nov95 rjs	flint.c -- Correct EQUIVALENCE handling. Better handling
		of exclamation comments and do-loop variable initialisation.
27nov95 rjs	clean.for -- Increase buffer for region-of-interest definition.
27nov95 nebk	imblr.for -- New task. Replace blanks by some value.
27nov95 mchw	uvgen.for -- Correct sign of source position angle in uvgen.
29nov95 nebk	cosubs.for -- Eliminate index searching of CTYPE (new call
		  for CTYPECO). Consolidate CTYPE searching into AXFNDCO/AXTYPCO
		cgsubs.for --  New call for CTYPECO, new ANGCONCG internals,
		  new routine RAZEROCG to detect RA=0 crossings.
		cgpgsubs.for -- Eliminate all calls directly to co.for
		  and go via cosubs.for (W2wCO routines).
		cgdisp.for -- New option=conlab to label contors (new call
		  to CONTURCG) Pretty dreadful performance from PGPLOT routine.
		  Does not handle blanks.  I have written PG routines that do
		  and sent them off to TJP for scrutiny.  WIll include here later
		cgcurs.for -- Add world coords to statistics option output,
		  new call to CONTURCG
		cgspec.for,cgslice.for -- New call to CONTURCG
		impos.for -- New call to CTYPECO
		maxfit.for -- New call to CTYPECO
01dec95 rjs	uvplt.for -- Improve an error message.
01dec95 nebk	qvack.for -- Add keyword FORCE to force a setup change
		 after an amount of time even if there has been no real
		 setup change.
04dec95 rjs	pb.for,pb.h -- Added LSS's fits of the ATCA primart beam at 20cm.
04dec95 rjs	pbplot.for -- List primary beams available.
04dec95 rjs	uvio.c -- Can now override character strings.
04dec95 rjs	mfclean.for -- Allow model and region-of-interest to represent
		different parts of the sky.
04dec95 nebk	cosubs.for -- In AXTYPCO, TYPE was dimensioned (n) instead of (*)
		  Removed useless access to multiple axes in CHKAXCO
		cgdisp.for -- Was losing dimensions of contour image if > 1
		  Changed call to CHKAXCO as above.
		cgsubs.for -- Was forgetting some right hand axis labels
05dec95 rjs	interface.c -- Eliminate a dirty shortcut in zterm that
		was screwing up with some compilers.
05dec95 rjs	lsqfit.for -- Added documentation.
05dec95 rjs	fits.for -- Negate cdelt1 for options=dss.
06dec95 rjs	uvdat.for -- line=chan,0 defaults to all channels.
06dec95 nebk	uvplt.for -- Push maxbase2 to 36 for Hat Creek.  DOes not affect
		  ATCA, but means when plotting Hat Creek data , buffers now have 1/2
		  as much space for data.
07dec95 rjs	gethd.for -- New task. Replaces some of the functionality
		of imhead.
08dec95 rjs	ephem.for -- Added lmn2sph.
10dec95 nebk	uvdat.for -- Fiddle about with calibration messages again
11dec95 rjs	miriad.c -- Do not use pager to give message-of-the-day.
12dec95 rjs	planet.for -- Subroutines to give plaetary ephemerides.
12dec95 rjs	pops.for -- Extract some subroutines and put them into ephem.for
12dec95 rjs	ephem.for -- Added veccross, lstjul
12dec95 rjs	solar.for -- Task to give information on solar system objects.
******************************** 13nov95 Generate updates for Doug and Mel.
13dec95 rjs	boxes.for -- Increase max number of shapes.
13dec95 rjs	mapper.for -- Set minimum transform size to 16 (FFT limiation).
13dec95 rjs	invert.for -- Eliminate min image size restriction.
14dec95 mchw/rjs uvspec.h,uvaver.h,uvgains.h -- Increase MAXAVER
		parameter to allow for BIMA correlator.
14dec95 rjs	prthd.for -- SUpport ANGLE ctype value.
15dec95 rjs	planets.for -- Renamed "solar" and misc other changes.
15dec95 rjs	obspar.for -- Listing subroutine
15dec95 rjs	telepar.for -- Prints list if no observatories are given.
16dec95 rjs	uvedit.for -- Make phase shift calculation more accurate.
18dec95 nebk	cgdisp.for -- Add options=abut for no white space between subplots
		cgpgsubs.for -- Add support for no white space between subplots
		   Fix a couple of truncated strings in ANNWINCG
		cosubs.for --	Add support for new CTYPE "angle"
		cgcurs.for -- New call for VPSIZCG (because of cgdisp options=abut)
		cgspec.for -- New call for VPSIZCG (because of cgdisp options=abut)
20dec95 jm	spec/xmtv/* -- A number of minor changes plus fixes to the
		refresh sequence.
20dec95 rjs	tvdisp.for -- Cleaned up the movie section somewhat.
21dec95 jm	tabflux.for -- Fixed calget because previous fix broke it.
04jan96 nebk	moment.for -- Write axis descriptors as double precision
05jan96 nebk	avmaths.for -- Make axis descritpors reflect size of region
		  for options=replace
09jan96 nebk	uvplt.for -- Only work out obs. longitude if really needed
10nov95 jm	lspoly.for -- Fixed so xlo=xhi doesn't divide by zero.
15nov95 jm	xpanel.c -- Corrected some routine declarations. Also corrected
		the initial iconic state setting.
******************************** 10jan96 Generate updates for Doug and Mel.
******************************** 10jan96 Retrieved all relevant BIMA changes.
10jan96 rjs	imstat.for,imspec.for -- Eliminate hard-coded runs array
		limit of 2048. Make it 3*MAXDIM.
10jan96 rjs	xyzio.c -- Eliminate buffer allocation bug when allocating
		memory.
10jan96 mhw	model.for,uvmodel.for -- Support options=zero which does
		not flag data when using low resolution model.
10jan96 rjs	unix/dio.c -- Make sure scratch file names are truly unique.
10jan96 nebk	cgdisp.for -- NAXIS was not always being assigned to in POSDEC2
		  (causing  some overlays to be missing)
10jan96 rjs	iscoords.for -- Refix statement order for LINUX.
10jan96 rjs	log.for -- Change to appease LINUX f77.
10jan96 rjs	velplot.for,velmodel.for -- Minor changes to appease g77.
10jan96 nebk	imsub.for -- Change crpix and cdelt to double
11jan96 rjs	tvflag.for -- Added options=nosrc
11jan96 rjs	puthd.for -- Fix string truncation bug when writing vartable entry.
12jan96 rjs	mfcal.for -- Increase MAXHASH.
12jan96 nebk	fits.for -- Subroutine AXISIN was incorrectly interpreting
		  Stokes=5 as percentage polarization rather than polarized intensity
		  Also make it recognize 'LL' and 'MM' and convert to RA/DEC-SIN
18jan96 nebk	cgspec.for -- FIx a problem in SPECBLNK cauysing overlay locations
		  to be treated as if they had missed the image.  Only happened
		  if blanked spatial pixels in the dispalyed region.
24jan96 nebk	imsad.for -- Add Niven's task.	Hacked it around a bit;
		  changed all real*8 -> double precision, float -> real, removed
		  inline ! comments.  Included angles.f at end of code, didn't
		  have constants.h so invented them myself.  USes a slightly
		  changed variety of gaupar.for, but did not include this. Renamed
		  sad.h to imsad.h and changed code as needed. REplace STOP/PAUSE
		  by fatal bug calls.
*********************************** Sen25jan96 Send changes to Doug Roberts
26jan96 nebk	imsad.for -- More work on imsad.  Rewrite histogram stuff,
		  remove non-standard angles code, and numerous other thingos.
31jan96 nebk	cgsubs.for -- CHnage CHNSELCG to remove restrictions on
		  channel selection so that selected channel groups
		  (vis CHAN) can now overlap.  New call for all CG programs.
		cgpgsubs.for -- More sig figs for pixel label in LAB3CG
31jan96 nebk	histo.for -- Terminate gracefully if no selected pixels
		  in region rather than dividing by zero.
02feb96 nebk	uvsector.for -- Make it clear that the data are not changed
		  with options=noapply
05feb96 nebk	cgslice.for -- Make POSOUT file format same as for POSIN
*********************************** 07feb96 Send changes to Doug Roberts
28feb96 nebk	cgslice.for -- Was drawing slice vectors wrongly if
		    keyword POSIN set and a subimage was specified
06feb96 rjs	cosubs.for,cgsubs.for -- Handle ctypes that are longer than
		9 characters.
29feb96 rjs	xyio.c,wrap.f2c -- Added routine xyflush
29feb96 rjs	invert.for,mosmem.for -- Call xyflush appropriately.
06feb96 rjs	string.for -- Corrected handling of quotes.
07feb96 rjs	reorder.for -- Handle 4th, etc, dimension.
30jan96 mchw	velplot.for,velplot.h -- Merge AT version with 16jun95 update.
10oct95 mchw	varfit.for -- Added rescale, structure and allan options.
19feb96 jm	tvflag.for -- updated so that it writes out a History entry
		for each (final) change made.
19feb96 jm	uvedit.for -- updated to issue a warning if source= is used but
		the source is never actually seen in the data.	It also warns
		if no obvious change to the data has taken place.
11mar96 rjs	obspar.for -- Changed "nobeyama" to "nro10m", and added
		more info on this observatory.
14mar96 rjs	doc.c -- Minor change to the format of "standard keyword"
		message.
14mar96 rjs	closure.for,demos.for,gpcal.for,mfcal.for,mossdi.for,
		uvlist.for,uvgains.for -- Minor changes to the help file.
14mar96 rjs	line.doc,select.doc,stokes.doc -- Minor changes.
14mar96 rjs	obspar.for -- Fixed bug I created on 11mar96.
15mar96 rjs	doc.c -- Eliminate various bits of non-standard C.
15mar96 rjs	xyio.c -- C standardisation.
15mar96 nebk	sfind.for -- Install Andrew Hopkin's sfind program. Worked on
		by nebk as well to get into shape for Miriad.
18mar96 rjs	sfind.for -- Eliminate some non-standard FORTRAN.
15mar96 mchw	uvcheck.for -- uvclose to flush out last flags if needed.
18mar96 rjs	maxen.for -- Increase maxboxes
18mar96 mchw	var.for -- Added delay variables.
19mar96 rjs	uvcheck.for -- Minor FORTRAN standardisation.
*********************************** 28mar96 Send changes to Doug Roberts
29mar96 rjs	uvgains.for,uvgn.for -- Make these work for autocorrelation
		data.
*********************************** 9apr96 Retrieved changes from Doug Roberts
17feb96 smw	gplist.for -- prettied up?
17apr96 rjs	selfcal.for -- Increased MAXSEL parameter.
17apr96 nebk	imsad.for -- Fix typo in isbox and fiddle with output format a little
18apr96 rjs	angles.for -- Added rangleh.
18apr96 rjs	uvio.c -- Support inter-numeric conversion in uv_override.
*********************************** 25apr96 Sent changes to Doug Roberts
26apr96 nebk	cgsubs.for -- Km -> km in setlabcg
		cosubs.for -- Make axtypco more flexible in recognizing velocity axes
01may96 rjs	uvindex.for -- Print total observing time
01may96 rjs	uvfstats.for -- Ability to give overall flagging stats.
01may96 rjs	shifty.for -- Better coordinates.
02may96 nebk	cgpgsubs.for -- NAXLABCG was in a tangle for RA=0 crossing
		  axes if labeltype was NOT hms
02may96 nebk	cgsubs.for -- ANGCONCG code comments did not reflect code
03may96 rjs	offaxis.for -- New task to eliminate ATCA offaxis polarimetric
		response at 13 cm.
*********************************** 7may96 Retrieved changes from Illinois
11apr96 jm	tvflag.for -- Better inttime handling and better message when
		there is no data.
07may96 rjs	uvgn.for -- Better matching of bandpasses with data in
		uvgnpsma.
*********************************** 7may96 Sent changes to Doug Roberts
*********************************** 8may96 Retrieved changes from Illinois
04apr96 pjt	immask.for -- complain if logic is not valid and work in lower case.
14may96 rjs	imcmp.for -- Fix bugs, implement region selection, improve
		messages, tidy up,
15may96 rjs	headio.c,hio.c,hio.h,uvio.c,io.h -- Rename "roundup" macro,
		and tidy up looses ends.
15may96 rjs	sfind.for,gplist.for -- Some FORTRAN standardisation.
17may96 rjs	imspec.h -- Correct declaration of char variables.
18may96 rjs	uvlist.for -- options=spec was failing when there are more
		than 4 frequency bands
20may96 rjs	tvflag.for -- Change way maxgap is determined.
21may96 sek/rjs xpeak.for -- Determine the peak brightness intensity of a cube.
22may96 nebk	uvplt.for -- Add options=mrms
23may96 nebk	cgdisp.for -- Bump up size of overlay line
*********************************** 23may96 Sent changes to Doug Roberts
*********************************** 23may96 Received relevant updates since 07may
23apr96 mchw	gpedit.for -- New task. Edit the gain table.
20mar96 mchw	varfit.for -- Various.
20dec95 mchw	uvgen.for -- 'polar' (and polarisation switching) capability.
25may96 nebk	imbin.for -- FIx stupid problem when image has only 2 axes
28may96 bmg/rjs imgen.for -- Added object=shell.
28may96 rjs	uvdat.for -- Initialise the "line" variable.
29may96 bmg/rjs bessel.for -- Added j0(x) function.
29may96 bmg/rjs uvfit.for,uvfit.h -- Support for shells, projected spheres,
		etc.
03jun96 rjs	uvsplit.for,var.for,atxy.for,atlod.for,atlod.h -- Support
		for "nbin" variable.
03jun96 rjs	psrplt.for -- Plot pulsar pulse profiles, etc.
23may96 mchw	imlist.for -- Convert coordinates to double; use rangleh and
		hangleh
04jun96 mchw	uvgen.for -- Doc change only.
04jun96 mchw	uvcal.for -- Rotate uv-coordinates from current to standard
		epoch
04jun96 vjm	ellint.for -- Added median and mode modes, and olay option.
05jun96 pjt	uvgen.for -- Better way of setting the random number seed.
06jun96 rjs	uvgen.for -- Make it more consistent with times, obs longitude
		and lst.
06jun96 rjs	uvplt.for -- Default behaviour is now to average all channels
		together and select all channels.
06jun96 rjs	miriad.c -- Various misc. changes to make line reading and
		interrupts more robust on various machines.
07jun96 rjs	planets.for -- Report lambdaIII (1957) as well for Jupiter.
07jun96 bws/rjs psrfix.for -- Task to de-disperse and re-bin pulsar data.
11jun96 vjm/rjs ellint.for -- Use rpa rather than pa in one place. Remove
		call to boxmask.
10jun96 mchw	uvgen.for -- Atmospheric and elevation dependent systemp and
		tpower.
07jun96 jm	julday.for -- To avoid integer overflow in dayjul, I added
		code to strip off trailing 0s beyond the decimal point.
06jun96 jm	uvedit.for -- Correctly add dra/ddec to RA/Dec in Getrdphz
13jun96 rjs	uvcat.for -- Fix bug in window selection.
14jun96 rjs	uvaver.for -- Warn about problems with time averaging of
		bin data.
17jun96 rjs	planet.for -- Added some parameters about the Earth.
17jun96 mchw	angle.for -- Correct .doc file.
17jun96 mchw	prthd.for -- Use hangleh and rangleh.
20jun96 rjs	uvdiff.for -- New task. This either subtracts two visibility
		datasets from each other, or makes one dataset essentially
		have the same uv coverage to the other.
24jun96 nebk	cgcurs.for -- bit brain dead if only two axes im image
24jun96 nebk	cgslice.for -- set slice frame colour depending on background colour
26jun96 rjs	blflag.for -- Interactive baseline flagger.
*********************************** 26jun96 Sent changes to Doug Roberts
28jun96 nebk	imsad.for -- problems with output flags and plotted cross
			for fit location.
03jul96 rjs	atlod.for,atlod.h -- Honour proper motion parameters.
03jul96 rjs	maxfit.for -- When using "options=abs", print out true
		value of pixel (not its absolute value).
03jul96 rjs	grid.for -- Guard against 0**0 in gcffun.
20jun96 pjt	closure.for Larger MAXPLOTS for BIMA (20 -> 90)
12jul96 rjs	invert.for -- Be more forgiving if beam too big with options=double
*********************************** 26jul96 Sent changes to Doug Roberts
13jul96 rjs	gpnorm.for -- Added select keyword, and honour antenna selection.
14jul96 rjs	atlod.for -- Flag all polarisations if at least one is
		bad. Add nopflag option to override this.
17jul96 rjs	atlod.for -- Check for glitches in the xyamp.
27jul96 rjs	mfcal.for -- More robust interp option.
29jul96 rjs	psrfix.for -- Correction calibration switches and some
		FORTRAN standardisation.
31jul96 rjs	uvplt.for -- With options=2pass, try to guess the size of the
		buffer needed.
31jul96 rjs	blflag.for -- Correct labelling of uvdist axis.
31jul96 rjs	uvdat.for,uvdat.h -- Support stokes types of QQ and UU.
05aug96 rjs	clean.for -- Better check for psf peak value not being 1.
05aug96 rjs	uvsplit.for -- Increased max number of files to 500.
07aug96 rjs	fits.for,prthd.for -- Correct scaling when ctype=ANGLE (corrections
		care of Vince McIntyre).
13aug96 nebk	cgcurs.for -- Don't invoke any cursor options if hardcopy device
26aug96 nebk	imblr.for -- Tell user how many blanks rep[laced
*********************************** 16aug96 Retrieve mchw changes.
08aug96 mchw	gpcal.for -- fix minibug for more antennas.
01aug96 mchw	uvindex.for -- Increased MAXSPECT=18.
06aug96 mchw	var.for -- Dimension wideband variables MAXWIDE.
16aug96 rjs	uvflag.for -- Eliminate definition of MAXWIDE, standardise
		some FORTRAN, increase NSELS.
16aug96 rjs	fits.for -- Added options=nochi for op=uvin.
16aug96 rjs	uvgen.for -- Change phasing convention for circularly-polarised
		feeds.
10jul96 mchw	uvgen.for -- No default for output uv-data file.
16aug96 rjs	uvdat.for -- Changing phasing convention for circulars, and
		support stokes=qq and uu for circulars.
21aug96 nebk	impol.for -- CHeck for I=0
*********************************** 22aug96 Sent changes to Doug Roberts
23aug96 rjs	calplot.for -- Support plotting multiple sources.
23aug96 rjs	calstoke.for -- Include flux fits of Ott et al, 1995
28aug96 rjs	selfcal.for,gpaver.for -- Minor change to get around
		gcc-related bug. Change care of Dave Rayner.
28aug96 rjs	uvlist.for -- Added options=source.
04sep96 nebk	cgdisp.for --  Remove spurious call to pgsci in subroutine DROVER
05sep96 vjm	immask.for -- Attempt to unmagle documentation.
10sep96 rjs	convl.for -- Eliminate a scratch common.
10sep96 rjs	tvcln.for -- Eliminate common block.
13sep96 rjs	mfclean.for -- Improve check for negative components.
13sep96 nebk	imblr.for -- More messages to user
18sep96 mchw	obspar.for -- Added iram15m array on PdB.
23sep96 rjs	uvgn.for -- Mark some memory as deallocated after deallocating.
24sep96 nebk	cgdisp.for --  Remove another spurious call to pgsci in DROVER
24sep96 rjs	imgen.for -- Corrected handling of object=shell.
*********************************** 26sep96 Sent changes to Doug Roberts
01oct96 rjs	gpscal.for -- The default now is not to clip.
04oct96 rjs	ephem.for -- Correct error in the leap second table (Error
		pointed out by pjt).
08oct96 rjs	imstat.for,imspec.for -- Correct call to inbox. FORTRAN
		standardisation. Propogate MAXBOXES.
08oct96 nebk	histo.for -- Make accumulation variables double precision
11oct96 rjs	var.for -- Added delra,deldec,pntra,pntdec variables.
11oct96 rjs	prthd.for -- Print delay tracking and pointing RA,DEC.
11oct96 rjs	histo.for -- Increased length of max filename.
16oct96 nebk	cgsubs.for -- RAZEROCG was not testing LONG axes for zero crossing
16oct96 rjs	ellint.for -- Installe Vinces newer version.
*********************************** 16oct96 Sent changes to Doug Roberts
16oct96 rjs	co.for -- Fix error for RA=0 for cartesian coords.
17oct96 rjs	fits.for -- Discard OBSRA and BLANK in op=xyin
17oct96 rjs	ellint.for -- Correct some bugs in 16oct96 version.
*********************************** 24oct96 Sent changes to Doug Roberts
31oct96 nebk	cgpgsubs.for -- Make sure zp=1 in NAXLABCG if only one plane
31oct96 nebk	cgdisp.for -- Make sure krng correct for NAXLABCG call
08nov96 nebk	psrplt.for,psrfix.for -- Increase number of pulsar bins to 32.
18oct96 rjs	uvindex.for -- Don't output a line when just DRA/DDEC change.
14nov96 nebk	imspec.for -- Make crpix double instead of integer
21nov96 rjs	ellint.for -- Re-install Wilfred's version.
22nov96 rjs	uvio.c -- Minor enhancment to planet flux scale correction
		for spheroidal planets.
22nov96 rjs	atlod.for -- Reset median-based flaggers after a scan
		change.
26nov96 rjs	moment.for,xpeak.for -- Increase max length of input
		and output filenames.
*********************************** 28Nov96 Sent changes to Doug Roberts
15oct96 rjs	co.for,mostab.for -- Change call sequence to cogeom.
30sep96 rjs	model.for,uvmodel.for -- Major clean up and improved polarisation handling.
01oct96 rjs	selfcal.for,gpscal.for -- Major tidy up.
28nov96 rjs	imstat.for,imstat.h -- Include nebk and mhw enhancements of
		imspec to imstat.
01dec96 nebk	cgslice.for -- 'absnat' and 'relnat' offered twice
02dec96 rjs	fft.for -- Better header.
02dec96 rjs	imfit.for -- Print ra and dec in the fitting messages.
04dec96 rjs	demos.for -- Eliminate debugging statement.
05dec96 rjs	uvfstats.for -- Added options=unflagged.
05dec96 rjs	atlod.for -- Write pointing centre RA/DEC if possible.
05dec96 rjs	tvdisp.for -- Improve delay logic in movie sequence.
06dec96 rjs	telepar.for -- Print height of observatories.
10dec96 rjs	psrfix.for -- Check that nbin is present.
12dec96 rjs	imfit.for -- Fit bug in enhancement introduced on 2dec.
12dec96 rjs	gpplt.for -- Plotting the times when there was flagging was wrong.
12dec96 rjs	psrfix.for -- Fix bug which copied the variables at the
		wrong time.
13dec96 rjs	offaxis.for -- Better checks and error messages.
13dec96 rjs	miriad.h -- User-level header file.
13dec96 rjs	imgen.for -- Increase max number of objects.
16dec96 rjs	fitsio.for,fitsio.h -- Improve compliance with FITS tables.
		Increase max number of table columns.
17dec96 lss	fitsio.for -- Change ftabget routines to handle reading a
		row at a time
17dec96 rjs	fitsio.for -- Changes to accomodate the above.
17dec96 rjs	obspar.for -- Improved positions for ATNF sites -- care John
		Reynolds.
18dec96 nebk	impol.for -- Fractionl polarization error was wrong. Needed
		  to be multipled by the fractional polarization. Damn it.
06jan97 rjs	uvdat.for -- Handle chi variable missing -- assume its 0.
06jan97 rjs	convol.for -- Better output header.
06jan97 rjs	tvinit.for -- Increase max length of the "server" variable.
*********************************** 06jan97 Sent changes to Doug Roberts
07jan97 rjs	mapper.for -- Fiddle memory conservation algorithm.
08jan97 rjs	uvindex.for -- Added options=mosaic
10jan97 rjs	maths.for -- Handle 5th axis correctly.
16jan97 rjs	imcat.for -- Added "axis" keyword, get it to work on images
		with arbitrary number of axes. Some tidying.
*********************************** 23jan97 Sent changes to Doug Roberts
23jan97 nebk	cgdisp.for -- Was getting vector scale factors in a tangle if first
		 subplot was blanked
31jan97 rjs	gpbreak.for -- Fix "feeds" keyword, which never could have
		worked.
07feb97 rjs	miriad.h -- Correct some minor errors and add Const
		to many suroutine arguments.
07feb96 rjs	boxes.for,maxen.for,clean.for,mfclean.for,tvcln.for -- Make
		the region to deconvolve default to the largest safe region.
10feb96 rjs	uvio.c -- Doc comments only.
10feb96 rjs	atlod.for -- Better error messages. Some improvement in
		robustness.
10feb97 rjs	uvaver.for -- Improve averaging in the face of bad, out-of-sequence
		data.
11feb97 rjs	im2uv.for -- New task: Generate uv dataset from an image by
		just FFTing the image and writing a pseudo vis dataset with
		a cartesian uv plane sampling pattern.
13feb97 nebk	cgpgsubs.for, cgdisp.for, cgcurs.for, cgslice.for -- Finally
		bit the bullet and gave them keyword "3format" for options=3val
		labelling format.  I admit defeat.
13feb97 rjs	log.for,log.h -- General tidy.
13feb97 rjs	mbanal.for -- Interactive analyse visibility spectra
13feb97 rjs	uvio.c -- Doc only
13feb97 rjs	uvlist.for -- Paging prompt
13feb97 rjs	uvcal.for -- Fortran standardisation.
14feb97 rjs	uvplt.for -- Honour users nxy parameter even with options=nobase
19feb97 rjs	selfcal.for,selfcal.h -- Improve some messages.
19feb97 rjs	key.for -- Robust to spaces in .def files!
25feb97 rjs	gpedit.for -- General tidy up. Added options=amp,phase.
26feb97 rjs	gpedit.for -- Fix "feeds" keyword, which never could have
		worked.
26feb97 rjs	blflag.for -- Fix bug in the dimensioning of ltemp variable.
27feb97 rjs	mossdi.for -- fix glaring bug in the default for clip!
*********************************** 27feb97 Sent changes to Doug Roberts
28feb97 rjs	mossdi.for -- Added options=positive.
28feb97 nebk	imfit.for -- Add object name to output
28feb97 nebk	histo.for -- Add object name to output
01mar97 rjs	ephem.for -- Include the leap second in July97.
05mar97 rjs	gpbreak.for -- Check for delays in gain table.
05mar97 nebk	uvglue.for -- Glue channels together into a multi-channel file
06mar97 rjs	ellint.for -- Add options=natural to use natural units.
07mar97 rjs	moment.for -- Improve a message.
10mar97 rjs	clean.for,maxen.for,tvcln.for,mfclean.for -- Default region
		to deconvolve is all planes -- error introduced 29 January.
10mar97 nebk	uvglue.for -- Handle multiple channels in input file
*********************************** 12mar97 Sent changes to Doug Roberts
14mar97 rjs	fitsio.for,fitsio.h -- Improve compliance with FITS binary
		table format. Support complex datatypes in binary tables.
14mar97 rjs	prthd.for -- Recognise the units of time.
15mar97 rjs	imcomb.for -- Handle up to MAXIN (not MAXOPEN) inputs.
16mar97 rjs	blcal.for -- New task. Baseline-based calibration.
17mar97 rjs	blcal.for -- Improve functionality, documentation, etc.
18mar97 rjs	uvfit.for -- Handle autocorrelations, multiple files,
		and give better message.
18mar97 rjs	uvlist.for -- Consistently write output to the log file.
18mar97 rjs	hio.c -- Eliminate alignment requirement.
18mar97 rjs	uvio.c -- Plug a small memory leak (found by debug_malloc).
18mar97 rjs	fitsio.for -- Eliminate checks for alignment violation.
19mar97 rjs	maskio.c,miriad.h,sysdep.h,wrap.f2c -- Handle translation of
		FORTRAN logicals into C better. Some tidying.
21mar97 rjs	ephem.for -- Added routine llh2xyz.
21mar97 rjs	hio.c -- Make some dynamic memory allocations static.
21mar97 rjs	fitsio.for -- Support writing of binary tables.
21mar97 rjs	fits.for -- Write antenna table.
24mar97 rjs	regrid.for -- Warn when there is a blanking mask.
24mar97 rjs	uvedit.for -- Copy calibration tables to the output.
25mar97 rjs	maxen.for,clean.for -- Cope with planes that are constant.
25mar97 nebk	cgdisp.for -- Add keyword COLS1
26mar97 rjs	mostab.for,mostab.h,pb.for -- Better support for "pbtype"
		encoding of primary beam.
*********************************** 27mar97 Sent changes to Doug Roberts
01apr97 nebk	cgdisp.for -- DOn't write overlay ID if overlay off image
02apr97 rjs	imlist.for -- General tidy up.
07apr97 rjs	offaxis.for -- Improve S-band fits, and include L-band fits.
11apr97 rjs	si.for -- added sinc function.
11apr97 rjs	modp.for,modp.h -- Routines to compute ATCA visibilities,
		including the effects of bandwidth and time smearing.
13apr97 rjs	pops.for -- Print Julian and modified Julian day.
15apr97 rjs	cgpgsubs.for -- Get lag3cg to handle axes of type "ANGL".
24apr97 rjs	offpol.for -- Produce simple simulations of ATCA off-axis
		polarimetric response.
29apr97 rjs	gpcopy.for -- Give message about the "interval" being used.
21apr97 amh	sfind.for -- added "auto" option, to give user choice of interactive
		flagging of sources or not.
28apr97 amh	sfind.for --  added "negative" option, to give user ability to detect
		negative sources without having to seperately use MATHS.
30apr97 rjs	mostab.for -- Added some comments only.
06may97 rjs	fits.for,ephem.for -- Support apparent coordinates given in
		four source location in op=uvin.
06may97 rjs	blflag.for -- better scaling, help, zoom.
06may97 nebk	avmaths.for -- COmment out the "Including plane .." message
08may97 rjs	fits.for -- Write all keywords in standard format.
11may97 rjs	uvlist.for -- Improve print format for options=array
11may97 rjs	model.for -- Correct sign of Stokes-V model.
12may97 rjs	gpcal.for -- Added options=circular
12may97 rjs	blflag.for,tvflag.for -- Check linetype is compatible with flagging.
12may97 rjs	uvedit.for -- Doc only.
14may97 amh	sfind.for --  fixed bug concerning accidental "exit" button press.
16may97 jm	tvcln.for -- Changes to accomodate new ctrl/xpanel stuff.
20may97 mchw	obspar.for -- Added cso,jcmt, updated hatcreek
20may97 jm	xmtv/*,xpanel/* -- rjs updated various changes to these that Jim
		had made over some time.
*********************************** 22may97 Sent changes to Doug Roberts
06jun97 nebk	maths.for -- Handle 6th and 7th axis.
10jun97 rjs	gpplt.for -- Correct spelling of "amplitude".
10jun97 rjs,mchw ellint.for,pbplot.for,planets.for,pops.for -- Standardise to
		"telescop" keyword.
*********************************** 10jun97 Sent changes to Doug Roberts
10jun97 mchw	obspar.for -- Add more Hat Ck parameters.
10jun97 mchw	telepar.for -- Standardise to "telescop" keyword.
10jun97 rjs/mchw velplot.for,velplot.h -- Use memAlloc, and maxdim.h
08jun97 rjs	uvindex.for -- Fix bad error message.
*********************************** 10jun97 Above items were transferred by Mel
12jun97 nebk	imcat.for -- Copy header items for axis 6 and 7
19jun97 rjs	uvredo.for -- Eliminate jupaxis business.
19jun97 rjs	uvmodel.for -- Support point source models of different
		polarisation type.
20jun97 rjs	invert.for -- Correct handling of multiple stokes parameters in slopintp.
21jun97 rjs	mosmem.for -- Added Marc Pound's changes.
21jun97 nebk	imrm.for --Was plotting garbage on some platforms if
		  some output points were blanked.  Also in hedinfo
		  rdhdd was being called with default real arg.  Grr.
23jun97 rjs	gpcal.for -- Get options=nopol,qusolve where there is a
		pre-existing leakage table right.
20may97 rjs	gpboot.for -- Get xy phase wraps right and print out the
		xy phase being applied.
24jun97 rjs	maxen.for,mfclean.for,mosmem.for,clean.for -- Correct call
		to alignini -- which was causing a spurious message.
24jun97 rjs	obspar.for -- Correct height of ATCA.
24jun97 rjs	gpedit.for -- Added options=reflect
26jun97 rjs	uvgn.for -- Fix channel numbering when there are multiple
		windows and the bandpass function is being averaged.
*********************************** 26jun97 Sent changes to Doug Roberts
27jun97 rjs	transfix.for -- New task -- correct ATCA transit problem
		for sources near DEC=-30.
30jun97 rjs	moment.for -- Make 0th order moment in units of .km/s.
02jul97 rjs	fits.for,co.for,co.h -- Support cellscal keyword.
02jul97 rjs	avmaths.for,clean.for,conterr.for,convol.for,demos.for,
		fft.for,imcat.for,imcomb.for,imfit.for,imgen.for,imheq.for,
		imhol.for,impol.for,impoly.for,imrm.for,imsub.for,linmos.for,
		maths.for,maxen.for,mosmem.for,mossdi.for,mostess.for,
		odnh3.for,pcsub.for,reorder.for,restor.for,shifty.for,
		smooth.for,tvcln.for,velcolor.for,views.for,xpeak.for,
		zeeeta.for,zeemap.for -- Cellscal change and update header
		copying somewhat.
02jul97 rjs	headcopy.for -- Cellscal change.
04jul97 rjs	mfplan.for -- Added "fixed" keyword.
07jul97 rjs	co.for,co.h -- Treat "epoch" and "obstime" as part of the
		coordinate specification. Add coGetd. Improve coVelSet. Support
		gls projection.
07jul97 rjs	mostab.for,zed.for,pb.for,boxes.for -- Changes for the above.
07jul97 rjs	demos.for,velsw.for,invert.for,im2uv.for -- Changes for the
		above.
07jul97 rjs	fits.for -- improved handling of EPOCH/EQUINOX and pointing
		parameters.
08jul97 rjs	fits.for -- fixes to the above!
09jul97 rjs	co.for -- Improved error message.
09jul97 rjs	boxes.for -- Correctly handle case of ANDing fully blanked
		planne.
11jul97 rjs	obspar.for -- Correct sign of longitude for IRAM15M, CSO, JCMT.
11jul97 rjs	regrid.for -- Complete rework of this program.
11jul97 rjs	ephem.for -- Added fk45z and fk54z from slalib.
12jul97 rjs	fits.for -- Added options=nod2.
14jul97 rjs	uvedit.for -- Correct loading of nspect, etc, when needed.
14jul97 rjs	co.for -- Correct bug in new covelset.
14jul97 rjs	imgen.for -- Increase max number of objects and check when
		there are too many objects.
15jul97 rjs	align.for -- Make alignini less fussy about the 3rd axis.
15jul97 rjs	immerge.for -- New task. Linear merge of two images.
16jul97 rjs	fits.for -- Added options=compress.
16jul97 rjs	ephem.for -- Added subroutine azel.
17jul97 rjs	cosubs.for -- Eliminate calls to rdhd, and just depend on
		the coordinate object.
17jul97 rjs	impos.for -- Make this work for vis datasets as well.
18jul97 rjs	imsub.for -- Correct handling of complex regions when incr != 1.
18jul97 nebk	cgdisp.for -- Correct documentation about mask file.
21jul97 rjs	co.for -- Added cogeta, coseta. More robust to bad freq axes.
21jul97 rjs	regrid.for -- Added options=offset,noscale.
21jul97 rjs	pcvt.for -- New subroutine. Extracted from regrid.
21jul97 rjs	cgdisp.for,cgcurs.for,cgspec.for,cgslice.for -- Fiddles with
		calls to initco/finco.
21jul97 rjs	imcomb.for -- Better handling of alingment, and fix bug
		related to flagging mask.
22jul97 rjs	regrid.for -- Fix bug related to with sub-imaging.
22jul97 rjs	pcvt.for -- Support equatorial/galactic and epoch conversion.
23jul97 rjs	pcvt.for -- Correct order of epoch and system conversion.
23jul97 rjs	prthd.for -- Print galactic and ecliptic coordinates in decimal
		form.
23jul97 rjs	cotra.for -- General clean up.
23jul97 rjs	headcopy.for,var.for,atxy.for,imgen.for,avmaths.for,clean.for,
		conterr.for,imcat.for,imcomb.for,imfit.for,imheq.for,impol.for,
		imrm.for,linmos.for,maths.for,maxen.for,mfclean.for,mfspin.for,
		mosmem.for,mossdi.for,mossen.for,mostess.for,prthd.for,
		reorder.for,restor.for,smooth.for,uvsplit.for,velcolor.for,
		xpeak.for,convol.for -- Added the copying/treatment of
		pbtype item/variable.
23jul97 rjs	transfix.for -- New, improved equations for pointing model,
		care mjk.
*********************************** 25jul97 Sent changes to Doug Roberts
25jul97 rjs	string.for,key.for -- Better treatment of quoting and better
		handling of .def and @ files.
25jul97 rjs	itemize.for -- Get rid of announcement header.
28jul97 rjs	mfcal.for -- Make options=delay more robust.
28jul97 rjs	modp.for -- Delay centre variables should be delra,deldec.
29jul97 rjs	closure.for -- Support closure amplitude.
30jul97 rjs	cotra.for -- More RA precision, and added epoch keyword.
30jul97 rjs	blcal.for -- Added options=nopassol.
31jul97 rjs	cgcurs.for -- Simplify calls to initco,finco.
31jul97 rjs	mfcal.for -- Make it work for wide-only files.
31jul97 rjs	prthd.for -- Use maxdim.h.
*********************************** 31jul97 Sent changes to Doug Roberts
01aug97 rjs	fits.for -- Make variables for dates longer.
01aug97 rjs	itemize.for -- Added wildcard support.
01aug97 rjs	prthd.for -- Better format for bmaj,bmin
01aug97 rjs	gpedit.for -- Added options=zmean.
01aug97 rjs	mosmem.for -- Make it more robust in the face of poor
		defaults.
04aug97 rjs	linmos.for -- Doc change only.
05aug97 rjs	fits.for -- Make treatment of EPOCH keyword more robust.
05aug97 rjs	regrid.for -- Give messages about what is happening with
		equinox conversion.
07aug97 rjs	cotra.for -- Correct usage of epo2jul.
11aug97 rjs	closure.for -- Minor improvements.
11aug97 rjs	gaupar.for -- More robust when beams are perfectly circular.
12aug97 rjs	calc.for -- Know pi
12aug97 rjs	fft.for -- Drop -NCP projection in some circumstances.
12aug97 rjs	blcal.for -- Fix bug introduced on 31jul, and improve
		polarisation handling.
19aug97 rjs	uvspec.for -- Added axis=lag
19aug97 rjs	gpcal.for -- options=vsolve and change to normalisation.
21aug97 rjs	cgdisp.for -- Call initco earlier for type=box
21aug97 rjs	psrplt.for -- Count the number of good correlations.
21aug97 rjs	sfind.for -- Call initco earlier.
22aug97 rjs	fits.for -- More robust. Put all unknown keywords into history.
22aug98 rjs	calflux.for -- Somewhat better printing.
25aug97 rjs	selfcal.for -- Correct summing of weights in "merger"
25aug97 rjs	linmos.for -- Better doc and an extra error message.
25aug97 rjs	tin.for -- Text file input handling subroutines.
25aug97 rjs	uvgen.for -- Tidy up. Free-format input of text files. Some
		better defaults. Some change to handling of "corr" files.
*********************************** 29aug97 Sent changes to Doug Roberts
08sep97 rjs	pops.for -- Use ephem's azel.
08sep97 rjs	tin.for -- Improved error message.
09sep97 rjs	regrid.for -- Added options=nearest
11sep97 rjs/jm	julday.for -- Added "caljul" and generalised the routines
		to support new IAU formats.
10sep97 rjs	refract.for -- Routines to calculate the complex
		refractivity of air (dry and wet).
15sep97 rjs	uvio.c -- Fix pointing selection.
*********************************** 15sep97 Sent changes to Doug Roberts
10sep97 mchw	velplot.for,velplot.h -- Upgraded, Report absolute positions
		with cursor. Fix new bug at exactly 45.0 position angle.
05sep97 mchw	pb.for -- Change lower freq for HATCREEK to 24 GHz.
17sep97 rjs	demos.for -- Doc change only.
21sep97 rjs	fits.for,fitsio.for -- Replace julfdate,fdatejul with julday,dayjul
25sep97 rjs	refract.for -- Minor changes.
25sep97 rjs	julday.for -- Added subroutine julcal.
*********************************** 25sep97 Sent changes to Doug Roberts
26sep97 rjs	model.for,uvmodel.for -- Re-added mhw's "zero" option.
30sep97 rjs	hio.c,hio.h -- Correct initialisation of ntree and bump
		up the max number of open files.
09oct97 rjs	uvgen.for -- fix error in generating spectral datasets
		(introduced 7 weeks ago).
09oct97 rjs	uvaflag.for -- Do back to the drawing board and improve
		program.
09oct97 rjs	tvflag.for -- Handle width parameter which is not 1.
09oct97 rjs	uvio.c -- Add check for restfreq==0 when converting to
		velocity.
10oct97 rjs	uvaver.for -- Eliminate bad call to uvvarcopy just before
		final buffer flush (when time averaging).
10oct97 rjs	blflag.for -- Added options=rms
10oct97 rjs	uvstat.for -- General tidy up.
13oct97 nebk	mfplan.for -- Add 210m array and colours
15oct97 rjs	co.for,uvio.c -- Minor correction to the definition of "felocity"
22oct97 rjs	uvio.c,select.for -- Change form of "on" selection.
23oct97 rjs	uvaver.for -- Do not average across changes in the "on" variable.
*********************************** 23oct97 Sent changes to Doug Roberts
29oct97 rjs	imgen.for -- Check that point source lies within the image.
29oct97 rjs	tin.for -- tinLen was terribly flawed ... fix it.
23oct97 mchw	imgen.for -- Add comet model for parent molecule.
31oct97 rjs	uvspec.for -- Use colours in the plot label.
02nov97 rjs	tin.for,tin.h -- Added a few options, settable in the tinopen
		call.
02nov97 rjs	uvgen.for -- Change in call sequence to tinpoen.
10nov97 rjs	impoly.for -- Handle 2d images correctly. Somewhat better
		documentation.
10nov97 rjs	cosubs.for -- Make ctypeco robust to lack of ctype value.
10nov97 rjs	co.for -- The routines use pixel coordinates as the
		physical coordinates if there is nothing better already there.
10nov97 rjs	cgpgsubs.for -- Make it more robust to things missing from
		the header.
12nov97 rjs	imhist.for -- Add 's' flag to boxset call.
26nov97 bmg	psrplt.for -- Added log keyword.
*********************************** 28nov97 Sent changes to Doug Roberts
28nov97 rjs	hio.c -- Make it work for text files missing a final newline.
28nov97 rjs	gpnorm.for -- Add more decimal points to the printout.
28nov97 rjs	mosmem.for,mossdi.for -- Increase max number of boxes.
03dec97 rjs	uvspec.for -- Put back labels that disappeared 5 weeks ago.
05dec97 rjs	convol.for -- Make sure the output is always the same size as
		the input.
09dec97 rjs	uvflag.for -- Make buffer to give "antennas used" message
		longer.
10dec97 rjs	uvgn.for -- Check that the gain table size looks OK.
11dec97 rjs	uvplanet.for -- New task. Perform fiddles on planetary
		visibility data.
11dec97 rjs	gaupar.for -- Support units of Kelvin.
11dec97 rjs	imgen.for -- Make totflux option consistent when there
		is an input image.
16dec97 rjs	imsad.for -- refix the plotting of the cross in the image.
16dec97 rjs	key.for,key.h -- Added keyinic and keyputc. Some tidying.
16dec97 rjs	mbanal.for -- Some enhancements.
17dec97 rjs	qvack.for -- Allow the "interval" parameter to be negative.
17dec97 rjs	ppmtomir.for -- New task. Convert non-raw PPM format to Miriad
		format image.
*********************************** 1jan98 Sent changes to Doug Roberts
02jan98 mchw	uvaver.for -- Increase averaging buffer size to 163840.
06jan98 rjs	qvack.for -- Make changes added on 17 December work!
06jan98 rjs	uvdat.for -- A change in uvlkcorr to sidestep a compiler
		bug in IRIX machines.
07jan98 rjs	qvack.for -- Added options=anticipate, and the interval
		parameter capable of two inputs.
07jan98 rjs	atlod.for -- Print source names after the de-mangling process.
09jan98 rjs	julday.for -- Make it tolerant of dates containing blanks.
09jan98 rjs	model.for -- Break a statement into two to avoid a compiler bug.
*********************************** 05feb98 Sent changes to Doug Roberts
07feb98 rjs	gpboot.for -- Doc change only.
15feb98 pjt	imfit.fir -- More precision in outputing results.
23feb98 rjs	mosmem.for -- Better protection against underflow.
24feb98 rjs	prthd.for -- Use MAXWIDE rather than MAXWIN for number of wide
		channels.
24feb98 rjs	uvgn.for -- Handle applying "bandpass" functions to wide-only
		files.
24feb98 rjs	plotone.for -- Some fortran standardisation.
24feb98 rjs	uvsector.for -- Handle near vertical and horizontal regions
		more robustly.
24feb98 rjs	mossen.for -- Write bunit keyword to the output.
25feb98 rjs	restor.for -- Honour documentation so that a beam is not
		needed with mode=convolve.
25feb98 rjs	gaupar.for -- Fix bug in determining outout "bunit" value, Problem
		introduced in December 98 I think.
05mar98 rjs	uvfft.for -- some FORTRAN standardisation
05mar98 rjs	ratty.c,intf2c.c,velplot.for,noise.for,tv.for,tv.h,oscalls.f2c,
		tcpio.f2c,sysdep.h,doc.c -- Rationalise the names of the different architectures.
*********************************** 05mar98 Sent changes to Doug Roberts
05mar98 rjs	nllsqu.for,lsqu.for -- Broke these into separate files to
		work around a problem on some LINUX systems.
09mar98 rjs	gpplt.for -- Trim down the device spec before passing it
		through to PGPLOT.
11mar98 rjs	uvflag.for -- Some FORTRAN standardisation to appease g77.
11mar98 rjs	imlist.for -- Change a subroutine name to appease g77.
12mar98 rjs	maths.for -- Increase rbuf to allow for more complex expressions.
13mar98 rjs	doc.c -- Eliminate check for pre-existing .doc file.
13mar98 nebk	impol.for -- position angle error was factor of 2 too big
16mar98 rjs	immerge.for -- Added "region" keyword.
17mar98 rjs	mosmem.for -- Added single dish ability, factor parameter and
		options=dofactor.
19mar98 rjs	imgen.for -- Copy across mosaic table.
26mar98 rjs	uvdat.for -- Corrected some comments only.
26mar98 nebk	cgdisp.for -- channel range was wrongly interpreted for line overlays
31mar98 rjs	cgdisp.for -- Honour the cols1 parameter.
02apr98 rjs	avmaths.for -- Increase maxruns.
02apr98 rjs	medfit.for -- New subroutines.
*********************************** 02apr98 Sent changes to Doug Roberts
06apr98 rjs	atlod.for -- Increase the max size of an integration.
21apr98 rjs	fits.for -- Increased max number of antenna configurations.
20apr98 amh	sfind.for -- Various changes to the log file.
23apr98 rjs	cgcurs.for -- Increase size of "bunit" variable.
21apr98 mchw	imfit.for -- more precise Offset position.
27apr98 rjs	imfit.for -- Merged above two sets of changes.
01may98 pjt	log.for -- Check that logopen gets called.
07may98 rjs	atlod.for -- New way of handling jstat.eq.5 returned by rpfitsin.
07may98 rjs	log.for -- Fix to PJT's change.
07may98 rjs	cgslice.for -- Increase size of "bunit" variable.
*********************************** 07may98 Sent changes to Doug Roberts
08may98 rjs	imsad.for -- Do not call logclose unless needed.
*********************************** 08may98 Sent changes to Doug Roberts
11may98 rjs	fitsio.for -- Change it so that NaNs and Infs in floating
		point FITS are always recognised as blanked.
14may98 rjs	atlod.for -- Changes to handle high-time-resolution
		data.
14may96 rjs	clfind.for,clstats.for,clplot.for -- New programs from
		Maryland.
16may98 nebk	cgrego.for -- COnvert regions to overlays
18may98 rjs	cgrego.for -- Fortran standardisation.
18may98 rjs	imspect.for -- Correct velocity axis labelling.
22may98 rjs	uvgen.for -- Include circular polarization handling.
22may98 rjs	gpcal.for -- Turn off xyref on early iterations of weakly polarised
		source.
*********************************** 04jun98 Sent changes to Doug Roberts
16jun98 nebk	cgdisp.for -- FIx problem in posdec2 where ocen2 was of
		size 2 instead of 3. Was stuffing up in w2wco for ellipses.
18jun98 nebk	uvplt.for -- Document nofqav option better
25jun98 nebk	cgdisp.for -- Add Chris PHillip's change to OLAY
		with overlay type 'sym'
*********************************** 02jun98 Sent changes to Doug Roberts
02jul98 rjs	imcfn.for -- Change pbtype declaration to 16 chars.
14jul98 rjs	bug.c -- Add extra caste operation to appease some compilers.
16jul98 nebk	cgdisp.for -- Fix problem when region selected planes were not contiguious
03aug98 rjs	string.for -- Updated matodf and matorf.
03aug98 mchw	velplot.for -- Various enhancements.
03aug98 pjt	clstats.for,clfind.for,clplot.for -- Various enhancements.
04aug98 rjs	velplot.for -- Elimiate mmatod and replace with call to
		string.for matod routine.
04aug98 rjs	uvgen.for -- Loop over "nspect" to retrieve window centre
		frequency and bandwidth.
27feb98 mwp	moment.for -- Added mom=-2 for peak temperature
05aug98 mchw	obspar.for -- Added mount and nants to ovro.
*********************************** 07aug98 Sent changes to Doug Roberts
19aug98 rjs	immerge.for -- Fix bug introduced on 16 March where the first
		plane in the output was the last plane in the selected region
		for factor determination.
19aug98 rjs	uvlist.for - Correct printing of longitude in options=array
19aug98 rjs	fits.for -- Added options=lefty and made the uv writer check obspar
		for observatory latitude/longitude if it was missing
		from the vis dataset.
*********************************** 19aug98 Sent changes to Doug Roberts
19aug98 rjs	gpcal.for -- Changes in ampsol and ampsolxy to avoid an SGI compiler bug
31aug98 rjs	imframe.for -- Correct incorrect default arg in call to rdhdd
		and eliminate flint complaints.
02sep98 rjs	miriad.h -- Added macros of uvgetvr and uvrdvr
02sep98 rjs	immerge.for -- Change a subroutine name to avoid a LINUX
		complaint.
*********************************** 03sep98 Sent changes to Doug Roberts
09sep98 nebk	cgdisp.for -- "sym" overlay ID strings were not being written
		in the right place
09sep98 nebk	cgsubs.for -- RAZEROCG only got it right if the ref value was
		close to zero.	Failed if close to 2pi
17sep98 nebk	cgdisp.for -- Was ignoring color table for hardcopy
15sep98 pjt	fits.for -- Recognise galactic and ecliptic coordinates the right way
24sep98 rjs	pops.for -- Get the telescope elevation limit.
24sep98 rjs	obspar.for -- Added VLA elevation limit.
25sep98 rjs	demos.for -- Less fussy about freq axis for single-plane datasets.
25sep98 rjs	fits.for -- Correct handling of OBSRA and OBSDEC in op=xyin
28sep98 rjs	calplot.for -- Print out flux at central freq.
30sep98 rjs	tangle.for -- Allow plus signs in angles.
*********************************** 01oct98 Sent changes to Doug Roberts
04oct98 rjs	atlod.for -- Extra check for validity of a record.
05oct98 rjs	keyc.c -- Added Jim Morgan's key routines to the ATNF collection.
05oct98 rjs	miriad.h -- Added the key routines to this include file.
12oct98 rjs	uvflux.for -- Changed print format somewhat.
12oct98 pjt	var.for -- Added copying of some BIMA-specific variables.
14oct98 rjs	paraplot.for -- Plot sin(2*chi) as well as cos(2*chi).
16oct98 rjs	var.for --Reduce the number of continuation lines in above
		change to bring it in line with FORTRAN standard.
20oct98 rjs	gaufit.for -- Change to avoid floating underflow in exp() function.
21oct98 rjs	sfunc.for --
07nov97 rjs	uvaflag.for -- Handle multiple templates [A long lost update
		that was accidently never propogated from Narrabri].
21oct98 rjs	sfunc.for -- Significantly enhanced.
22oct98 rjs	uvaflag.for -- noapply option.
27oct98 rjs	imfit.for -- Better format statements.
27oct98 rjs	mostab.for -- Added subroutine mosval.
27oct98 rjs	fits.for -- Look in CD keyword for pixel increment.
*********************************** 06nov98 Sent changes to Doug Roberts
09nov98 amh	sfind.for -- added option 'pbcorr' to correct for primary beam
		attenuation in images, including mosaics. Uses the mosLoad
		and mosVal routines written by rjs.
09nov98 rjs	blflag.for -- Added axis type hangle.
09nov98 rjs	selfcal.for -- Made the rTime variable double precision to
		stop loss of precision in time tags.
11nov98 rjs	gpscal.for -- Made the "Time" variable double precision to
		stop loss of precision in time tags.
19nov98 rjs	uvplt.for -- Minor correction to computation of LST, and
		recompute from scratch the parallactic angle.
19nov98 rjs	doc.c -- Complete rewrite.
20nov98 heb/rjs uvflux.for -- Added options=uvpol to print out linear polarization
		parameters.
20nov98 rjs	fits.for -- Better handling of some projections and also
		handle sky rotation.
20nov98 rjs	co.for,co.h,regrid.for,headcopy.for -- Handling of sky rotation.
25nov98 rjs	regrid.for -- Better handling of sky rotation.
25nov98 rjs	prthd.for,imsub.for -- Handling of sky rotation.
18nov98 mchw	gpedit.for -- Added options=scale.
25nov98 rjs	cgcurs.for -- Fix compaction algorithm again!
25nov98 rjs	fits.for -- Lots of fiddles regarding reading/writing image
		coordinate systems.
30nov98 rjs	maths.for -- Added options=grow, which "grows" of dummy axes
		to the size of other non-dummy axes.
30nov98 nebk	cgsubs.for -- Finally invent a decent algorithm for razerocg
01dec98 rjs	selfcal.for,gpscal.for,uvmodel.for -- More warning messages.
01dec98 rjs	gpedit.for -- Added options=dup.
02dec98 rjs	maths.for,ari.for -- Quadrupled the size of a stack buffer.
*********************************** 03dec98 Sent changes to Doug Roberts
04dec98 rjs	tin.for,tin.h -- Better error messages.
15dec98 rjs	cgsubs.for -- Some tidying.
21dec98 nebk	atmos.for -- The binary was not atmos !  It said it was atmos,
		   version 1.0 from Feb 1996, but I can't work out whatsource
		   that was from.  It gave an error message that did appear
		   to be releavent to atmos.  I pushed MAXSCAL up to 500
		   in atmos.h (arbitary as I don't know what it does)
06jan99 rjs	cgsubs.for -- Yet again another try at a decent algorithm for
		razerocg.
07jan99 rjs	fits.for -- Write dates in new FITS form.
*********************************** 07jan99 Sent changes to Doug Roberts
08jan99 rjs	co.for -- Better handling of sky/grid rotation, and corrections
		to cogaucvt when pixel increments differ and gaussian axis is
		non-zero.
08jan99 rjs	imstat.for,imspec.for -- Change coordinate conversion to use
		the co routines (which also fixes a bug converting RAs).
12jan99 rjs	uvgen.for,blflag.for -- Doc change only.
15jan99 rjs	ephem.for -- Added new leap second.
19jan99 rjs	mosmem.for -- It was failing to access the correct single dish plane!!
20jan99 rjs	mfcal.for -- The frequency assosicated with a channel was
		being incorrectly determined when the line "width" and "step"
		parameters differed.
25jan99 rjs	fitsio.for -- The uv FITS writer was still writing in the old
		date format.
22jan99 rjs	mosmem.for -- Fudge to get the rms noise information to propogate
		through correctly for single pointing work.
27jan99 rjs	invert.for -- Change the default "line" parameter to all
		channels.
29jan99 rjs	mossdi.for -- Fix up a message.
*********************************** 05feb99 Sent changes to Doug Roberts
05feb99 mchw	obspar.for,obspar.h -- Added carma for combined hatcreek
		and ovro arrays.
10feb99 rjs	mosmem.for,maxen.for -- Get measure=cornwell to work by
		setting initial estimate to zero.
15feb99 rjs	pmosmem.for -- New task. Joint deconvolution of MEM polarimetric
		images, including mosaics.
26feb99 rjs	fitsio.for,fits.for -- Changes to be more robust to bad
		dates.
*********************************** 05mar99 Sent changes to Doug Roberts
05mar99 rjs	fitsio.for -- Fix to the above change.
*********************************** 05mar99 Sent changes to Doug Roberts
27jun97 bpw	contsub.for -- add options=verbose
22mar99 pjt	contsub.for -- fixed treating options(2) as integer in boolean expr
23mar99 rjs	imstat.for,imspec.for -- Fix bug in determining region of interest.
12mar99 bpw	convol.for -- Increase size of map/beam/out to 512 to allow directories
27mar99 pjt	headio.c -- make history a static, so nobody can see it :-)
19dec97 bpw	imspec.for,imstat.for -- Add cutoff,lower and options=guaranteespaces
22dec97 bpw	imspec.for,imstat.for -- Add options hanning,boxcar,deriv also to imstat
23mar99 bpw	imspec.for,imstat.for -- Merged bpw updates and rjs updates
07apr99 rjs	imspec.for,imstat.for -- Merge rjs and bpw versions.
09apr99 rjs	blflag.for -- Added an extra error check.
09apr99 nebk	cgdisp.for -- Fix problem with hard copy colour tables
14apr99 rjs	sigest.for -- New task to estimate the variance in an
		image.
21apr99 rjs	psrfix.for -- Allow de-dispersion and bin selection in the
		one run.
28apr99 pjt,rjs mathd.for,pcsub.for -- Increase size of "descr" argument to
		hdprobe.
28apr99 rjs	headio.c -- Check for string buffer overflow.
05mar99 mchw	velplot.for -- added logarithmic contour levels.
*********************************** 06may99 Sent changes to Doug Roberts
14may99 rjs	histo.for -- Increase buffers to hold blanking info.
14may99 rjs	calc.for -- Increase string buffer size.
19mar99 mchw	imgen.for -- Add model isothermal 2D projection for cluster gas.
18may99 rjs	regrid.for -- Handle wrap arounds in the offsets.
27may99 rjs	model.for -- Better check for no visibility data.
*********************************** 04jun99 Sent changes to Doug Roberts
11jun99 nebk	cgcurs.for - some hacks to handle /BEAM or /B and following strings
11jun99 nebk	cgrego.for - handle planes
21jun99 rjs	uvplanet.for -- Added options=replace.
22jun99 rjs	atmos.for -- Tidy up, and change RA/DEC format to standard
		hms/dms format.
24jun99 rjs	uvflux.for -- More sources and cope with longer source names.
30jun99 rjs	imfit.for -- Improved format statement.
*********************************** 02jul99 Sent changes to Doug Roberts
01jul99 rjs	hdtab.for,hdtab.h,invert.for -- Slightly better output
		headers for created images.
07jul99 lss	imgen.for -- Add 3D gaussian model for cubes.
19jul99 rjs	fitsio.for -- Write out EXTVER card in extension tables.
19jul99 rjs	doc2html.csh -- Minor improvements.
22jul99 rjs	mirhelp.csh -- Minor improvements -- direct output to netscape.
28jul99 rjs	hdtab.for -- Always initialise pbtype parameter.
20jul99 rjs	fits.for -- uvout writes AIPS SU tables.
30aug99 rjs	fits.for -- Changed some "PI" to "DPI"
23jul99 rjs	immerge.for -- Taper down the low resolution image to make it
		compatible with the high resolution one. Added shift option.
23jul99 rjs	maxfit.for -- Break out "solve" routine to new subroutine pkfit.for
23jul99 rjs	pkfit.for -- Broke this out of maxfit.for
21jul99 rjs	doc.c -- Improved indenting algorithm somewhat. Added X command.
26jul99 lss	mbspect.for -- New task. Copied "imspect" to "mbspect" for
		HIPASS-specific chores
30aug99 rjs	uvio.c,key.for,keyc.c,selcalf.for,uvflag.for -- Increased
		various buffer sizes.
14aug99 rjs	cgrego.for -- Correct some non-standard fortran
31aug99 rjs	uvio.c -- Correct an error message.
*********************************** 02aug99 Sent changes to Doug Roberts
03sep99 swa	uvplt.for -- Add options=notitle
03sep99 lss	mbspect.for -- pgpt bug when order negative; added rms output line
08sep99 rjs	co.for -- More robust algorithm in comixed.
02sep99 rjs	uvio.c,uvdat.for,keyline.for -- Added average channel
		flagging tolerance.
08sep99 rjs	cgrego.for -- Initialise uninitialised variables.
13sep99 rjs	ephem.for -- Make jullst more robust.
13sep99 rjs	uvspec.for -- Added axis=dfreq
20sep99 pjt	mbspect.for - fixed obvious syntax error - does anybody use flint anymore
23sep99 rjs	uvcat.for -- Fix window selection again!!
28sep99 rjs	fitsio.for -- Change in number of digits printed in fitwrhdd
		to work around GILDAS flaw.
30sep99 rjs	mossen.for -- Make the size of the output equal to the input
		image bounding box (i.e. count blanked pixels).
30sep99 rjs	fft.for -- Change bunit in the output header.
01oct99 vjm	imom.for -- New program: Compute intensity-weighted moment of an image
05oct99 rjs	blflag.for --  Added options=scalar
*********************************** 08oct99 Sent changes to Doug Roberts
12oct99 rjs	imblr.for -- Do not produce output mask.
12oct99 rjs	imbin.for,imsub.for,mostab.for,mc.for,model.for -- Fix imbin
		and imsub to correctly copy mosaic tables. Some tidying in
		mostab.for, which has reprocussions in mc.for, model.for.
12oct99 rjs	gpcal.for,gpscal.for,getxy.for,gpboot.for -- gpcal now attempts
		to honour the flux scale of any input gain table. options=noxy
		has been removed from gpboot. Change in the call sequence to
		getxy.for, with corresponding change in gpscal.for
17oct99 rjs	headcopy.for -- Copy mostable.
22oct99 rjs	clean.for -- Doc change only.
23oct99 pjt	contsub.for,gpaver.for -- Initialisation problems in LINUX.
24oct99 rjs	noise.for -- Initalisation problems in LINUX.
27oct99 rjs	imspec.for,imstat.for -- Get first axis label correct.
28oct99 rjs	mostab.for -- There was a bug which caused a fractional pixel
		shift error.
*********************************** 28oct99 Sent changes to Doug Roberts
05mar99 bpw	headcopy.for -- real->double for last argument fixed call to rdhdd
01nov99 lss	mbspect.for -- Minor improvements.
*********************************** 04nov99 Sent changes to Doug Roberts
12nov99 rjs	fits.for,fits.h -- options=varwt and better history comments
		in output FITS files.
*********************************** 23nov99 Sent changes to Doug Roberts
07dec99 rjs	imdiff.for - Fix writing of history for "adjust" image.
*********************************** 06jan00 Sent changes to Doug Roberts
10jan00 rjs	imgen.for -- Added "seed" keyword.
23jan00 rjs	gaufit.for -- Change some subroutine args to real-valued.
27jan00 rjs	moslst.for -- New task. Reworked/renamed version of lmclst.
28jan00 rjs	gaufit.for -- Standardise FORTRAN.
05jan00 rjs	plproc.for,plproc.h -- Planetary subroutines.
*********************************** 03feb00 Sent changes to Doug Roberts
07feb00 rjs	gethd.for -- Added "format" keyword.
29feb00 rjs	psrplt.for -- mode keyword.
07feb00 rjs	planets.for -- Print out SysI and SysII for Jupiter
*********************************** 03mar00 Sent changes to Doug Roberts
10mar00 rjs	uvplt.for -- Set maxbase2=91.
15mar00 rjs	blcal.for -- Change in meaning of options=nopolsol
21mar00 rjs	fitsio.for,fitsio.h -- Handle FITS vis files with freq before
		pol axis.
22mar00 rjs	mc.for -- Protect against convolving up to something larger than
		MAXDIM.
22mar00 rjs	gpscal.for -- Relax implicit assumption that XX/YY much stronger
		than RL/LR.
28mar00 rjs	uvplt.for -- Correctly handle colour indices when there are more
		than 12 inputs.
31mar00 rjs	obspar.for -- Added SEST/
*********************************** 07apr00 Sent changes to Doug Roberts
30mar00 lss,vk	hanning.for -- Adapted from hanning to include boxcar
05apr00 mchw	velplot.for - specify RA and DEC cuts with a range and increment.
07apr00 rjs	key.for -- Check for file existence in keyf.
11apr00 rjs	fits.for - uvout was always writing multi-source files
		(incorrectly).
03may00 rjs	atjones.for -- Strip out common subroutine from offpol and offaxis,
		and support C and X band data.
03may00 rjs	offpol.for -- Several minor enhancements including support for
		C and X band.
03may00 rjs	offaxis.for -- Support for C and X band.
04may00 rjs	uvplt.for -- Relax requirements for lat/long variables in the
		header.
*********************************** 05may00 Sent changes to BIMA
08may00 rjs	hanning.for,cgcurs.for,colden.for,gaufit.for,impoly.for,
		psrplt.for,cgdisp.for,contsub.for,imblr.for,imtab.for,uvedit.for
		cgslice.for,imcfn.for,pcsub.for,uvwide.for -- Change incorrect
		call of keyf to a call to keya.
09may00 rjs	pb.for -- Check in pbExtent that the extent of the primary beam
		is well-defined.
09may00 rjs	uvgen.for -- Output primary beam type even when its not
		simulated. Tidy up documentation of pbfwhm.
09may00 rjs	hdtab.for -- Make there no default image size for pbtype=SINGLE
09may00 rjs	hio.c - Eliminate spurious error messages eminating from hrm_c.
09may00 rjs	regrid.for - Make sure the max output size is no larger than
		MAXDIM.
10may00 rjs	fits.for -- Increase size of descr buffer in call to hdprobe.
17may00 mchw	uvgen.for -- allow for saturated spectral absorption model.
18may00 rjs	uvgen.for -- Merge mchw and rjs versions of uvgen.for
19may00 rjs	impos.for -- Make default "type" abspix.
*********************************** 01jun00 Sent changes to BIMA
11jun00 rjs	atlod.for -- Include pmps switch. More robust to bad number
		of channels etc in RPFITS file. Increase buffer space.
14jun00 rjs	reorder.for -- Copy across llrot keyword.
13jun00 rjs	uvindex.for -- Handle blank source names somewhat better.
16jun00 rjs	uvio.c -- Handle bad antenna numbers somewhat better.
16jun00 rjs	select.for -- Check for bad antenna numbers in selection.
04jul00 rjs	noise.for -- Changes to be more robust to bad computer
		rounding.
*********************************** 06jul00 Sent changes to BIMA
11jul00 rjs	regrid.for - Added "rotate" keyword, and eliminate "norot"
		option.
13jul00 rjs	moment.for - Copy across llrot.
13jul00 rjs	cgdisp.for -- Plot beam correctly when there is a rotation of
		the pixel grid.
13jul00 rjs	assert.for -- Use hexists rather than FORTRAN INQUIRE
		to check for file existence (and to avoid Digital UNIX bug).
17jul00 rjs	attsys.for -- Apply or unapply ATCA Tsys correction.
27jul00 nebk	impol.for -- position angle error was factor of 2 too big in a second
			     place.  grrr.
28jul00 rjs	select.for -- Change on 16-Jul was buggy and could give spurious
		error messages ... correct it.
*********************************** 04aug00 Sent changes to BIMA
07aug00 rjs	zapchan.for,vblank.for,uvputhd.for -- Updated from BIMA.
14aug00 rjs	mfclean.for -- Added output log file.
14aug00 rjs	model.for -- Re-include external sources.
25aug00 nebk	imrm.for -- bump to 20 images.	subroutine chkdes should not
		  be checking cdelt/crpix on frequency axis
28aug00 rjs	clean.for - Increase max complexity of region-of-interest.
05sep00 rjs	uvedit.for -- Change some code to double precision to avoid
		rounding problem.
*********************************** 08Sep00 Sent changes to BIMA
08sep00 rjs	mfflat.for -- Make sure that the "freq0" item is always there.
11sep00 rjs	offaxis.for - Correct bug introduced in July.
14sep00 rjs	boxes.for - Make sure that coordinate file can only be an
		image.
21sep00 rjs	tvclip.for -- Added options=nosrc
25sep00 rjs	tvclip.for -- Doc change only.
25sep00 rjs	uvplt.for -- Correct code dealing with uvangle.
03oct00 rjs	imcomb.for -- Output image can be arbitrarily large.
04oct00 rjs	fits.for -- Output image can be abitrarily large.
*********************************** 06oct00 Sent changes to BIMA
10oct00 rjs	boxes.for - Fix bungle in the above.
17oct00 rjs	maths.for -- Added options=unmask
18oct00 rjs	noise.for -- Setting the seed was not working on "vms-style"
		machines (e.g. LINUX).
20oct00 rjs	closure.for -- Print out number of points.
27oct00 rjs	basant.for,uvio.c,select.for - Generalisation in baseline
		numbering convention to allow Miriad to support up to 2047
		antennas.
27oct00 rjs	uvgen.for -- Call antbas subroutine to compute baseline
		number for a particular antenna pair.
01nov00 dpr	fits.for -- Change CROTAn to AIPS convention for xyout
08nov00 dpr	imbin.for -- Make 3-axis bin specs unnecessary for 2-D
		images.
09nov00 dpr	psrfix -- handle (+n,-n) in binsl
15nov00 dpr	gaufit -- keyf bugfix
27nov00 dpr	fits --  fix stokes convention for xyin
08dec00 dpr	immask -- doc only
14dec00 dpr	imhist -- added xrange key
03jan01 dpr	mirexport.pl -- users can generate their own updates
03jan01 dpr	ellint -- allow radii with non-integral number of steps
*********************************** 04jan01 Sent changes to BIMA
08jan01 rjs	gpscal.for - Fix buggy error message.
08jan01 dpr	tidy up scripts
10jan01 rjs	uvplt.for - Plot axes of az, el and lst.
12jan01 dpr	linux/mirclnk - forced removal of files
16jan01 dpr	bugfix mirexport.pl
17jan01 rjs	uvplanet.for -- Handle large shifts of the planets and
		limb darkening models.
17jan01 rjs	nswc.for -- Included a few more subroutines.
18jan01 dpr	cgslice - add third labtyp
20jan01 rjs	uvplt.for - Change default number of potential baselines
		to plot to allow for possible presence of autocorrelations.
21jan01 rjs	uvplanet.for - Protect the limb darking calculation from
		zero spacings.
30jan01 rjs	closure.for - Get it to work for polarization parameters other
		than the parallel hands.
02feb01 rjs	varplt.for -- Added options=equal.
04feb01 rjs	opcal.for,opplt.for - New tasks to correct for and to
		plot atmospheric opacity and sky brightness.
04feb01 rjs	planet.for,calred.for - Removed subroutine pltbs from
		calred, and included it in the subroutines planet.for.
04feb01 rjs	plplt.for -- New task. Plot the visibility function of
		a planet.
05feb01 rjs	string.for - Various tidying. Added subroutines stcat,streal.
05feb01 rjs	gperror.for - Use basant routine.
05feb01 dpr	opplt.for - update doc and error messages
05feb01 rjs	plboot.for - New task. Flux bootstrapping program, using
		planets as calibrators.
14feb01 rjs	lagflg.for - New task. Flag bad lags in the lag spectrum.
14feb01 dpr	cgdisp.fr - Add beamtyp keyword
15feb01 dpr/pjt moment.for - Add rngmsk keyword
16feb01 dpr	co.for - Increase MAXITERS in comixed
27feb01 dpr	cgdisp.for - Add scale-bar
28feb01 dpr4tao calstokes - Changed values for 3C48 and 3C147
02mar01 rjs	mirhelp.csh - Make it compatible with more systems.
02mar01 rjs	opcal.for - Label some of the output better.
02mar01 rjs	uvplt.for - Able to plot airmass.
03mar01 rjs	planet.for -- Improved brightness temperature functions for the
		planets.
15mar01 dpr	psrbl.for - New task for pulsar off-bin subtraction.
05apr01 dpr	fits.for Add region key for op=xyout
10apr01 dpr	atlod.for - handle correlator UT day rollover bug
11apr01 dpr	iffix.for - New task. Adapted from transifx.
24apr01 rjs	opplt.for,dsdplt.for,opcal.for,refract.for -- Change (improve)
		"standard" model of the atmosphere. Put this model into
		refract.for and get opplt,dsdplt,opcal to call this routine.
03may01 rjs	psrplt.for -- Add mode=phase
10may01 dpr	fits.for - change options dss to rawdss
10may01 dpr	im2uv.for - doc change only
11may01 dpr	fits.for - check history exists before copying it
11may01 dpr	headio.c - more informative hisopen_c message
14may01 bmg	imbin.for - add options=sum
16may01 rjs	obsrms.for - Copy across MCHW's program.
15may01 dpr	mirimport.csh - make OS specific.
15may01 dpr	mirimport.csh - change alpha to delete files before tar xvf
29may01 dpr	gpcomb - first version
29may01 dpr	gpdof  - first version
07jun01 dpr	gpdof  - finesse output
18jun01 dpr	cgdisp - added blacklab option
19jun01 dpr	smooth - lenghten in and out keys
20jun01 dpr	elevcor - new task
21jun01 dpr	convol - doc change only
21jun01 dpr	smooth - added options=force
26jun01 dpr	fits - relax antenna table input format restrictions
28jun01 rjs	restor.for - Doc change only.
29jun01 dpr	Install - accept version suffixes for dynamic libraries
02jul01 dpr	fits - relax AN table restrictions properly
05jul01 dpr	opcal - re-allow orig met format
31jul01 rjs	planet.for - Improved brightness temperature for
		Mercury
30jul01 rjs	sdip.for - Slightly improved plotting.
08aug01 rjs	sdip.for - Include CMB temperature. Echo theoretical values.
07sep01 rjs	opplt.for - Give log file output.
02nov01 rjs	velocity.for - Change definition of kinematic LSR velocity.
14nov01 nebk	cgsubs.for - Add abs max to min/max vector returned by readimcg
14nov01 nebk	cgdisp,cgcurs,imbin,cgslice,cgspec,sfind - For box type,
		  make sure abs max comes from entire image
17nov01 rjs	sdip.for - Handle new format file (which allows for CA02 and
		more).
19nov01 rjs	uvdiff.for -- Add warning messages if calibration tables
		are found.
20nov01 rjs	planet.for -- Improved model for the brightness temp of Venus
20nov01 rjs	opcal.for - Added "select" and better help.
02dec01 rjs	sdip.for -- Eliminate optically thin approximation.
10feb02 rjs	log.for -- Added subroutine logInput.
10feb02 rjs	mosgen.for -- New task. Generate "mosaic" files.
10feb02 rjs	uvgen.for -- Increased max number of pointings
01apr02 rjs	co.for -- Change to cope with Douglas Bock's problem.
08apr02 rjs	calred.for,closure.for - Allow cube roots of negative
		numbers. Calred prints out number of triples.
16apr02 nebk	imfit.for - print flux error in exponential format
18apr02 sj	psrfix.for - allow fractional bin shifts
18apr02 lss	mbspect.for- Added axis label scaling (csize)
08may02 lss	mbspect.for - Added alternative axis labelling, lengthened in,out,
		  log strings
10may02 rjs	pb.for - Added model for OVRO.
22may02 rjs	pb.for - Improved model for OVRO.
22may02 rjs	atlod.for - Added options=mmrelax
25may02 rjs	atlod.for - Keep track of whether Tsys scaling has been
		enabled.
25may02 rjs	attsys.for - options=auto notes state of Tsys scaling.
06jun02 rjs	elevcor.for - Correct gain/elevation effects.
07jun02 rjs	elevcor.for - New gain/elevation curve at 3mm.
07jun02 rjs	sdip.for - Added support for "dsd234" format.
19jun02 rjs	mosgen.for - Somewhat better mode for atmosaic.
27jun02 rjs	imcomb.for - Better error message.
28jun02 rjs	imcomb.for - options=relax
08jul02 rjs	bug.c - Support for "darwin" OS.
08jul02 rjs	README, scripts/unix/darwin/* - Support for darwin OS
02oct02 rjs	atlod.for - Added options=single.
25oct02 rjs	lagflg.for - Added options=noflag.
08dec02 rjs	uvgen.for - Fix bug related to whether source is up or not.
11dec02 rjs	key.for,key.h - There was a bug reading @ files when
		the filename hashed to a value of 0 in hio.c
17dec02 paj	planet.for - improved model of brightness temperature for
		  Uranus and Neptune
17dec02 tw	Don't die if observing frequency is out of range.
04mar03 rjs	xyio.c - Support "append" status
17mar03 rjs	opcal - Document location of weather files in the .doc section.
18mar03 rjs	mirhelp - Fix order of honouring of -w and MIRPAGER
04may03 rjs	opcal - There was a bug (introduced two years ago) in the matching
		of the time in the weather log (in AEST) with the visibility data
		(in UT).
04may03 rjs	$MIRCAT/dantpos.*, $MIR/specdoc/confighist.doc - Files that millimetre observers
		might consult.
04may03 rjs	opcal.for,uvplt.for,elevcor.for - they could compute an
		erroneous in some circumstances.
04may03 rjs	atfix.for - New task. Rolls into one a number of fudges sometimes
		needed for ATCA data (particularly for millimetre data)
15may03 rjs	atfix.for - Better jyperk values.
16jul03 rjs	atlod.for - Changes to fiddle data for 12mm polarisation.
19jul03 rjs	atlod.for - Changes so that options=mmrelax is now superfluous.
14aug03 rjs	atfix.for - Fix bug causing seg dump.
16aug03 tw	gpedit.for -  Allow gain amplitude selection
17sep03 rjs	atfix.for,elevcor.for - New gain/elevation curve at 3mm.
17sep03 nebk	imsad.for - prevent buffer overlow and program termination
26sep03 nebk	MIRRC.sh - MIRRINC -> MIRINC
03oct02 nebk	uvpflag.for - Rename funciton count to countFlags (compiler warning)
13oct03 rjs	pb.for - Updated 12mm primary beam model.
19oct03 rjs	atfix.for - Update array table.
05nov03 rjs	uvsplit.h - Increase max number of sources.
12nov03 nebk	mbspect.for - Make it compile on alpha (illegal fortran in subroutine pfit)
14nov03 rjs	atfix.for - There was a bug in computing jyperk at bands other than 3mm
07dec03 rjs	atlod.for,atlod.h - Write out met data, pointing error. options=opcorr
07dec03 rjs	atfix.for - Changes to fish met data out of the datafile, where needed.
07dec03 rjs	varplt.for - Include met data, pointing accuracy in its tables.
07dec03 rjs	var.for - Include met data and pointing accuracy in its tables.
07dec03 rjs	dio.c,xyzio.c - Changes to appease machines with 64-bit address range.
07dec03 rjs	weatherdata.doc - Updated!
07dec03 rjs	calstoke.for - High frequency functional form for 1934-638
20dec03 rjs	atmos.for - Get it to work for 2 sources.
29dec03 rjs	fits.for - Make it more robust to ill-constructed CTYPE values.
30dec03 rjs	atlod.for - Doc change only.
15feb04 rjs	atlod.for - Save calcode and input RPFITS filename.
17feb04 rjs	trim.c - Return a status value.
04apr04 rjs	pops.for - Print rise and set LSTs.
06apr04 rjs	mfplan.for - Added array ew214,ew352,ew367
04may04 rjs	calred.for - Handle more antennas.
12may04 rjs	ephem.for - Algorithmic improvement in lstjul routine.
13may04 rjs	opcal.for - Trivial error message correction.
10jun04 rjs	atlod.for - Change to handle projected polarimetry flip at 12mm.
16jun04 nebk	sfind.for - Small change from Andrew Hopkins to imporve rms computation
03jul04 rjs	bug.c,sysdep.h - Change to use strerror routine on LINUX.
03jul04 rjs	atrtfix.for - New task to correct data when the round trip
		system misbehaves.
12jul04 rjs	mc.for - In some instances it would fail to gets the range
		of a subimage to be processed correct! Potentially affects
		mosmem, mossdi, restor and pmosmem
13jul04 nebk	gppltl.for - more sig figs for leakage listing in log file
18jul04 rjs	closure.for - Check for zeros when doing division in quad
		quantities.
25jul04 rjs	atrtfix.for - adjust tolerance.
27jul04 rjs	uvio.c - Relax max antennas limitation in some sections
		of the code. Max antenna number still restricted in the
		"select" code.
30jul04 nebk	Update Install script for libpng for pgplot
08aug04 rjs	calred.for - The algorithm to determine the confusion
		was hopelessly flawed. Correct this.
14aug04 rjs	prime.for - Increase its table of small primes.
16aug04 rjs	uvsplit.for - Various variables were not getting
		copied across.
16aug04 rjs	uvio.c,select.for,select.h - Changes to support selection
		by lst, ha and elevation.
06sep04 nebk	wblod - New task from LSS to load wideband analogue correlator data
		wbplt - New task from LSS to plot wideband analogue correlator data
07sep04 nebk	mosmem.for - Add some words about output information mosmem spits out
17sep04 nebk	wbplt.for - formatting changes
22sep04 rjs	atfix.for,atlod.for,atmerge.for,gpcopy.for,lagflg.for,
		uvaver.for,uvdat.for,uvedit.for,uvgn.for,uvlin.for,uvplt.for,
		uvsplit.for,var.for,atlod.h,uvdat.h, - Various changes to
		better support 3mm observations with the ATCA. In particular
		track effective system gain more thoroughly, uvplt plots some
		extra variables, atlod makes use of some of
		the new info in the RPFITS file [e.g. discards paddling and
		point datatypes].
07oct04 rjs	defsmodl.for - Subroutine to set up the default model for
		determining the sensitivity of visibilities.
26aug04 tw	uvflag.for- allow fractional edge flagging using edge<0
07oct04 rjs	mfcal.for,gpcal.for - Call defsmodl to set up the model used
		for computing visibility variance.
11oct04 rjs	atfix.for - Use 500 Jy for default system temperature when
		applying system temperature correction.
24oct04 rjs	atlod.for - Fix pntra and pntdec bug - always write them out.
02nov04 tw	imcmp.for - Replace keyf with keya for output log file.
06jan05 rjs	uvdat.for - Fix bug introduced on 22 Sep relating to variance
		on some polarisation conversions.
18jan05 nebk	uvfit.for - formatting change from Bryan Gaensler
28jan05 rjs	boxes.for,bug.c,bugwrap.f2c,cgdisp.for,cgpgsubs.for,cgspec.for,
		clean.for,clplot.for,clstats.for,defsmodl.for,dio.c,ellint.for,
		fitsio.for,gaufit.for,getbeam.for,gpedit.for,gplist.for,gpscal.for,
		headio.c,hio.c,hio.h,histo.for,imcmp.for,imframe.for,imgen.for,
		imhol.for,immask.for,immerge.for,impol.for,interface.c,
		invert.for,io.h,keyc.c,maskio.c,mfcal.for,mircadd.csh,miriad.h,
		mm.f2c,moment.for,mossdi.for,nswc.for,obspar.for,oscalls.f2c,
		pack.c,pack.mar,pack.s,packwrap.f2c,pb.for,pb.h,prthd.for,restor.for,
		scrio.c,sfind.for,sysdep.h,tcpio.f2c,telepar.for,title.for,
		tvclip.for,tvcln.for,uvamp.for,uvaver.for,uvdat.for,uvdiff.for,
		uvgetbl.for,uvgn.for,uvio.c,uvputhd.for,uvredo.for,uvsplit.for,
		uvsubs.for,velfit.for,velplot.for,velplot.h,wrap.f2c,xyio.c,xyzio.c,
		xyziowrap.f2c
		* Make changes to support large files (> 2**31 pixels)
		* C header files generally use ANSI prototyping.
		* Merge miscellaneous BIMA enhancements and bug fixes.
		* A few miscellaneous other bug fixes and enhancements.
10mar05 rjs	mosgen.for - Improve documentation. Hadle cases of structural
13mar05 rjs	uvgen.for - Add antenna azimuth and elevation to output dataset.
26mar05 rjs	atmos.for - options=fixed. Minor miscellaneous enhancements.
26apr05 tw	gaupar.for - Default is Kelvin-like scaling rather than no scaling
10may05 rjs	varplt.for - Increase buffer size.
21may05 rjs	pb.for - Updated model for the ATCA primary beam function at 12mm.
26may05 rjs	varplt.for - Include definition of pntra,pntdec.
27may05 rjs	maths.for - Eliminate a redundant statement which was confusing
		the optimiser on Solaris.
04jun05 rjs	fits.for - Some changes to make it more robust to wierdo image
		files.
04jun05 rjs	fitsio.for,wrap.f2c - Changes to help cope better with files
		that are greater than 2 Gbytes in size.
05jun05 rjs	plboot.for - Give the option to plot the planetary data against
		the model.
07jun05 rjs	varmerge.for - New program. Merge in a new variable into a
		visibility dataset.
18jun05 rjs	opplt.for - More space between teh numbers in the log file.
19jun05 rjs	varplt.for - More sig figures in the log file.
23jun05 rjs	pb.for - Added model for 3mm primary beam.
24jun05 rjs	atfix.for - Updated gain/elevation curve at 3mm.
29jun05 rjs	invert.for,mostab.for,hdtab.for,hdtab.h - Changes to allow NCP vs SIN
		projection to be worked out from the data.
29jun05 rjs	uvspec.for,uvspec.h - Use full lmn/uvw to perform shift.
26jul05 rjs	ephem.for - Updated leap second table for 1 Jan 2006.
10aug05 rjs	atfix.for - Horrible bug related to "array" keyword. Subsequent
		shadowing calculation would not have worked.
18aug05 rjs	atfix.for - Include correction for the elevation-dependence
		of CA01 phase.
24aug05 rjs	odnh3 - Corrected bug related to maximum dimension declaration.
27aug05 rjs	uvindex.for - Increase buffer size.
28aug05 rjs	atfix.for - Include correction for the elevation-dependence of CA05
		phase.
18sep05 rjs	contsub.for,dsdcal.for,ellplt.for,gaufit.for,imcmp.for,imdiff.for,
		imsad.for,uvedit.for,zeesim.for,zeestat.for - Correct subroutine argument
		mismatch.
18sep05 rjs	model.for,trnio.for - Correct subroutine argument mismatch.
19sep05 rjs	fits.for - Better defaults for velocities, and more accurate formula.
		Handle OB tables.
20sep05 rjs	fitsio.for - Handle the presence of degenerate tables.
24sep05 rjs	mosgen.for - Handle up to 9999 pointings correctly.
24sep05 rjs	fits.for - Increase max number of sources with op=uvout
31dec05 rjs	refract.for - Correct the handling of CMB brightness temp.
01jan06 rjs	varplt.for - Include definition of reference pointing.
02jan06 rjs	atlod.for - Added options=nopol and nocacal. Save reference pointing.
		Add 8 MHz birdie algorithm. Misc other fixes.
12dec05 rjs	atfix.for - It failed to use the select keyword.
20dec05 rjs	pops.for - Make LST rise greater that 0.
26nov05 rjs	atmos.h - Change to circumvent a compiler bug.
02jan06 rjs	julday.for - General clean up and generalisation of format.
02jan06 rjs	var.for,atxy.for - Include definition of reference pointing var.
02jan06 rjs	mfcal.for - Stokes selection. Weight by variance, push XY phase
		into bandpass, duplicate gains when bandpass dual polarisation
		and gains is single polarisation.
18sep05 rjs	uvlin.for,contsen.for - More rigorously avoid mixed use of arrays.
18sep05 rjs	mirnewer.c,miriad.c - Minor changes for UNIX standardisation.
14jan06 rjs	atlod.for,atlod.h - Be more relaxed about occassional missing
		meteorological records when options=opcorr is given.
15jan06 rjs	mfboot.for - New task, superceding plboot.
19jan06 rjs	mfboot.for - Fix call to subroutine with //char*(*) arg.
19jan06 rjs	mm.f2c - Call mallopt on 64-bit address machines on Linux
19jan06 rjs	imbin.for - Fortran standardisation.
02jul05 rjs	calred.for - Improved error estimate
15jan06 rjs	mfcal.for - Improve weighting.
00sep05 rjs	lagwt.for,lsqu1.for,lsqfit.for,nllsqu.for,uvdat.h - Changes
		to work on 64-bit FORTRAN INTEGER, 32-bit C int.
26nov05 rjs	uvflag.for - Change to avoid compiler bug.
29jan06 rjs	gamma.for - Change in gammln to work around compiler bug.
05feb06 rjs	julday.for - Correct bug in handling time-of-day formats on 2 jan.
29jan06 rjs	atfix.for - Major revisions.
18feb06 rjs	intf2c.c,unix/alpha_linux/pack.c,xyio.c,wrap.f2c,mm.f2c,
		mem.for,xyzio.c,headio.c,xyziowrap.f2c,tcpio.f2c,packwrap.f2c,
		uvio.c,keyc.c,iface.f2c - Changes to support FORTRAN and C integers being different data types.
24feb06 rjs	atfix.for - Fix bug in tsyscal=none and some tidying.
27feb06 rjs	atfix.for - Fix bug when there are multiple frequencies.
13mar06 rjs	mm.f2c - Conditional include of malloc.h, which appears not to
		exist in MacOS.
09may06 rjs	mfboot.for - Increase size of MAXPNT.
09may06 rjs	uvplt.for - Disable planet processing steps.
22may06 rjs	doc.c,ratty.c,flint.c,miriad.c - Change a routine name to avoid a name conflict
		when compiling under Cygwin/Windows.
31may06 rjs	mirhelp.csh - Support mozilla browser.
01jun06 rjs	uvrot.for - New task. Rotate uv coordinates.
01jun06 rjs	plgeom.for - New task. Image a facet on a planet.
01jun06 rjs	co.for,pcvt.for - Added coCvtv routine to check for invalid coordinates. Change
		call sequence of pcvt.for to support this.
01jun06 rjs	imcomb.for,regrid.for - Changes to better support handling large areas of the sky.
16jun06 rjs	unix/dio.c - Add O_BINARY to opening flags for cygwin support.
07jul06 rjs	mfboot.for - Increase buffer size
26sep06 tw/rjs	atfix.for - Apply instrumental phase even when no baseline correction
		is applied.
13oct06 mrc	uvplt.for - Plot time of year.
13oct06 mrc	sfind.for - Named log file.
13oct06 mrc	maxfit.for - Longer file name
27nov06 rjs	headio.c - rdhdd better handles int8 datatypes.
14dec06 mrc	cosubs.for,cgpgsubs.for - Checks for valid coordinates.
30dec06 rjs	trim.c - Simple handling of escape sequences.
01jan07 rjs	fits.for,fitsio.for - Extend baseline numbering convention to handle
		more than 255 antennas. Betterr support for SMA-style Nasmyth mount.
01jan07 rjs	uvlist.for - Simple change to handle more than 100 antennas. Better
		listing of Nasmyth mounts.
01jan07	rjs	headio.c - Extra checks for large integers.
01jan07 rjs	uvgen.for - Somewhat better handling of number of windows.
02jan07 rjs	detab.c,docfmt.c,tcpio.f2c,doc2man.c,ercmd.c,mirnewer.c - Unix
		standardizations (mainly use header files correctly), as suggested
		by Randall Wayth.
08jan07 rjs	uvredo.for - Some changes to better handle the SMA-style Nasmyth
		mount.
08jan07 rjs	var.for - Copy across the variable chi2.
08jan07 rjs	obspar.for - Use "tin" routines to simplify it all.
08jan07 rjs	atfix.for - Small documentation correction.
08jan07 rjs	varplt.for - Include chi2 variable.
08jan07 rjs	uvgn.for,uvgn.h,mfcal.for - Better use of the MAXWIN parameter.
23jan07 rjs	gpplt.for,gpcopy.for - Handle second leakage table.
23jan07 rjs	tmcvt.for,tmcvt.h,tmcal.for,tmgen.for - New software to handle
		time-multiplexed polarisation measurements.
24jan07 rjs	uvrms.for - New task to simply measure the RMS in a visibility
		dataset.
24jan07 rjs	uvlin.for - options=nowin. Get the number of windows to depend
		on MAXWIN.
24jan07 rjs	uvdiff.for - Allow default linetype.
24jan07	rjs	fits.for - More robust to bad antenna tables.
26jan07 rjs	uvspec.for - Adjust size of title to avoid overflow.
26jan07	rjs	fits.for - Fix bug I introduced two days ago!
02feb07 rjs	uvdat.for - Correct call to uvgetvr for 'baseline'
09feb07 jhz	fits.for,fits.h - Set MAXFREQ=MAXWIN so that it can read SMA FITS
08mar07 pjt	fitsio.for - Added support for reading bitpix=-64 images
08aug07 rjs	uvgn.for - Correct bug in averaging wide channels.
07mar09 rjs	grid.for - Correct one of the numbers.
07mar09 rjs	ephem.for - Make the number of days in a Besselian century a 
		double precision quantitiy.
16jan07 jhz	mfcal.for - Declare some subroutines to be external.
13mar09	rjs	ephem.for - Update leap second table
27mar09 rjs	mp.for,mp.h - New routines to do extended precision integer arithmetic.
01apr09 rjs	scrio.c,miriad.h,wrap.f2c - Added scrRecSz routine.
02apr09 rjs	varsizes.c - Added several more datatypes.
03apr09 rjs	uvmodel.for - Fix long-standing bug in options=flag
03apr09	rjs	invert.for,mapper.for - Changes to make use of scrRecSz routine and
		so relax largefile problems.
06apr09 rjs	ellint.for,imcfn.for - Eliminate DO loops which are not integer valued.
